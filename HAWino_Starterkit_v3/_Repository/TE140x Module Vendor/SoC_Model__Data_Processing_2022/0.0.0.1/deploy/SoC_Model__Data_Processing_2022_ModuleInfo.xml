<?xml version="1.0" encoding="UTF-8"?>
<TctGeneratedModules>
   <ModuleInfo CLSID="{D2206CC1-202A-561F-EEB4-96E907A7592D}" GUID="{D2206CC1-202A-561F-EEB4-96E907A7592D}" LibraryId="TE140x Module Vendor|SoC_Model__Data_Processing_2022|0.0.0.1">
      <BlockDiagram>
         <Name>SoC_Model__Data_Processing_2022</Name>
         <Identifier>&lt;Root&gt;</Identifier>
         <Type>root</Type>
         <Position h="0" w="0" x="0" y="0"/>
         <BlockDesign/>
         <Block>
            <Name>Voltage</Name>
            <Identifier>&lt;Root&gt;/Voltage</Identifier>
            <Type>Inport</Type>
            <Position h="14" w="30" x="155" y="258"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="1"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="190" y="265"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="190" y="265"/>
                  <Point x="205" y="265"/>
               </Line>
               <Signal Category="Input" Name="Voltage" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_U.Voltage</GlobalName>
                  <AdsIdxOffs>#x80000000</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Current</Name>
            <Identifier>&lt;Root&gt;/Current</Identifier>
            <Type>Inport</Type>
            <Position h="14" w="30" x="155" y="333"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="2"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="190" y="340"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="190" y="340"/>
                  <Point x="205" y="340"/>
               </Line>
               <Signal Category="Input" Name="Current" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_U.Current</GlobalName>
                  <AdsIdxOffs>#x80000008</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Coulombs</Name>
            <Identifier>&lt;Root&gt;/Coulombs</Identifier>
            <Type>Inport</Type>
            <Position h="14" w="30" x="155" y="188"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="3"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="190" y="195"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="190" y="195"/>
                  <Point x="605" y="195"/>
               </Line>
               <Signal Category="Input" Name="Coulombs" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_U.Coulombs</GlobalName>
                  <AdsIdxOffs>#x80000010</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>ChargingEnable</Name>
            <Identifier>&lt;Root&gt;/ChargingEnable</Identifier>
            <Type>Inport</Type>
            <Position h="14" w="30" x="75" y="408"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="4"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="110" y="415"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="110" y="415"/>
                  <Point x="118" y="415"/>
               </Line>
               <Signal Category="Input" Name="ChargingEnable" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_U.ChargingEnable</GlobalName>
                  <AdsIdxOffs>#x80000018</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>ChargingActive</Name>
            <Identifier>&lt;Root&gt;/ChargingActive</Identifier>
            <Type>Inport</Type>
            <Position h="14" w="30" x="155" y="483"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="5"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="190" y="490"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="190" y="490"/>
                  <Point x="205" y="490"/>
               </Line>
               <Signal Category="Input" Name="ChargingActive" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_U.ChargingActive</GlobalName>
                  <AdsIdxOffs>#x80000019</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>ExternalRecalibrationTrigger</Name>
            <Identifier>&lt;Root&gt;/ExternalRecalibrationTrigger</Identifier>
            <Type>Inport</Type>
            <Position h="14" w="30" x="155" y="568"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="6"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="190" y="575"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="190" y="575"/>
                  <Point x="563" y="575"/>
                  <Point x="563" y="355"/>
                  <Point x="605" y="355"/>
               </Line>
               <Signal Category="Input" Name="ExternalRecalibrationTrigger" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_U.ExternalRecalibrationTrigger</GlobalName>
                  <AdsIdxOffs>#x8000001A</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>ExternalRecalibrationValue</Name>
            <Identifier>&lt;Root&gt;/ExternalRecalibrationValue</Identifier>
            <Type>Inport</Type>
            <Position h="14" w="30" x="155" y="613"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="7"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="190" y="620"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="190" y="620"/>
                  <Point x="481" y="620"/>
                  <Point x="481" y="395"/>
                  <Point x="605" y="395"/>
               </Line>
               <Signal Category="Input" Name="ExternalRecalibrationValue" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_U.ExternalRecalibrationValue</GlobalName>
                  <AdsIdxOffs>#x80000020</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Debug_CurrentOffset</Name>
            <Identifier>&lt;Root&gt;/Debug_CurrentOffset</Identifier>
            <Type>Inport</Type>
            <Position h="14" w="30" x="210" y="-577"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="8"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="245" y="-570"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="245" y="-570"/>
                  <Point x="330" y="-570"/>
               </Line>
               <Signal Category="Input" Name="Debug_CurrentOffset" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_U.Debug_CurrentOffset</GlobalName>
                  <AdsIdxOffs>#x80000028</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Debug_InternalResistanceOffset</Name>
            <Identifier>&lt;Root&gt;/Debug_InternalResistanceOffset</Identifier>
            <Type>Inport</Type>
            <Position h="14" w="30" x="210" y="-537"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="9"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="245" y="-530"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="245" y="-530"/>
                  <Point x="330" y="-530"/>
               </Line>
               <Signal Category="Input" Name="Debug_InternalResistanceOffset" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_U.Debug_InternalResistanceOffset</GlobalName>
                  <AdsIdxOffs>#x80000030</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Debug_noRecalibration</Name>
            <Identifier>&lt;Root&gt;/Debug_noRecalibration</Identifier>
            <Type>Inport</Type>
            <Position h="14" w="30" x="210" y="-497"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="10"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="245" y="-490"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="245" y="-490"/>
                  <Point x="330" y="-490"/>
               </Line>
               <Signal Category="Input" Name="Debug_noRecalibration" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_U.Debug_noRecalibration</GlobalName>
                  <AdsIdxOffs>#x80000038</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Constant</Name>
            <Identifier>&lt;Root&gt;/Constant</Identifier>
            <Type>Constant</Type>
            <Position h="30" w="30" x="1265" y="775"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Value" Value="true"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="1300" y="790"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1300" y="790"/>
                  <Point x="1370" y="790"/>
                  <Point x="1370" y="780"/>
                  <Point x="1450" y="780"/>
               </Line>
               <Signal Category="Output" Name="CACCheckDetected" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.CACCheckDetected</GlobalName>
                  <AdsIdxOffs>#x81000021</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Constant1</Name>
            <Identifier>&lt;Root&gt;/Constant1</Identifier>
            <Type>Constant</Type>
            <Position h="30" w="30" x="75" y="350"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Value" Value="true"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="110" y="365"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="110" y="365"/>
                  <Point x="131" y="365"/>
                  <Point x="131" y="415"/>
                  <Point x="205" y="415"/>
               </Line>
            </Port>
         </Block>
         <Block>
            <Name>Data Post-Processing</Name>
            <Identifier>&lt;S1&gt;</Identifier>
            <Type>SubSystem</Type>
            <Position h="440" w="260" x="1020" y="160"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1005" y="200"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S2&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="2">Inport</Type>
               <Position x="1005" y="260"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S2&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>2</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="3">Inport</Type>
               <Position x="1005" y="320"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S2&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>3</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="4">Inport</Type>
               <Position x="1005" y="380"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S8&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="5">Inport</Type>
               <Position x="1005" y="440"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S2&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>4</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="6">Inport</Type>
               <Position x="1005" y="500"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S2&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>5</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="7">Inport</Type>
               <Position x="1005" y="560"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S9&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="1285" y="235"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1285" y="235"/>
                  <Point x="1325" y="235"/>
               </Line>
               <Signal Category="Output" Name="Saturation" ReadOnly="true">
                  <AdsIdxOffs>#x82000060</AdsIdxOffs>
               </Signal>
            </Port>
            <Port>
               <Type No="2">Outport</Type>
               <Position x="1285" y="380"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1285" y="380"/>
                  <Point x="1450" y="380"/>
               </Line>
            </Port>
            <Port>
               <Type No="3">Outport</Type>
               <Position x="1285" y="525"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1285" y="525"/>
                  <Point x="1450" y="525"/>
               </Line>
            </Port>
            <State Category="Output" Name="MovingAverageover10Samplestos_d" ReadOnly="true">
               <GlobalName>MovingAverageover10Samplesto_pn.MovingAverageover10Samplestos_d</GlobalName>
               <AdsIdxOffs>#x8208CDA0</AdsIdxOffs>
            </State>
            <State Category="Output" Name="MovingAverageover10Samplestos_d" ReadOnly="true">
               <GlobalName>MovingAverageover10Samplestos_p.MovingAverageover10Samplestos_d</GlobalName>
               <AdsIdxOffs>#x8208CDB0</AdsIdxOffs>
            </State>
            <State Category="Output" Name="MovingAverageover5minutestosmoo" ReadOnly="true">
               <AdsIdxOffs>#x82000180</AdsIdxOffs>
            </State>
            <State Category="DWork" Name="obj" ReadOnly="true"/>
            <State Category="DWork" Name="objisempty" ReadOnly="true"/>
            <State Category="DWork" Name="obj" ReadOnly="true"/>
            <State Category="DWork" Name="objisempty" ReadOnly="true"/>
            <State Category="DWork" Name="obj" ReadOnly="true"/>
            <State Category="DWork" Name="objisempty" ReadOnly="true"/>
            <Block>
               <Name>ChargingState</Name>
               <Identifier>&lt;S1&gt;/ChargingState</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="510" y="638"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="1"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="545" y="645"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="545" y="645"/>
                     <Point x="805" y="645"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Voltage</Name>
               <Identifier>&lt;S1&gt;/Voltage</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="510" y="558"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="2"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="545" y="565"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="545" y="565"/>
                     <Point x="805" y="565"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Current</Name>
               <Identifier>&lt;S1&gt;/Current</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="510" y="598"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="3"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="545" y="605"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="545" y="605"/>
                     <Point x="805" y="605"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>SoC_In</Name>
               <Identifier>&lt;S1&gt;/SoC_In</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="510" y="228"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="4"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="545" y="235"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="545" y="235"/>
                     <Point x="605" y="235"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>AverageCurrentConsumption</Name>
               <Identifier>&lt;S1&gt;/AverageCurrentConsumption</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="510" y="378"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="5"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="545" y="385"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="545" y="385"/>
                     <Point x="805" y="385"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>AverageBatteryVoltage</Name>
               <Identifier>&lt;S1&gt;/AverageBatteryVoltage</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="510" y="328"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="6"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="545" y="335"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="545" y="335"/>
                     <Point x="805" y="335"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>MaximumCapacity</Name>
               <Identifier>&lt;S1&gt;/MaximumCapacity</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="510" y="278"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="7"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="545" y="285"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="545" y="285"/>
                     <Point x="731" y="285"/>
                     <Line>
                        <Point x="731" y="285"/>
                        <Point x="805" y="285"/>
                     </Line>
                     <Line>
                        <Point x="731" y="285"/>
                        <Point x="731" y="525"/>
                        <Point x="805" y="525"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Convert to integer
for easier
conversion to
TIME in TC</Name>
               <Identifier>&lt;S1&gt;/Convert to integer
for easier
conversion to
TIME in TC</Identifier>
               <Type>DataTypeConversion</Type>
               <Position h="34" w="75" x="1165" y="293"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="1150" y="310"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/Moving Average
over 5 minutes to
smooth
EstimatedRunningTime
 signal</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="1245" y="310"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="1245" y="310"/>
                     <Point x="1269" y="310"/>
                     <Line>
                        <Point x="1269" y="310"/>
                        <Point x="1269" y="360"/>
                        <Point x="1295" y="360"/>
                     </Line>
                     <Line>
                        <Point x="1269" y="310"/>
                        <Point x="1315" y="310"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Convert to integer
for easier
conversion to
TIME in TC (2)</Name>
               <Identifier>&lt;S1&gt;/Convert to integer
for easier
conversion to
TIME in TC (2)</Identifier>
               <Type>DataTypeConversion</Type>
               <Position h="34" w="75" x="1165" y="548"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="1150" y="565"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/Moving Average
over 10 Samples to
smooth
EstimatedChargingTime
 signal</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="1245" y="565"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="1245" y="565"/>
                     <Point x="1268" y="565"/>
                     <Line>
                        <Point x="1268" y="565"/>
                        <Point x="1315" y="565"/>
                     </Line>
                     <Line>
                        <Point x="1268" y="565"/>
                        <Point x="1268" y="615"/>
                        <Point x="1295" y="615"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Convert to percent</Name>
               <Identifier>&lt;S1&gt;/Convert to percent</Identifier>
               <Type>Gain</Type>
               <Position h="50" w="55" x="865" y="120"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Gain" Value="100"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="850" y="145"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/Moving Average
over 10 Samples to
smooth SoC signal</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="925" y="145"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="925" y="145"/>
                     <Point x="1080" y="145"/>
                  </Line>
                  <Signal Category="Output" Name="Converttopercent" ReadOnly="true">
                     <AdsIdxOffs>#x82000058</AdsIdxOffs>
                  </Signal>
               </Port>
            </Block>
            <Block>
               <Name>Estimated Charging Time</Name>
               <Identifier>&lt;S10&gt;</Identifier>
               <Type>SubSystem</Type>
               <Position h="190" w="220" x="810" y="470"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="795" y="485"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/Moving Average
over 10 Samples to
smooth SoC signal</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="2">Inport</Type>
                  <Position x="795" y="525"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/MaximumCapacity</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="3">Inport</Type>
                  <Position x="795" y="565"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/Voltage</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="4">Inport</Type>
                  <Position x="795" y="605"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/Current</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="5">Inport</Type>
                  <Position x="795" y="645"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/ChargingState</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="1035" y="565"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="1035" y="565"/>
                     <Point x="1065" y="565"/>
                  </Line>
               </Port>
               <State Category="Output" Name="Calculatecurrentchargingpower" ReadOnly="true">
                  <AdsIdxOffs>#x82000188</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Calculatemissingcapacity" ReadOnly="true">
                  <AdsIdxOffs>#x820000B8</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Calculateremainingenergy_a" ReadOnly="true">
                  <AdsIdxOffs>#x820000C0</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Calculateremainingrunningtime_l" ReadOnly="true">
                  <AdsIdxOffs>#x820000F0</AdsIdxOffs>
               </State>
               <State Category="Output" Name="ChargingEffectivityeta_CofSoC0" ReadOnly="true">
                  <AdsIdxOffs>#x820000C8</AdsIdxOffs>
               </State>
               <State Category="Output" Name="GetaverageOCVforremainingSoCa_o" ReadOnly="true">
                  <AdsIdxOffs>#x820000A0</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Respectchargingeffectivity" ReadOnly="true">
                  <AdsIdxOffs>#x820000E8</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Switchbetweenrealchargingpowera" ReadOnly="true">
                  <AdsIdxOffs>#x820000E0</AdsIdxOffs>
               </State>
               <Block>
                  <Name>SoC</Name>
                  <Identifier>&lt;S10&gt;/SoC</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-570" y="638"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-535" y="645"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-535" y="645"/>
                        <Point x="-480" y="645"/>
                        <Line>
                           <Point x="-480" y="645"/>
                           <Point x="-480" y="530"/>
                           <Point x="-280" y="530"/>
                        </Line>
                        <Line>
                           <Point x="-480" y="645"/>
                           <Point x="-430" y="645"/>
                        </Line>
                        <Line>
                           <Point x="-480" y="645"/>
                           <Point x="-480" y="795"/>
                           <Point x="115" y="795"/>
                        </Line>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>MaximumCapacity</Name>
                  <Identifier>&lt;S10&gt;/MaximumCapacity</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-570" y="683"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="2"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-535" y="690"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-535" y="690"/>
                        <Point x="-445" y="690"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Voltage</Name>
                  <Identifier>&lt;S10&gt;/Voltage</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-570" y="898"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="3"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-535" y="905"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-535" y="905"/>
                        <Point x="-275" y="905"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Current</Name>
                  <Identifier>&lt;S10&gt;/Current</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-570" y="938"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="4"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-535" y="945"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-535" y="945"/>
                        <Point x="-275" y="945"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>ChargingState</Name>
                  <Identifier>&lt;S10&gt;/ChargingState</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-570" y="998"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="5"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-535" y="1005"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-535" y="1005"/>
                        <Point x="-100" y="1005"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Add</Name>
                  <Identifier>&lt;S10&gt;/Add</Identifier>
                  <Type>Sum</Type>
                  <Position h="140" w="35" x="255" y="760"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="240" y="795"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Charging Effectivity
 eta_C of SoC = 0%</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="240" y="865"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Charging Effectivity
 eta_C of SoC = 100%</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="295" y="830"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="295" y="830"/>
                        <Point x="305" y="830"/>
                     </Line>
                     <Signal Category="Output" Name="Add" ReadOnly="true">
                        <AdsIdxOffs>#x820000D0</AdsIdxOffs>
                     </Signal>
                  </Port>
               </Block>
               <Block>
                  <Name>Calculate
DoD</Name>
                  <Identifier>&lt;S10&gt;/Calculate
DoD</Identifier>
                  <Type>Constant</Type>
                  <Position h="30" w="30" x="-365" y="585"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Value" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-350" y="620"/>
                     <Rotation>-1.5708</Rotation>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-350" y="620"/>
                        <Point x="-350" y="630"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Calculate current
charging power</Name>
                  <Identifier>&lt;S10&gt;/Calculate current
charging power</Identifier>
                  <Type>Product</Type>
                  <Position h="82" w="75" x="-270" y="884"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="-285" y="905"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Voltage</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="-285" y="945"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Current</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-190" y="925"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-190" y="925"/>
                        <Point x="-175" y="925"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Calculate current
charging power1</Name>
                  <Identifier>&lt;S10&gt;/Calculate current
charging power1</Identifier>
                  <Type>Product</Type>
                  <Position h="78" w="75" x="-270" y="1046"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="-285" y="1065"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Constant2</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="-285" y="1105"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Constant3</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-190" y="1085"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-190" y="1085"/>
                        <Point x="-100" y="1085"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Calculate missing
capacity</Name>
                  <Identifier>&lt;S10&gt;/Calculate missing
capacity</Identifier>
                  <Type>Product</Type>
                  <Position h="87" w="80" x="-275" y="624"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="-290" y="645"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Sum</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="-290" y="690"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/h -&gt; s</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-190" y="670"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-190" y="670"/>
                        <Point x="-100" y="670"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Calculate remaining
energy</Name>
                  <Identifier>&lt;S10&gt;/Calculate remaining
energy</Identifier>
                  <Type>Product</Type>
                  <Position h="276" w="95" x="-95" y="462"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="-110" y="530"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Get average OCV
for remaining
SoC area</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="-110" y="670"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Calculate missing
capacity</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="5" y="600"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="5" y="600"/>
                        <Point x="485" y="600"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Calculate remaining
running time</Name>
                  <Identifier>&lt;S10&gt;/Calculate remaining
running time</Identifier>
                  <Type>Product</Type>
                  <Position h="638" w="85" x="490" y="441"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="475" y="600"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Calculate remaining
energy</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="475" y="920"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Respect charging
effectivity</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="580" y="760"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="580" y="760"/>
                        <Point x="635" y="760"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Charging Effectivity
 eta_C of SoC = 0%</Name>
                  <Identifier>&lt;S10&gt;/Charging Effectivity
 eta_C of SoC = 0%</Identifier>
                  <Type>Lookup_n-D</Type>
                  <Position h="36" w="95" x="120" y="777"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="105" y="795"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/SoC</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="220" y="795"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="220" y="795"/>
                        <Point x="250" y="795"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Charging Effectivity
 eta_C of SoC = 100%</Name>
                  <Identifier>&lt;S10&gt;/Charging Effectivity
 eta_C of SoC = 100%</Identifier>
                  <Type>Lookup_n-D</Type>
                  <Position h="36" w="95" x="120" y="847"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="105" y="865"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/SoC = 100%</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="220" y="865"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="220" y="865"/>
                        <Point x="250" y="865"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Constant2</Name>
                  <Identifier>&lt;S10&gt;/Constant2</Identifier>
                  <Type>Constant</Type>
                  <Position h="30" w="130" x="-440" y="1050"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Value" Value="nominalBatteryVoltage"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-305" y="1065"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-305" y="1065"/>
                        <Point x="-275" y="1065"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Constant3</Name>
                  <Identifier>&lt;S10&gt;/Constant3</Identifier>
                  <Type>Constant</Type>
                  <Position h="30" w="130" x="-440" y="1090"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Value" Value="chargingCurrent"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-305" y="1105"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-305" y="1105"/>
                        <Point x="-275" y="1105"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Gain</Name>
                  <Identifier>&lt;S10&gt;/Gain</Identifier>
                  <Type>Gain</Type>
                  <Position h="30" w="30" x="310" y="815"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Gain" Value="1/2"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="295" y="830"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Add</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="345" y="830"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="345" y="830"/>
                        <Point x="400" y="830"/>
                     </Line>
                     <Signal Category="Output" Name="Gain" ReadOnly="true">
                        <AdsIdxOffs>#x820000D8</AdsIdxOffs>
                     </Signal>
                  </Port>
               </Block>
               <Block>
                  <Name>Get average OCV
for remaining
SoC area</Name>
                  <Identifier>&lt;S10&gt;/Get average OCV
for remaining
SoC area</Identifier>
                  <Type>Lookup_n-D</Type>
                  <Position h="80" w="80" x="-275" y="490"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="-290" y="530"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/SoC</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-190" y="530"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-190" y="530"/>
                        <Point x="-100" y="530"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Respect charging
effectivity</Name>
                  <Identifier>&lt;S10&gt;/Respect charging
effectivity</Identifier>
                  <Type>Product</Type>
                  <Position h="355" w="55" x="405" y="740"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="390" y="830"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Gain</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="390" y="1005"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Switch between real
charging power and
expected charging 
power</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="465" y="920"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="465" y="920"/>
                        <Point x="485" y="920"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Saturation</Name>
                  <Identifier>&lt;S10&gt;/Saturation</Identifier>
                  <Type>Saturate</Type>
                  <Position h="30" w="30" x="-425" y="630"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="-440" y="645"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/SoC</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-390" y="645"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-390" y="645"/>
                        <Point x="-365" y="645"/>
                     </Line>
                     <Signal Category="Output" Name="Saturation_h" ReadOnly="true">
                        <AdsIdxOffs>#x820000A8</AdsIdxOffs>
                     </Signal>
                  </Port>
               </Block>
               <Block>
                  <Name>SoC = 100%</Name>
                  <Identifier>&lt;S10&gt;/SoC = 100%</Identifier>
                  <Type>Constant</Type>
                  <Position h="30" w="30" x="55" y="850"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Value" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="90" y="865"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="90" y="865"/>
                        <Point x="115" y="865"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Sum</Name>
                  <Identifier>&lt;S10&gt;/Sum</Identifier>
                  <Type>Sum</Type>
                  <Position h="20" w="20" x="-360" y="635"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="-350" y="620"/>
                     <Rotation>-1.5708</Rotation>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Calculate
DoD</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="-375" y="645"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Saturation</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-335" y="645"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-335" y="645"/>
                        <Point x="-280" y="645"/>
                     </Line>
                     <Signal Category="Output" Name="Sum_k" ReadOnly="true">
                        <AdsIdxOffs>#x820000B0</AdsIdxOffs>
                     </Signal>
                  </Port>
               </Block>
               <Block>
                  <Name>Switch between real
charging power and
expected charging 
power</Name>
                  <Identifier>&lt;S10&gt;/Switch between real
charging power and
expected charging 
power</Identifier>
                  <Type>Switch</Type>
                  <Position h="238" w="95" x="-95" y="886"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="-110" y="925"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Unary Minus1</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="-110" y="1005"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/ChargingState</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="3">Inport</Type>
                     <Position x="-110" y="1085"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Calculate current
charging power1</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="5" y="1005"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="5" y="1005"/>
                        <Point x="400" y="1005"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Unary Minus1</Name>
                  <Identifier>&lt;S10&gt;/Unary Minus1</Identifier>
                  <Type>UnaryMinus</Type>
                  <Position h="30" w="30" x="-170" y="910"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="-185" y="925"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Calculate current
charging power</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-135" y="925"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-135" y="925"/>
                        <Point x="-100" y="925"/>
                     </Line>
                     <Signal Category="Output" Name="UnaryMinus1" ReadOnly="true">
                        <AdsIdxOffs>#x82000190</AdsIdxOffs>
                     </Signal>
                  </Port>
               </Block>
               <Block>
                  <Name>h -&gt; s</Name>
                  <Identifier>&lt;S10&gt;/h -&gt; s</Identifier>
                  <Type>Gain</Type>
                  <Position h="26" w="65" x="-440" y="677"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Gain" Value="3600"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="-455" y="690"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/MaximumCapacity</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-370" y="690"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-370" y="690"/>
                        <Point x="-280" y="690"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>EstimatedChargingTime</Name>
                  <Identifier>&lt;S10&gt;/EstimatedChargingTime</Identifier>
                  <Type>Outport</Type>
                  <Position h="14" w="30" x="640" y="753"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="625" y="760"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S10&gt;/Calculate remaining
running time</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
               </Block>
               <Annotation>
                  <Text>Calculate average charging effectivity from current SoC to 100%</Text>
                  <Position x="35" y="742"/>
                  <Alignment H="left" V="top"/>
                  <FontName>auto</FontName>
                  <FontSize>12</FontSize>
                  <FontWeight>auto</FontWeight>
               </Annotation>
               <Annotation>
                  <Text>Calculate energy, which is missing in the battery</Text>
                  <Position x="-461" y="437"/>
                  <Alignment H="left" V="top"/>
                  <FontName>auto</FontName>
                  <FontSize>12</FontSize>
                  <FontWeight>auto</FontWeight>
               </Annotation>
               <Annotation>
                  <Text>Calculate current charging power</Text>
                  <Position x="-466" y="860"/>
                  <Alignment H="left" V="top"/>
                  <FontName>auto</FontName>
                  <FontSize>12</FontSize>
                  <FontWeight>auto</FontWeight>
               </Annotation>
            </Block>
            <Block>
               <Name>Estimated Running Time</Name>
               <Identifier>&lt;S11&gt;</Identifier>
               <Type>SubSystem</Type>
               <Position h="206" w="220" x="810" y="207"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="795" y="235"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/Moving Average
over 10 Samples to
smooth SoC signal</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="2">Inport</Type>
                  <Position x="795" y="285"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/MaximumCapacity</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="3">Inport</Type>
                  <Position x="795" y="335"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/AverageBatteryVoltage</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="4">Inport</Type>
                  <Position x="795" y="385"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/AverageCurrentConsumption</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="1035" y="310"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="1035" y="310"/>
                     <Point x="1065" y="310"/>
                  </Line>
               </Port>
               <State Category="Output" Name="Calculatecurrentcapacity" ReadOnly="true">
                  <AdsIdxOffs>#x82000078</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Calculatecurrentpowerconsumatio" ReadOnly="true">
                  <AdsIdxOffs>#x82000090</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Calculateremainingenergy" ReadOnly="true">
                  <AdsIdxOffs>#x82000080</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Calculateremainingrunningtime" ReadOnly="true">
                  <AdsIdxOffs>#x82000098</AdsIdxOffs>
               </State>
               <State Category="Output" Name="GetaverageOCVforremainingSoCare" ReadOnly="true">
                  <AdsIdxOffs>#x82000070</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Resepctcoulombicdischargingeffe" ReadOnly="true">
                  <AdsIdxOffs>#x82000088</AdsIdxOffs>
               </State>
               <Block>
                  <Name>SoC</Name>
                  <Identifier>&lt;S11&gt;/SoC</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="35" y="123"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="70" y="130"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="70" y="130"/>
                        <Point x="230" y="130"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>MaximumCapacity</Name>
                  <Identifier>&lt;S11&gt;/MaximumCapacity</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="35" y="168"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="2"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="70" y="175"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="70" y="175"/>
                        <Point x="170" y="175"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>AverageBatteryVoltage</Name>
                  <Identifier>&lt;S11&gt;/AverageBatteryVoltage</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="35" y="343"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="3"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="70" y="350"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="70" y="350"/>
                        <Point x="355" y="350"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>AverageCurrentConsumption</Name>
                  <Identifier>&lt;S11&gt;/AverageCurrentConsumption</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="35" y="388"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="4"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="70" y="395"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="70" y="395"/>
                        <Point x="160" y="395"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Calculate current
capacity</Name>
                  <Identifier>&lt;S11&gt;/Calculate current
capacity</Identifier>
                  <Type>Product</Type>
                  <Position h="87" w="80" x="360" y="109"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="345" y="130"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S11&gt;/Saturation</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="345" y="175"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S11&gt;/h -&gt; s</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="445" y="155"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="445" y="155"/>
                        <Point x="515" y="155"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Calculate current
power consumation</Name>
                  <Identifier>&lt;S11&gt;/Calculate current
power consumation</Identifier>
                  <Type>Product</Type>
                  <Position h="87" w="80" x="360" y="329"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="345" y="350"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S11&gt;/AverageBatteryVoltage</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="345" y="395"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S11&gt;/Resepct coulombic
discharging effectivity</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="445" y="375"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="445" y="375"/>
                        <Point x="690" y="375"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Calculate remaining
energy</Name>
                  <Identifier>&lt;S11&gt;/Calculate remaining
energy</Identifier>
                  <Type>Product</Type>
                  <Position h="276" w="95" x="520" y="-53"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="505" y="15"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S11&gt;/Get average OCV
for remaining
SoC area</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="505" y="155"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S11&gt;/Calculate current
capacity</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="620" y="85"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="620" y="85"/>
                        <Point x="690" y="85"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Calculate remaining
running time</Name>
                  <Identifier>&lt;S11&gt;/Calculate remaining
running time</Identifier>
                  <Type>Product</Type>
                  <Position h="578" w="125" x="695" y="-59"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="680" y="85"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S11&gt;/Calculate remaining
energy</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="680" y="375"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S11&gt;/Calculate current
power consumation</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="825" y="230"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="825" y="230"/>
                        <Point x="915" y="230"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Get average OCV
for remaining
SoC area</Name>
                  <Identifier>&lt;S11&gt;/Get average OCV
for remaining
SoC area</Identifier>
                  <Type>Lookup_n-D</Type>
                  <Position h="80" w="80" x="360" y="-25"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="345" y="15"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S11&gt;/Saturation</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="445" y="15"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="445" y="15"/>
                        <Point x="515" y="15"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Resepct coulombic
discharging effectivity</Name>
                  <Identifier>&lt;S11&gt;/Resepct coulombic
discharging effectivity</Identifier>
                  <Type>Gain</Type>
                  <Position h="56" w="145" x="165" y="367"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Gain" Value="1/DischargingEffectivity"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="150" y="395"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S11&gt;/AverageCurrentConsumption</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="315" y="395"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="315" y="395"/>
                        <Point x="355" y="395"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Saturation</Name>
                  <Identifier>&lt;S11&gt;/Saturation</Identifier>
                  <Type>Saturate</Type>
                  <Position h="30" w="30" x="235" y="115"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="220" y="130"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S11&gt;/SoC</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="270" y="130"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="270" y="130"/>
                        <Point x="303" y="130"/>
                        <Line>
                           <Point x="303" y="130"/>
                           <Point x="355" y="130"/>
                        </Line>
                        <Line>
                           <Point x="303" y="130"/>
                           <Point x="303" y="15"/>
                           <Point x="355" y="15"/>
                        </Line>
                     </Line>
                     <Signal Category="Output" Name="Saturation_m" ReadOnly="true">
                        <AdsIdxOffs>#x82000068</AdsIdxOffs>
                     </Signal>
                  </Port>
               </Block>
               <Block>
                  <Name>h -&gt; s</Name>
                  <Identifier>&lt;S11&gt;/h -&gt; s</Identifier>
                  <Type>Gain</Type>
                  <Position h="26" w="65" x="175" y="162"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Gain" Value="3600"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="160" y="175"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S11&gt;/MaximumCapacity</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="245" y="175"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="245" y="175"/>
                        <Point x="355" y="175"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>EstimatedRunningTime</Name>
                  <Identifier>&lt;S11&gt;/EstimatedRunningTime</Identifier>
                  <Type>Outport</Type>
                  <Position h="14" w="30" x="920" y="223"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="905" y="230"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S11&gt;/Calculate remaining
running time</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
               </Block>
               <Annotation>
                  <Text>Calculate remaining battery energy</Text>
                  <Position x="136" y="-99"/>
                  <Alignment H="left" V="top"/>
                  <FontName>auto</FontName>
                  <FontSize>12</FontSize>
                  <FontWeight>auto</FontWeight>
               </Annotation>
               <Annotation>
                  <Text>Calculate average power consumption of last three minutes</Text>
                  <Position x="136" y="289"/>
                  <Alignment H="left" V="top"/>
                  <FontName>auto</FontName>
                  <FontSize>12</FontSize>
                  <FontWeight>auto</FontWeight>
               </Annotation>
            </Block>
            <Block>
               <Name>Goto
Debug Outputs</Name>
               <Identifier>&lt;S1&gt;/Goto
Debug Outputs</Identifier>
               <Type>Goto</Type>
               <Position h="30" w="40" x="1300" y="180"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="GotoTag" Value="O1"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="1285" y="195"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/Saturation</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Goto
Debug Outputs1</Name>
               <Identifier>&lt;S1&gt;/Goto
Debug Outputs1</Identifier>
               <Type>Goto</Type>
               <Position h="30" w="40" x="1300" y="345"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="GotoTag" Value="O2"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="1285" y="360"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/Convert to integer
for easier
conversion to
TIME in TC</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Goto
Debug Outputs2</Name>
               <Identifier>&lt;S1&gt;/Goto
Debug Outputs2</Identifier>
               <Type>Goto</Type>
               <Position h="30" w="40" x="1300" y="600"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="GotoTag" Value="O3"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="1285" y="615"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/Convert to integer
for easier
conversion to
TIME in TC (2)</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Moving Average
over 10 Samples to
smooth
EstimatedChargingTime
 signal</Name>
               <Identifier>&lt;S1&gt;/Moving Average
over 10 Samples to
smooth
EstimatedChargingTime
 signal</Identifier>
               <Type>MATLABSystem</Type>
               <Position h="46" w="60" x="1070" y="542"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="1055" y="565"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S10&gt;</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="1135" y="565"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="1135" y="565"/>
                     <Point x="1160" y="565"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Moving Average
over 10 Samples to
smooth SoC signal</Name>
               <Identifier>&lt;S1&gt;/Moving Average
over 10 Samples to
smooth SoC signal</Identifier>
               <Type>MATLABSystem</Type>
               <Position h="46" w="95" x="610" y="212"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="595" y="235"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/SoC_In</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="710" y="235"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="710" y="235"/>
                     <Point x="771" y="235"/>
                     <Line>
                        <Point x="771" y="235"/>
                        <Point x="771" y="145"/>
                        <Point x="860" y="145"/>
                     </Line>
                     <Line>
                        <Point x="771" y="235"/>
                        <Point x="805" y="235"/>
                     </Line>
                     <Line>
                        <Point x="771" y="235"/>
                        <Point x="771" y="485"/>
                        <Point x="805" y="485"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Moving Average
over 5 minutes to
smooth
EstimatedRunningTime
 signal</Name>
               <Identifier>&lt;S1&gt;/Moving Average
over 5 minutes to
smooth
EstimatedRunningTime
 signal</Identifier>
               <Type>MATLABSystem</Type>
               <Position h="46" w="60" x="1070" y="287"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="1055" y="310"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S11&gt;</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="1135" y="310"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="1135" y="310"/>
                     <Point x="1160" y="310"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Saturation</Name>
               <Identifier>&lt;S1&gt;/Saturation</Identifier>
               <Type>Saturate</Type>
               <Position h="30" w="30" x="1085" y="130"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="1070" y="145"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/Convert to percent</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="1120" y="145"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="1120" y="145"/>
                     <Point x="1271" y="145"/>
                     <Line>
                        <Point x="1271" y="145"/>
                        <Point x="1271" y="195"/>
                        <Point x="1295" y="195"/>
                     </Line>
                     <Line>
                        <Point x="1271" y="145"/>
                        <Point x="1315" y="145"/>
                     </Line>
                  </Line>
                  <Signal Category="Output" Name="Saturation" ReadOnly="true">
                     <AdsIdxOffs>#x82000060</AdsIdxOffs>
                  </Signal>
               </Port>
            </Block>
            <Block>
               <Name>SoC_Out</Name>
               <Identifier>&lt;S1&gt;/SoC_Out</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="1320" y="138"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="1"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="1305" y="145"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/Saturation</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>EstimatedRunningTime</Name>
               <Identifier>&lt;S1&gt;/EstimatedRunningTime</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="1320" y="303"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="2"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="1305" y="310"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/Convert to integer
for easier
conversion to
TIME in TC</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>EstimatedChargingTime</Name>
               <Identifier>&lt;S1&gt;/EstimatedChargingTime</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="1320" y="558"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="3"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="1305" y="565"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S1&gt;/Convert to integer
for easier
conversion to
TIME in TC (2)</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
         </Block>
         <Block>
            <Name>Data Pre-Processing</Name>
            <Identifier>&lt;S2&gt;</Identifier>
            <Type>SubSystem</Type>
            <Position h="304" w="220" x="210" y="223"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="195" y="265"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;Root&gt;/Voltage</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="2">Inport</Type>
               <Position x="195" y="340"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;Root&gt;/Current</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="3">Inport</Type>
               <Position x="195" y="415"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;Root&gt;/Constant1</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="4">Inport</Type>
               <Position x="195" y="490"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;Root&gt;/ChargingActive</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="435" y="235"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="435" y="235"/>
                  <Point x="519" y="235"/>
                  <Line>
                     <Point x="519" y="235"/>
                     <Point x="605" y="235"/>
                  </Line>
                  <Line>
                     <Point x="519" y="235"/>
                     <Point x="519" y="72"/>
                     <Point x="977" y="72"/>
                     <Point x="977" y="200"/>
                     <Point x="1015" y="200"/>
                  </Line>
               </Line>
            </Port>
            <Port>
               <Type No="2">Outport</Type>
               <Position x="435" y="275"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="435" y="275"/>
                  <Point x="532" y="275"/>
                  <Line>
                     <Point x="532" y="275"/>
                     <Point x="532" y="115"/>
                     <Line>
                        <Point x="532" y="115"/>
                        <Point x="605" y="115"/>
                     </Line>
                     <Line>
                        <Point x="532" y="115"/>
                        <Point x="532" y="79"/>
                        <Point x="960" y="79"/>
                        <Point x="960" y="260"/>
                        <Point x="1015" y="260"/>
                     </Line>
                  </Line>
                  <Line>
                     <Point x="532" y="275"/>
                     <Point x="532" y="635"/>
                     <Point x="1325" y="635"/>
                  </Line>
               </Line>
            </Port>
            <Port>
               <Type No="3">Outport</Type>
               <Position x="435" y="315"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="435" y="315"/>
                  <Point x="516" y="315"/>
                  <Point x="516" y="355"/>
                  <Line>
                     <Point x="516" y="355"/>
                     <Point x="516" y="700"/>
                     <Point x="1325" y="700"/>
                  </Line>
                  <Line>
                     <Point x="516" y="355"/>
                     <Point x="545" y="355"/>
                     <Point x="545" y="155"/>
                     <Line>
                        <Point x="545" y="155"/>
                        <Point x="545" y="85"/>
                        <Point x="939" y="85"/>
                        <Point x="939" y="320"/>
                        <Point x="1015" y="320"/>
                     </Line>
                     <Line>
                        <Point x="545" y="155"/>
                        <Point x="605" y="155"/>
                     </Line>
                  </Line>
               </Line>
            </Port>
            <Port>
               <Type No="4">Outport</Type>
               <Position x="435" y="355"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="435" y="355"/>
                  <Point x="489" y="355"/>
                  <Point x="489" y="440"/>
                  <Point x="1015" y="440"/>
               </Line>
            </Port>
            <Port>
               <Type No="5">Outport</Type>
               <Position x="435" y="395"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="435" y="395"/>
                  <Point x="473" y="395"/>
                  <Point x="473" y="454"/>
                  <Point x="971" y="454"/>
                  <Point x="971" y="500"/>
                  <Point x="1015" y="500"/>
               </Line>
            </Port>
            <Port>
               <Type No="6">Outport</Type>
               <Position x="435" y="435"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="435" y="435"/>
                  <Point x="463" y="435"/>
                  <Point x="463" y="745"/>
                  <Point x="1450" y="745"/>
               </Line>
            </Port>
            <Port>
               <Type No="7">Outport</Type>
               <Position x="435" y="475"/>
            </Port>
            <Port>
               <Type No="8">Outport</Type>
               <Position x="435" y="515"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="435" y="515"/>
                  <Point x="556" y="515"/>
                  <Point x="556" y="275"/>
                  <Point x="605" y="275"/>
               </Line>
            </Port>
            <State Category="Output" Name="Checkifchargingcontactisexistin" ReadOnly="true">
               <AdsIdxOffs>#x82000199</AdsIdxOffs>
            </State>
            <State Category="Output" Name="Detectregularchargingwhenchargi" ReadOnly="true">
               <AdsIdxOffs>#x8200019B</AdsIdxOffs>
            </State>
            <State Category="Output" Name="LogicalOperator4" ReadOnly="true">
               <AdsIdxOffs>#x820001A2</AdsIdxOffs>
            </State>
            <State Category="Output" Name="MovingAverageover10Samplestos_d" ReadOnly="true">
               <GlobalName>MovingAverageover10Sampl_pnaevv.MovingAverageover10Samplestos_d</GlobalName>
               <AdsIdxOffs>#x82000360</AdsIdxOffs>
            </State>
            <State Category="Output" Name="MovingAverageover10Samplestos_d" ReadOnly="true">
               <GlobalName>MovingAverageover10Sample_pnaev.MovingAverageover10Samplestos_d</GlobalName>
               <AdsIdxOffs>#x82000370</AdsIdxOffs>
            </State>
            <State Category="Output" Name="MovingAverageover10Samplestos_d" ReadOnly="true">
               <GlobalName>MovingAverageover10Samples_pnae.MovingAverageover10Samplestos_d</GlobalName>
               <AdsIdxOffs>#x82000380</AdsIdxOffs>
            </State>
            <State Category="Output" Name="MovingAverageover10Samplestos_d" ReadOnly="true">
               <GlobalName>MovingAverageover10Samplest_pna.MovingAverageover10Samplestos_d</GlobalName>
               <AdsIdxOffs>#x82000390</AdsIdxOffs>
            </State>
            <State Category="DWork" Name="obj" ReadOnly="true"/>
            <State Category="DWork" Name="objisempty" ReadOnly="true"/>
            <State Category="DWork" Name="obj" ReadOnly="true"/>
            <State Category="DWork" Name="objisempty" ReadOnly="true"/>
            <State Category="DWork" Name="obj" ReadOnly="true"/>
            <State Category="DWork" Name="objisempty" ReadOnly="true"/>
            <State Category="DWork" Name="obj" ReadOnly="true"/>
            <State Category="DWork" Name="objisempty" ReadOnly="true"/>
            <Block>
               <Name>Voltage</Name>
               <Identifier>&lt;S2&gt;/Voltage</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="-610" y="578"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="1"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-575" y="585"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-575" y="585"/>
                     <Point x="-499" y="585"/>
                     <Line>
                        <Point x="-499" y="585"/>
                        <Point x="-499" y="495"/>
                        <Point x="-440" y="495"/>
                     </Line>
                     <Line>
                        <Point x="-499" y="585"/>
                        <Point x="-470" y="585"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Current</Name>
               <Identifier>&lt;S2&gt;/Current</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="-610" y="333"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="2"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-575" y="340"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-575" y="340"/>
                     <Point x="-502" y="340"/>
                     <Line>
                        <Point x="-502" y="340"/>
                        <Point x="-502" y="245"/>
                        <Point x="-455" y="245"/>
                     </Line>
                     <Line>
                        <Point x="-502" y="340"/>
                        <Point x="-470" y="340"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>ChargingEnable</Name>
               <Identifier>&lt;S2&gt;/ChargingEnable</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="-610" y="18"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="3"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-575" y="25"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-575" y="25"/>
                     <Point x="-135" y="25"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>ChargingActive</Name>
               <Identifier>&lt;S2&gt;/ChargingActive</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="-610" y="68"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="4"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-575" y="75"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-575" y="75"/>
                     <Point x="-366" y="75"/>
                     <Point x="-366" y="50"/>
                     <Point x="-135" y="50"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Average Battery Voltage
(deactivated while charging)</Name>
               <Identifier>&lt;S12&gt;</Identifier>
               <Type>SubSystem</Type>
               <Position h="104" w="160" x="65" y="533"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="50" y="585"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete 
voltage signal1</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="230" y="585"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="230" y="585"/>
                     <Point x="440" y="585"/>
                  </Line>
               </Port>
               <Port>
                  <Type No="2">Enable</Type>
                  <Position x="145" y="518"/>
                  <Rotation>-1.5708</Rotation>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Logical
Operator4</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <State Category="Output" Name="Divideintegratedcurrentthroug_h" ReadOnly="true">
                  <AdsIdxOffs>#x82000178</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Integratemeasuredcurrent_h" ReadOnly="true">
                  <AdsIdxOffs>#x82000168</AdsIdxOffs>
               </State>
               <State Category="Output" Name="MovingAverageover3minforavera_m" ReadOnly="true">
                  <GlobalName>MovingAverageover3minforavera_p.MovingAverageover3minforavera_m</GlobalName>
                  <AdsIdxOffs>#x82069B18</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Switchtomovingaverageafter3mi_n" ReadOnly="true">
                  <AdsIdxOffs>#x82000170</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Timer_h" ReadOnly="true">
                  <AdsIdxOffs>#x82000160</AdsIdxOffs>
               </State>
               <State Category="DWork" Name="Integratemeasuredcurrent_DSTA_f" ReadOnly="true"/>
               <State Category="DWork" Name="obj" ReadOnly="true"/>
               <State Category="DWork" Name="objisempty" ReadOnly="true"/>
               <State Category="DWork" Name="Timer_DSTATE_l" ReadOnly="true"/>
               <Block>
                  <Name>Voltage</Name>
                  <Identifier>&lt;S12&gt;/Voltage</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="170" y="398"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="205" y="405"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="205" y="405"/>
                        <Point x="308" y="405"/>
                        <Line>
                           <Point x="308" y="405"/>
                           <Point x="309" y="405"/>
                           <Point x="309" y="145"/>
                           <Point x="445" y="145"/>
                        </Line>
                        <Line>
                           <Point x="308" y="405"/>
                           <Point x="308" y="665"/>
                           <Point x="560" y="665"/>
                        </Line>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Enable</Name>
                  <Identifier>&lt;S12&gt;/Enable</Identifier>
                  <Type>EnablePort</Type>
                  <Position h="20" w="20" x="175" y="315"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
               </Block>
               <Block>
                  <Name>


                  </Name>
                  <Identifier>&lt;S12&gt;/</Identifier>
                  <Type>Constant</Type>
                  <Position h="30" w="55" x="370" y="285"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Value" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="430" y="300"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="430" y="300"/>
                        <Point x="445" y="300"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Check elapsed time against
time of current averaging window </Name>
                  <Identifier>&lt;S17&gt;</Identifier>
                  <Type>SubSystem</Type>
                  <Position h="42" w="135" x="620" y="489"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Operator" Value="&lt;= currentAveragingTime"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="605" y="510"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S12&gt;/Timer</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="760" y="510"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="760" y="510"/>
                        <Point x="885" y="510"/>
                     </Line>
                  </Port>
                  <State Category="Output" Name="Compare_f" ReadOnly="true">
                     <AdsIdxOffs>#x820001AE</AdsIdxOffs>
                  </State>
               </Block>
               <Block>
                  <Name>Divide integrated current
through elapsed time</Name>
                  <Identifier>&lt;S12&gt;/Divide integrated current
through elapsed time</Identifier>
                  <Type>Product</Type>
                  <Position h="315" w="100" x="630" y="65"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="615" y="145"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S12&gt;/Integrate measured
current</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="615" y="300"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S12&gt;/Timer</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="735" y="225"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="735" y="225"/>
                        <Point x="849" y="225"/>
                        <Point x="849" y="480"/>
                        <Point x="885" y="480"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Integrate measured
current</Name>
                  <Identifier>&lt;S12&gt;/Integrate measured
current</Identifier>
                  <Type>DiscreteIntegrator</Type>
                  <Position h="96" w="85" x="450" y="97"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="435" y="145"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S12&gt;/Voltage</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="540" y="145"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="540" y="145"/>
                        <Point x="625" y="145"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Moving Average over 3 min.
for average current consumption</Name>
                  <Identifier>&lt;S12&gt;/Moving Average over 3 min.
for average current consumption</Identifier>
                  <Type>MATLABSystem</Type>
                  <Position h="62" w="155" x="565" y="634"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="550" y="665"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S12&gt;/Voltage</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="725" y="665"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="725" y="665"/>
                        <Point x="847" y="665"/>
                        <Point x="847" y="540"/>
                        <Point x="885" y="540"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Switch to moving
average after 3 minutes</Name>
                  <Identifier>&lt;S12&gt;/Switch to moving
average after 3 minutes</Identifier>
                  <Type>Switch</Type>
                  <Position h="86" w="70" x="890" y="467"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="875" y="480"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S12&gt;/Divide integrated current
through elapsed time</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="875" y="510"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S17&gt;</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="3">Inport</Type>
                     <Position x="875" y="540"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S12&gt;/Moving Average over 3 min.
for average current consumption</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="965" y="510"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="965" y="510"/>
                        <Point x="1155" y="510"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Timer
</Name>
                  <Identifier>&lt;S12&gt;/Timer</Identifier>
                  <Type>DiscreteIntegrator</Type>
                  <Position h="92" w="85" x="450" y="254"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="435" y="300"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S12&gt;/</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="540" y="300"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="540" y="300"/>
                        <Point x="578" y="300"/>
                        <Line>
                           <Point x="578" y="300"/>
                           <Point x="625" y="300"/>
                        </Line>
                        <Line>
                           <Point x="578" y="300"/>
                           <Point x="578" y="510"/>
                           <Point x="615" y="510"/>
                        </Line>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>AverageBatteryVoltage</Name>
                  <Identifier>&lt;S12&gt;/AverageBatteryVoltage</Identifier>
                  <Type>Outport</Type>
                  <Position h="14" w="30" x="1160" y="503"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="1145" y="510"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S12&gt;/Switch to moving
average after 3 minutes</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
               </Block>
               <Annotation>
                  <Text>Calculation of average current consumption over whole time because moving
average outputs valid values only after one window length</Text>
                  <Position x="332" y="16"/>
                  <Alignment H="left" V="top"/>
                  <FontName>auto</FontName>
                  <FontSize>12</FontSize>
                  <FontWeight>auto</FontWeight>
               </Annotation>
               <Annotation>
                  <Text>Calculation of average current consumption over last 3 minutes</Text>
                  <Position x="332" y="579"/>
                  <Alignment H="left" V="top"/>
                  <FontName>auto</FontName>
                  <FontSize>12</FontSize>
                  <FontWeight>auto</FontWeight>
               </Annotation>
            </Block>
            <Block>
               <Name>Average Current Consumption
(deactivated while charging)</Name>
               <Identifier>&lt;S13&gt;</Identifier>
               <Type>SubSystem</Type>
               <Position h="104" w="160" x="65" y="383"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="50" y="435"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete
current signal1</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="230" y="435"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="230" y="435"/>
                     <Point x="245" y="435"/>
                     <Line>
                        <Point x="245" y="435"/>
                        <Point x="245" y="465"/>
                        <Point x="290" y="465"/>
                     </Line>
                     <Line>
                        <Point x="245" y="435"/>
                        <Point x="245" y="430"/>
                        <Point x="440" y="430"/>
                     </Line>
                  </Line>
               </Port>
               <Port>
                  <Type No="2">Enable</Type>
                  <Position x="145" y="368"/>
                  <Rotation>-1.5708</Rotation>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Logical
Operator4</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <State Category="Output" Name="Divideintegratedcurrentthroughe" ReadOnly="true">
                  <AdsIdxOffs>#x82000158</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Integratemeasuredcurrent" ReadOnly="true">
                  <AdsIdxOffs>#x82000150</AdsIdxOffs>
               </State>
               <State Category="Output" Name="MovingAverageover3minforavera_m" ReadOnly="true">
                  <GlobalName>MovingAverageover3minforaver_pn.MovingAverageover3minforavera_m</GlobalName>
                  <AdsIdxOffs>#x82023618</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Timer_d" ReadOnly="true">
                  <AdsIdxOffs>#x82000148</AdsIdxOffs>
               </State>
               <State Category="DWork" Name="Integratemeasuredcurrent_DSTATE" ReadOnly="true"/>
               <State Category="DWork" Name="obj" ReadOnly="true"/>
               <State Category="DWork" Name="objisempty" ReadOnly="true"/>
               <State Category="DWork" Name="Timer_DSTATE_a" ReadOnly="true"/>
               <Block>
                  <Name>Current</Name>
                  <Identifier>&lt;S13&gt;/Current</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="170" y="398"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="205" y="405"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="205" y="405"/>
                        <Point x="308" y="405"/>
                        <Line>
                           <Point x="308" y="405"/>
                           <Point x="309" y="405"/>
                           <Point x="309" y="145"/>
                           <Point x="445" y="145"/>
                        </Line>
                        <Line>
                           <Point x="308" y="405"/>
                           <Point x="308" y="665"/>
                           <Point x="560" y="665"/>
                        </Line>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Enable</Name>
                  <Identifier>&lt;S13&gt;/Enable</Identifier>
                  <Type>EnablePort</Type>
                  <Position h="20" w="20" x="175" y="315"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
               </Block>
               <Block>
                  <Name>


                  </Name>
                  <Identifier>&lt;S13&gt;/</Identifier>
                  <Type>Constant</Type>
                  <Position h="30" w="55" x="370" y="285"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Value" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="430" y="300"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="430" y="300"/>
                        <Point x="445" y="300"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Check elapsed time against
time of current averaging window </Name>
                  <Identifier>&lt;S18&gt;</Identifier>
                  <Type>SubSystem</Type>
                  <Position h="42" w="135" x="620" y="489"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Operator" Value="&lt;= currentAveragingTime"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="605" y="510"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S13&gt;/Timer</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="760" y="510"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="760" y="510"/>
                        <Point x="885" y="510"/>
                     </Line>
                  </Port>
                  <State Category="Output" Name="Compare_k" ReadOnly="true">
                     <AdsIdxOffs>#x820001AD</AdsIdxOffs>
                  </State>
               </Block>
               <Block>
                  <Name>Divide integrated current
through elapsed time</Name>
                  <Identifier>&lt;S13&gt;/Divide integrated current
through elapsed time</Identifier>
                  <Type>Product</Type>
                  <Position h="315" w="100" x="630" y="65"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="615" y="145"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S13&gt;/Integrate measured
current</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="615" y="300"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S13&gt;/Timer</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="735" y="225"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="735" y="225"/>
                        <Point x="849" y="225"/>
                        <Point x="849" y="480"/>
                        <Point x="885" y="480"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Integrate measured
current</Name>
                  <Identifier>&lt;S13&gt;/Integrate measured
current</Identifier>
                  <Type>DiscreteIntegrator</Type>
                  <Position h="96" w="85" x="450" y="97"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="435" y="145"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S13&gt;/Current</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="540" y="145"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="540" y="145"/>
                        <Point x="625" y="145"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Moving Average over 3 min.
for average current consumption</Name>
                  <Identifier>&lt;S13&gt;/Moving Average over 3 min.
for average current consumption</Identifier>
                  <Type>MATLABSystem</Type>
                  <Position h="62" w="155" x="565" y="634"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="550" y="665"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S13&gt;/Current</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="725" y="665"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="725" y="665"/>
                        <Point x="847" y="665"/>
                        <Point x="847" y="540"/>
                        <Point x="885" y="540"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Switch to moving
average after 3 minute</Name>
                  <Identifier>&lt;S13&gt;/Switch to moving
average after 3 minute</Identifier>
                  <Type>Switch</Type>
                  <Position h="86" w="70" x="890" y="467"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="875" y="480"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S13&gt;/Divide integrated current
through elapsed time</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="875" y="510"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S18&gt;</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="3">Inport</Type>
                     <Position x="875" y="540"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S13&gt;/Moving Average over 3 min.
for average current consumption</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="965" y="510"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="965" y="510"/>
                        <Point x="1155" y="510"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Timer
</Name>
                  <Identifier>&lt;S13&gt;/Timer</Identifier>
                  <Type>DiscreteIntegrator</Type>
                  <Position h="92" w="85" x="450" y="254"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="435" y="300"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S13&gt;/</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="540" y="300"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="540" y="300"/>
                        <Point x="578" y="300"/>
                        <Line>
                           <Point x="578" y="300"/>
                           <Point x="625" y="300"/>
                        </Line>
                        <Line>
                           <Point x="578" y="300"/>
                           <Point x="578" y="510"/>
                           <Point x="615" y="510"/>
                        </Line>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>AverageCurrentConsumption</Name>
                  <Identifier>&lt;S13&gt;/AverageCurrentConsumption</Identifier>
                  <Type>Outport</Type>
                  <Position h="14" w="30" x="1160" y="503"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="1145" y="510"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S13&gt;/Switch to moving
average after 3 minute</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
               </Block>
               <Annotation>
                  <Text>Calculation of average current consumption over whole time because moving
average outputs valid values only after one window length</Text>
                  <Position x="332" y="16"/>
                  <Alignment H="left" V="top"/>
                  <FontName>auto</FontName>
                  <FontSize>12</FontSize>
                  <FontWeight>auto</FontWeight>
               </Annotation>
               <Annotation>
                  <Text>Calculation of average current consumption over last 3 minutes</Text>
                  <Position x="332" y="579"/>
                  <Alignment H="left" V="top"/>
                  <FontName>auto</FontName>
                  <FontSize>12</FontSize>
                  <FontWeight>auto</FontWeight>
               </Annotation>
            </Block>
            <Block>
               <Name>CAC Check Detection</Name>
               <Identifier>&lt;S14&gt;</Identifier>
               <Type>SubSystem</Type>
               <Position h="50" w="125" x="-135" y="105"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-150" y="130"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete
current signal1</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-5" y="130"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-5" y="130"/>
                     <Point x="440" y="130"/>
                  </Line>
               </Port>
               <Block>
                  <Name>Current</Name>
                  <Identifier>&lt;S14&gt;/Current</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-115" y="138"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-80" y="145"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-80" y="145"/>
                        <Point x="45" y="145"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Check for Idle Current
 + Check Current</Name>
                  <Identifier>&lt;S19&gt;</Identifier>
                  <Type>SubSystem</Type>
                  <Position h="94" w="115" x="50" y="98"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="35" y="145"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S14&gt;/Current</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="170" y="145"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="170" y="145"/>
                        <Point x="405" y="145"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>CACCheckDetected</Name>
                  <Identifier>&lt;S14&gt;/CACCheckDetected</Identifier>
                  <Type>Outport</Type>
                  <Position h="14" w="30" x="410" y="138"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="395" y="145"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S19&gt;</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
               </Block>
            </Block>
            <Block>
               <Name>Charging Detection by Current</Name>
               <Identifier>&lt;S15&gt;</Identifier>
               <Type>SubSystem</Type>
               <Position h="50" w="125" x="-135" y="175"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-150" y="200"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete
current signal1</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-5" y="200"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-5" y="200"/>
                     <Point x="6" y="200"/>
                     <Line>
                        <Point x="6" y="200"/>
                        <Point x="20" y="200"/>
                     </Line>
                     <Line>
                        <Point x="6" y="200"/>
                        <Point x="6" y="70"/>
                        <Point x="265" y="70"/>
                     </Line>
                  </Line>
               </Port>
               <Block>
                  <Name>Current</Name>
                  <Identifier>&lt;S15&gt;/Current</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-115" y="138"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-80" y="145"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-80" y="145"/>
                        <Point x="125" y="145"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Battery is charged only, 
when current is negative</Name>
                  <Identifier>&lt;S20&gt;</Identifier>
                  <Type>SubSystem</Type>
                  <Position h="66" w="70" x="130" y="112"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Operator" Value="&lt; 0"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="115" y="145"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S15&gt;/Current</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="205" y="145"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="205" y="145"/>
                        <Point x="405" y="145"/>
                     </Line>
                  </Port>
                  <State Category="Output" Name="Compare" ReadOnly="true">
                     <AdsIdxOffs>#x8200019A</AdsIdxOffs>
                  </State>
               </Block>
               <Block>
                  <Name>ChargingState</Name>
                  <Identifier>&lt;S15&gt;/ChargingState</Identifier>
                  <Type>Outport</Type>
                  <Position h="14" w="30" x="410" y="138"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="395" y="145"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S20&gt;</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
               </Block>
            </Block>
            <Block>
               <Name>Check, if charging contact
is existing and charging is
activated by charging station</Name>
               <Identifier>&lt;S2&gt;/Check, if charging contact
is existing and charging is
activated by charging station</Identifier>
               <Type>Logic</Type>
               <Position h="53" w="115" x="-130" y="11"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Operator" Value="AND"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-145" y="25"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/ChargingEnable</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="2">Inport</Type>
                  <Position x="-145" y="50"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/ChargingActive</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-10" y="40"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-10" y="40"/>
                     <Point x="204" y="40"/>
                     <Line>
                        <Point x="204" y="40"/>
                        <Point x="204" y="160"/>
                        <Point x="265" y="160"/>
                     </Line>
                     <Line>
                        <Point x="204" y="40"/>
                        <Point x="265" y="40"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Detect activated charging
but no charging current
measured</Name>
               <Identifier>&lt;S2&gt;/Detect activated charging
but no charging current
measured</Identifier>
               <Type>Logic</Type>
               <Position h="82" w="105" x="270" y="139"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Operator" Value="AND"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="255" y="160"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Check, if charging contact
is existing and charging is
activated by charging station</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="2">Inport</Type>
                  <Position x="255" y="200"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Logical
Operator4</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="380" y="180"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="380" y="180"/>
                     <Point x="440" y="180"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Detect regular charging
when charging signals
are true and current is negative</Name>
               <Identifier>&lt;S2&gt;/Detect regular charging
when charging signals
are true and current is negative</Identifier>
               <Type>Logic</Type>
               <Position h="60" w="105" x="270" y="25"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Operator" Value="AND"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="255" y="40"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Check, if charging contact
is existing and charging is
activated by charging station</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="2">Inport</Type>
                  <Position x="255" y="70"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S15&gt;</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="380" y="55"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="380" y="55"/>
                     <Point x="440" y="55"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Goto
Debug Outputs 3</Name>
               <Identifier>&lt;S2&gt;/Goto
Debug Outputs 3</Identifier>
               <Type>Goto</Type>
               <Position h="30" w="40" x="295" y="450"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="GotoTag" Value="Z"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="280" y="465"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S13&gt;</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Goto Debug Outputs 1</Name>
               <Identifier>&lt;S2&gt;/Goto Debug Outputs 1</Identifier>
               <Type>Goto</Type>
               <Position h="30" w="40" x="295" y="620"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="GotoTag" Value="X"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="280" y="635"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete 
voltage signal1</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Goto Debug Outputs 2</Name>
               <Identifier>&lt;S2&gt;/Goto Debug Outputs 2</Identifier>
               <Type>Goto</Type>
               <Position h="30" w="40" x="295" y="355"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="GotoTag" Value="Y"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="280" y="370"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete
current signal1</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Goto Debug Outputs 4</Name>
               <Identifier>&lt;S2&gt;/Goto Debug Outputs 4</Identifier>
               <Type>Goto</Type>
               <Position h="30" w="40" x="-450" y="230"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="GotoTag" Value="V"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-465" y="245"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Current</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Goto Debug Outputs5</Name>
               <Identifier>&lt;S2&gt;/Goto Debug Outputs5</Identifier>
               <Type>Goto</Type>
               <Position h="30" w="40" x="-435" y="480"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="GotoTag" Value="W"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-450" y="495"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Voltage</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Idle State Detection</Name>
               <Identifier>&lt;S16&gt;</Identifier>
               <Type>SubSystem</Type>
               <Position h="44" w="125" x="-135" y="248"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-150" y="270"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete
current signal1</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-5" y="270"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-5" y="270"/>
                     <Point x="440" y="270"/>
                  </Line>
               </Port>
               <Block>
                  <Name>Current</Name>
                  <Identifier>&lt;S16&gt;/Current</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="410" y="128"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="445" y="135"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="445" y="135"/>
                        <Point x="488" y="135"/>
                        <Point x="488" y="22"/>
                        <Point x="830" y="22"/>
                        <Point x="830" y="135"/>
                        <Point x="855" y="135"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Bias</Name>
                  <Identifier>&lt;S16&gt;/Bias</Identifier>
                  <Type>Bias</Type>
                  <Position h="30" w="115" x="695" y="95"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="680" y="110"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S16&gt;/Sum1</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="815" y="110"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="815" y="110"/>
                        <Point x="855" y="110"/>
                     </Line>
                     <Signal Category="Output" Name="Bias" ReadOnly="true">
                        <AdsIdxOffs>#x82000018</AdsIdxOffs>
                     </Signal>
                  </Port>
               </Block>
               <Block>
                  <Name>Bias1</Name>
                  <Identifier>&lt;S16&gt;/Bias1</Identifier>
                  <Type>Bias</Type>
                  <Position h="30" w="110" x="695" y="145"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="680" y="160"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S16&gt;/Sum1</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="810" y="160"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="810" y="160"/>
                        <Point x="855" y="160"/>
                     </Line>
                     <Signal Category="Output" Name="Bias1" ReadOnly="true">
                        <AdsIdxOffs>#x82000010</AdsIdxOffs>
                     </Signal>
                  </Port>
               </Block>
               <Block>
                  <Name>Check for idle state: whether current is
in idle current +- tolerance
interval</Name>
                  <Identifier>&lt;S21&gt;</Identifier>
                  <Type>SubSystem</Type>
                  <Position h="78" w="150" x="860" y="96"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="845" y="110"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S16&gt;/Bias</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="845" y="135"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S16&gt;/Current</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="3">Inport</Type>
                     <Position x="845" y="160"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S16&gt;/Bias1</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="1015" y="135"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="1015" y="135"/>
                        <Point x="1075" y="135"/>
                     </Line>
                  </Port>
                  <State Category="Output" Name="FixPtLogicalOperator" ReadOnly="true">
                     <AdsIdxOffs>#x820001A0</AdsIdxOffs>
                  </State>
                  <State Category="Output" Name="LowerTest" ReadOnly="true">
                     <AdsIdxOffs>#x8200019E</AdsIdxOffs>
                  </State>
                  <State Category="Output" Name="UpperTest" ReadOnly="true">
                     <AdsIdxOffs>#x8200019F</AdsIdxOffs>
                  </State>
               </Block>
               <Block>
                  <Name>Constant</Name>
                  <Identifier>&lt;S16&gt;/Constant</Identifier>
                  <Type>Constant</Type>
                  <Position h="46" w="75" x="535" y="112"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Value" Value="idleCurrent"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="615" y="135"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="615" y="135"/>
                        <Point x="625" y="135"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>From Current
Offset</Name>
                  <Identifier>&lt;S16&gt;/From Current
Offset</Identifier>
                  <Type>From</Type>
                  <Position h="28" w="40" x="570" y="46"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="FromTag" Value="InA"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="615" y="60"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="615" y="60"/>
                        <Point x="640" y="60"/>
                        <Point x="640" y="120"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Sum1</Name>
                  <Identifier>&lt;S16&gt;/Sum1</Identifier>
                  <Type>Sum</Type>
                  <Position h="20" w="20" x="630" y="125"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="640" y="110"/>
                     <Rotation>-1.5708</Rotation>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S16&gt;/From Current
Offset</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="615" y="135"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S16&gt;/Constant</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="655" y="135"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="655" y="135"/>
                        <Point x="672" y="135"/>
                        <Line>
                           <Point x="672" y="135"/>
                           <Point x="672" y="110"/>
                           <Point x="690" y="110"/>
                        </Line>
                        <Line>
                           <Point x="672" y="135"/>
                           <Point x="672" y="160"/>
                           <Point x="690" y="160"/>
                        </Line>
                     </Line>
                     <Signal Category="Output" Name="Sum1" ReadOnly="true">
                        <AdsIdxOffs>#x82000008</AdsIdxOffs>
                     </Signal>
                  </Port>
               </Block>
               <Block>
                  <Name>IdleState</Name>
                  <Identifier>&lt;S16&gt;/IdleState</Identifier>
                  <Type>Outport</Type>
                  <Position h="14" w="30" x="1080" y="128"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="1065" y="135"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S21&gt;</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
               </Block>
            </Block>
            <Block>
               <Name>Logical
Operator4</Name>
               <Identifier>&lt;S2&gt;/Logical
Operator4</Identifier>
               <Type>Logic</Type>
               <Position h="32" w="30" x="25" y="184"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Operator" Value="NOT"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="10" y="200"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S15&gt;</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="60" y="200"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="60" y="200"/>
                     <Point x="83" y="200"/>
                     <Line>
                        <Point x="83" y="200"/>
                        <Point x="83" y="364"/>
                        <Line>
                           <Point x="83" y="364"/>
                           <Point x="145" y="364"/>
                           <Point x="145" y="378"/>
                        </Line>
                        <Line>
                           <Point x="83" y="364"/>
                           <Point x="41" y="364"/>
                           <Point x="41" y="518"/>
                           <Point x="145" y="518"/>
                           <Point x="145" y="528"/>
                        </Line>
                     </Line>
                     <Line>
                        <Point x="83" y="200"/>
                        <Point x="265" y="200"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Moving Average
over 10 Samples to
smooth discrete
current signal</Name>
               <Identifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete
current signal</Identifier>
               <Type>MATLABSystem</Type>
               <Position h="50" w="95" x="-465" y="315"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-480" y="340"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Current</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-365" y="340"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-365" y="340"/>
                     <Point x="-330" y="340"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Moving Average
over 10 Samples to
smooth discrete
current signal1</Name>
               <Identifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete
current signal1</Identifier>
               <Type>MATLABSystem</Type>
               <Position h="50" w="95" x="-325" y="315"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-340" y="340"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete
current signal</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-225" y="340"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-225" y="340"/>
                     <Point x="-197" y="340"/>
                     <Line>
                        <Point x="-197" y="340"/>
                        <Point x="-197" y="435"/>
                        <Point x="60" y="435"/>
                     </Line>
                     <Line>
                        <Point x="-197" y="340"/>
                        <Point x="-177" y="340"/>
                        <Line>
                           <Point x="-177" y="340"/>
                           <Point x="-177" y="270"/>
                           <Line>
                              <Point x="-177" y="270"/>
                              <Point x="-177" y="200"/>
                              <Line>
                                 <Point x="-177" y="200"/>
                                 <Point x="-177" y="130"/>
                                 <Point x="-140" y="130"/>
                              </Line>
                              <Line>
                                 <Point x="-177" y="200"/>
                                 <Point x="-140" y="200"/>
                              </Line>
                           </Line>
                           <Line>
                              <Point x="-177" y="270"/>
                              <Point x="-140" y="270"/>
                           </Line>
                        </Line>
                        <Line>
                           <Point x="-177" y="340"/>
                           <Point x="248" y="340"/>
                           <Line>
                              <Point x="248" y="340"/>
                              <Point x="440" y="340"/>
                           </Line>
                           <Line>
                              <Point x="248" y="340"/>
                              <Point x="248" y="370"/>
                              <Point x="290" y="370"/>
                           </Line>
                        </Line>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Moving Average
over 10 Samples to
smooth discrete 
voltage signal</Name>
               <Identifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete 
voltage signal</Identifier>
               <Type>MATLABSystem</Type>
               <Position h="50" w="95" x="-465" y="560"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-480" y="585"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Voltage</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-365" y="585"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-365" y="585"/>
                     <Point x="-330" y="585"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Moving Average
over 10 Samples to
smooth discrete 
voltage signal1</Name>
               <Identifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete 
voltage signal1</Identifier>
               <Type>MATLABSystem</Type>
               <Position h="50" w="95" x="-325" y="560"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-340" y="585"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete 
voltage signal</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-225" y="585"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-225" y="585"/>
                     <Point x="-82" y="585"/>
                     <Line>
                        <Point x="-82" y="585"/>
                        <Point x="60" y="585"/>
                     </Line>
                     <Line>
                        <Point x="-82" y="585"/>
                        <Point x="-82" y="675"/>
                        <Point x="246" y="675"/>
                        <Line>
                           <Point x="246" y="675"/>
                           <Point x="440" y="675"/>
                        </Line>
                        <Line>
                           <Point x="246" y="675"/>
                           <Point x="246" y="635"/>
                           <Point x="290" y="635"/>
                        </Line>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>ChargingState</Name>
               <Identifier>&lt;S2&gt;/ChargingState</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="445" y="48"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="1"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="430" y="55"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Detect regular charging
when charging signals
are true and current is negative</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>VoltageFiltered</Name>
               <Identifier>&lt;S2&gt;/VoltageFiltered</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="445" y="668"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="2"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="430" y="675"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete 
voltage signal1</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>CurrentFiltered</Name>
               <Identifier>&lt;S2&gt;/CurrentFiltered</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="445" y="333"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="3"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="430" y="340"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Moving Average
over 10 Samples to
smooth discrete
current signal1</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>AverageCurrentConsumption</Name>
               <Identifier>&lt;S2&gt;/AverageCurrentConsumption</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="445" y="423"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="4"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="430" y="430"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S13&gt;</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>AverageBatteryVoltage</Name>
               <Identifier>&lt;S2&gt;/AverageBatteryVoltage</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="445" y="578"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="5"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="430" y="585"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S12&gt;</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>NoChargingCurrent</Name>
               <Identifier>&lt;S2&gt;/NoChargingCurrent</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="445" y="173"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="6"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="430" y="180"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S2&gt;/Detect activated charging
but no charging current
measured</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>CACCheckDetected</Name>
               <Identifier>&lt;S2&gt;/CACCheckDetected</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="445" y="123"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="7"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="430" y="130"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S14&gt;</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>IdleState</Name>
               <Identifier>&lt;S2&gt;/IdleState</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="445" y="263"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="8"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="430" y="270"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S16&gt;</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Annotation>
               <Text>State Detection Logics</Text>
               <Position x="-191" y="-15"/>
               <Alignment H="left" V="top"/>
               <FontName>auto</FontName>
               <FontSize>12</FontSize>
               <FontWeight>auto</FontWeight>
            </Annotation>
            <Annotation>
               <Text>Current Signal Smoothing</Text>
               <Position x="-485" y="295"/>
               <Alignment H="left" V="top"/>
               <FontName>auto</FontName>
               <FontSize>12</FontSize>
               <FontWeight>auto</FontWeight>
            </Annotation>
            <Annotation>
               <Text>Voltage Signal Smoothing</Text>
               <Position x="-485" y="540"/>
               <Alignment H="left" V="top"/>
               <FontName>auto</FontName>
               <FontSize>12</FontSize>
               <FontWeight>auto</FontWeight>
            </Annotation>
         </Block>
         <Block>
            <Name>Debug Inputs</Name>
            <Identifier>&lt;S3&gt;</Identifier>
            <Type>SubSystem</Type>
            <Position h="122" w="130" x="335" y="-591"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="320" y="-570"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;Root&gt;/Debug_CurrentOffset</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="2">Inport</Type>
               <Position x="320" y="-530"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;Root&gt;/Debug_InternalResistanceOffset</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="3">Inport</Type>
               <Position x="320" y="-490"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;Root&gt;/Debug_noRecalibration</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Block>
               <Name>Debug_CurrentOffset</Name>
               <Identifier>&lt;S3&gt;/Debug_CurrentOffset</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="445" y="233"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="1"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="480" y="240"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="480" y="240"/>
                     <Point x="560" y="240"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Debug_InternalResistanceOffset</Name>
               <Identifier>&lt;S3&gt;/Debug_InternalResistanceOffset</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="445" y="298"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="2"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="480" y="305"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="480" y="305"/>
                     <Point x="560" y="305"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Debug_noRecalibration</Name>
               <Identifier>&lt;S3&gt;/Debug_noRecalibration</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="445" y="358"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="3"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="480" y="365"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="480" y="365"/>
                     <Point x="560" y="365"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Goto</Name>
               <Identifier>&lt;S3&gt;/Goto</Identifier>
               <Type>Goto</Type>
               <Position h="30" w="40" x="565" y="225"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="GotoTag" Value="InA"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="550" y="240"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S3&gt;/Debug_CurrentOffset</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Goto1</Name>
               <Identifier>&lt;S3&gt;/Goto1</Identifier>
               <Type>Goto</Type>
               <Position h="30" w="40" x="565" y="290"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="GotoTag" Value="InB"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="550" y="305"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S3&gt;/Debug_InternalResistanceOffset</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Goto2</Name>
               <Identifier>&lt;S3&gt;/Goto2</Identifier>
               <Type>Goto</Type>
               <Position h="30" w="40" x="565" y="350"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="GotoTag" Value="InC"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="550" y="365"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S3&gt;/Debug_noRecalibration</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
         </Block>
         <Block>
            <Name>Debug Outputs</Name>
            <Identifier>&lt;S4&gt;</Identifier>
            <Type>SubSystem</Type>
            <Position h="480" w="165" x="1080" y="-875"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
            </BlockDesign>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="1250" y="-855"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1250" y="-855"/>
                  <Point x="1315" y="-855"/>
               </Line>
            </Port>
            <Port>
               <Type No="2">Outport</Type>
               <Position x="1250" y="-815"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1250" y="-815"/>
                  <Point x="1315" y="-815"/>
               </Line>
            </Port>
            <Port>
               <Type No="3">Outport</Type>
               <Position x="1250" y="-775"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1250" y="-775"/>
                  <Point x="1315" y="-775"/>
               </Line>
            </Port>
            <Port>
               <Type No="4">Outport</Type>
               <Position x="1250" y="-735"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1250" y="-735"/>
                  <Point x="1315" y="-735"/>
               </Line>
            </Port>
            <Port>
               <Type No="5">Outport</Type>
               <Position x="1250" y="-695"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1250" y="-695"/>
                  <Point x="1315" y="-695"/>
               </Line>
            </Port>
            <Port>
               <Type No="6">Outport</Type>
               <Position x="1250" y="-655"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1250" y="-655"/>
                  <Point x="1315" y="-655"/>
               </Line>
            </Port>
            <Port>
               <Type No="7">Outport</Type>
               <Position x="1250" y="-615"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1250" y="-615"/>
                  <Point x="1315" y="-615"/>
               </Line>
            </Port>
            <Port>
               <Type No="8">Outport</Type>
               <Position x="1250" y="-575"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1250" y="-575"/>
                  <Point x="1315" y="-575"/>
               </Line>
            </Port>
            <Port>
               <Type No="9">Outport</Type>
               <Position x="1250" y="-535"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1250" y="-535"/>
                  <Point x="1315" y="-535"/>
               </Line>
            </Port>
            <Port>
               <Type No="10">Outport</Type>
               <Position x="1250" y="-495"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1250" y="-495"/>
                  <Point x="1315" y="-495"/>
               </Line>
            </Port>
            <Port>
               <Type No="11">Outport</Type>
               <Position x="1250" y="-455"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1250" y="-455"/>
                  <Point x="1315" y="-455"/>
               </Line>
            </Port>
            <Port>
               <Type No="12">Outport</Type>
               <Position x="1250" y="-415"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1250" y="-415"/>
                  <Point x="1315" y="-415"/>
               </Line>
            </Port>
            <State Category="DWork" Name="DiscreteTimeIntegrator_DSTATE" ReadOnly="true"/>
            <Block>
               <Name>Current Integration (Coloumb Counting)</Name>
               <Identifier>&lt;S4&gt;/Current Integration (Coloumb Counting)</Identifier>
               <Type>DiscreteIntegrator</Type>
               <Position h="134" w="115" x="-315" y="658"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-330" y="680"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From counted
coulombs</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="2">Inport</Type>
                  <Position x="-330" y="725"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From initial
recalibration
trigger</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="3">Inport</Type>
                  <Position x="-330" y="770"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
recalibration value</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-195" y="725"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-195" y="725"/>
                     <Point x="-170" y="725"/>
                  </Line>
                  <Signal Category="Output" Name="CurrentIntegrationColoumbCoun_i" ReadOnly="true">
                     <AdsIdxOffs>#x82000120</AdsIdxOffs>
                  </Signal>
               </Port>
               <State Category="DWork" Name="CurrentIntegrationColoumbCou_hn" ReadOnly="true"/>
               <State Category="DWork" Name="CurrentIntegrationColoumbCoun_h" ReadOnly="true"/>
               <State Category="DWork" Name="CurrentIntegrationColoumbCoun_l" ReadOnly="true"/>
            </Block>
            <Block>
               <Name>Current_Scope</Name>
               <Identifier>&lt;S4&gt;/Current_Scope</Identifier>
               <Type>Scope</Type>
               <Position h="122" w="110" x="655" y="449"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="640" y="480"/>
                  <Name>CurrentFiltered</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
CurrentFiltered</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="2">Inport</Type>
                  <Position x="640" y="540"/>
                  <Name>AverageCurrentConsumption</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
Average
Current
Consumption</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Data Type Conversion</Name>
               <Identifier>&lt;S4&gt;/Data Type Conversion</Identifier>
               <Type>DataTypeConversion</Type>
               <Position h="34" w="35" x="-275" y="178"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-290" y="195"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S22&gt;</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-235" y="195"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-235" y="195"/>
                     <Point x="-225" y="195"/>
                  </Line>
                  <Signal Category="Output" Name="DataTypeConversion" ReadOnly="true">
                     <AdsIdxOffs>#x82000198</AdsIdxOffs>
                  </Signal>
               </Port>
            </Block>
            <Block>
               <Name>Discrete-Time
Integrator</Name>
               <Identifier>&lt;S4&gt;/Discrete-Time
Integrator</Identifier>
               <Type>DiscreteIntegrator</Type>
               <Position h="36" w="35" x="-220" y="177"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-235" y="195"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/Data Type Conversion</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-180" y="195"/>
                  <Name>RecalibrationCounter</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>RecalibrationCounter</Name>
                     <Point x="-180" y="195"/>
                     <Point x="-171" y="195"/>
                     <Line>
                        <Name>RecalibrationCounter</Name>
                        <Point x="-171" y="195"/>
                        <Point x="-171" y="225"/>
                        <Point x="-130" y="225"/>
                     </Line>
                     <Line>
                        <Name>RecalibrationCounter</Name>
                        <Point x="-171" y="195"/>
                        <Point x="40" y="195"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Edge
Detector</Name>
               <Identifier>&lt;S22&gt;</Identifier>
               <Type>SubSystem</Type>
               <Position h="36" w="50" x="-345" y="177"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-360" y="195"/>
                  <Name>RecalibrationTrigger</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
recalibration
trigger</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-290" y="195"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-290" y="195"/>
                     <Point x="-280" y="195"/>
                  </Line>
               </Port>
               <State Category="Output" Name="Delay" ReadOnly="true">
                  <AdsIdxOffs>#x820001A3</AdsIdxOffs>
               </State>
               <State Category="Output" Name="LogicalConverter" ReadOnly="true">
                  <AdsIdxOffs>#x820001A6</AdsIdxOffs>
               </State>
               <State Category="Output" Name="LogicalOperator1_l" ReadOnly="true">
                  <AdsIdxOffs>#x820001A5</AdsIdxOffs>
               </State>
               <State Category="Output" Name="LogicalOperator_e" ReadOnly="true">
                  <AdsIdxOffs>#x820001A4</AdsIdxOffs>
               </State>
               <State Category="DWork" Name="Delay_DSTATE" ReadOnly="true"/>
            </Block>
            <Block>
               <Name>Estimated_Times_Scope</Name>
               <Identifier>&lt;S4&gt;/Estimated_Times_Scope</Identifier>
               <Type>Scope</Type>
               <Position h="167" w="110" x="655" y="679"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="640" y="720"/>
                  <Name>EstimatedRunningTime</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
Estimated
Running
Time</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="2">Inport</Type>
                  <Position x="640" y="805"/>
                  <Name>EstimatedChargingTime</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
Estimated
Charging
Time</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>From
Average
Current
Consumption</Name>
               <Identifier>&lt;S4&gt;/From
Average
Current
Consumption</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="295" y="526"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="Z"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="340" y="540"/>
                  <Name>AverageCurrentConsumption</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>AverageCurrentConsumption</Name>
                     <Point x="340" y="540"/>
                     <Point x="441" y="540"/>
                     <Line>
                        <Name>AverageCurrentConsumption</Name>
                        <Point x="441" y="540"/>
                        <Point x="650" y="540"/>
                     </Line>
                     <Line>
                        <Name>AverageCurrentConsumption</Name>
                        <Point x="441" y="540"/>
                        <Point x="441" y="565"/>
                        <Point x="480" y="565"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From
Coulombs</Name>
               <Identifier>&lt;S4&gt;/From
Coulombs</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="295" y="621"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="U"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="340" y="635"/>
                  <Name>Coulombs</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>Coulombs</Name>
                     <Point x="340" y="635"/>
                     <Point x="480" y="635"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From
Current</Name>
               <Identifier>&lt;S4&gt;/From
Current</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="295" y="406"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="V"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="340" y="420"/>
                  <Name>Current</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>Current</Name>
                     <Point x="340" y="420"/>
                     <Point x="480" y="420"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From
CurrentFiltered</Name>
               <Identifier>&lt;S4&gt;/From
CurrentFiltered</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="295" y="466"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="Y"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="340" y="480"/>
                  <Name>CurrentFiltered</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>CurrentFiltered</Name>
                     <Point x="340" y="480"/>
                     <Point x="650" y="480"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From
Estimated
Charging
Time</Name>
               <Identifier>&lt;S4&gt;/From
Estimated
Charging
Time</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="295" y="791"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="O3"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="340" y="805"/>
                  <Name>EstimatedChargingTime</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>EstimatedChargingTime</Name>
                     <Point x="340" y="805"/>
                     <Point x="650" y="805"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From
Estimated
Running
Time</Name>
               <Identifier>&lt;S4&gt;/From
Estimated
Running
Time</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="295" y="706"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="O2"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="340" y="720"/>
                  <Name>EstimatedRunningTime</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>EstimatedRunningTime</Name>
                     <Point x="340" y="720"/>
                     <Point x="650" y="720"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From
SoC</Name>
               <Identifier>&lt;S4&gt;/From
SoC</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="-415" y="321"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="O1"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-370" y="335"/>
                  <Name>SoC</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>SoC</Name>
                     <Point x="-370" y="335"/>
                     <Point x="40" y="335"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From
Voltage</Name>
               <Identifier>&lt;S4&gt;/From
Voltage</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="-415" y="851"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="W"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-370" y="865"/>
                  <Name>Voltage</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>Voltage</Name>
                     <Point x="-370" y="865"/>
                     <Point x="-130" y="865"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From
VoltageFiltered</Name>
               <Identifier>&lt;S4&gt;/From
VoltageFiltered</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="295" y="106"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="X"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="340" y="120"/>
                  <Name>VoltageFiltered</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>VoltageFiltered</Name>
                     <Point x="340" y="120"/>
                     <Point x="650" y="120"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From
calculated OCV</Name>
               <Identifier>&lt;S4&gt;/From
calculated OCV</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="295" y="166"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="F"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="340" y="180"/>
                  <Name>CalculatedOCV</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>CalculatedOCV</Name>
                     <Point x="340" y="180"/>
                     <Point x="445" y="180"/>
                     <Line>
                        <Name>CalculatedOCV</Name>
                        <Point x="445" y="180"/>
                        <Point x="445" y="200"/>
                        <Point x="480" y="200"/>
                     </Line>
                     <Line>
                        <Name>CalculatedOCV</Name>
                        <Point x="445" y="180"/>
                        <Point x="650" y="180"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From
internal 
resistance</Name>
               <Identifier>&lt;S4&gt;/From
internal 
resistance</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="295" y="286"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="D"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="340" y="300"/>
                  <Name>InternalResistance</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>InternalResistance</Name>
                     <Point x="340" y="300"/>
                     <Point x="443" y="300"/>
                     <Line>
                        <Name>InternalResistance</Name>
                        <Point x="443" y="300"/>
                        <Point x="443" y="325"/>
                        <Point x="480" y="325"/>
                     </Line>
                     <Line>
                        <Name>InternalResistance</Name>
                        <Point x="443" y="300"/>
                        <Point x="650" y="300"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From
recalibration
trigger</Name>
               <Identifier>&lt;S4&gt;/From
recalibration
trigger</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="-415" y="121"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="A"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-370" y="135"/>
                  <Name>RecalibrationTrigger</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>RecalibrationTrigger</Name>
                     <Point x="-370" y="135"/>
                     <Point x="-363" y="135"/>
                     <Line>
                        <Name>RecalibrationTrigger</Name>
                        <Point x="-363" y="135"/>
                        <Point x="-170" y="135"/>
                        <Line>
                           <Name>RecalibrationTrigger</Name>
                           <Point x="-170" y="135"/>
                           <Point x="-170" y="165"/>
                           <Point x="-130" y="165"/>
                        </Line>
                        <Line>
                           <Name>RecalibrationTrigger</Name>
                           <Point x="-170" y="135"/>
                           <Point x="40" y="135"/>
                        </Line>
                     </Line>
                     <Line>
                        <Name>RecalibrationTrigger</Name>
                        <Point x="-363" y="135"/>
                        <Point x="-363" y="195"/>
                        <Point x="-350" y="195"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From
recalibration value</Name>
               <Identifier>&lt;S4&gt;/From
recalibration value</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="-415" y="451"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="B"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-370" y="465"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-370" y="465"/>
                     <Point x="-344" y="465"/>
                     <Line>
                        <Point x="-344" y="465"/>
                        <Point x="-344" y="770"/>
                        <Point x="-320" y="770"/>
                     </Line>
                     <Line>
                        <Point x="-344" y="465"/>
                        <Point x="-285" y="465"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From
voltage drop</Name>
               <Identifier>&lt;S4&gt;/From
voltage drop</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="295" y="226"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="E"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="340" y="240"/>
                  <Name>VoltageDrop</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>VoltageDrop</Name>
                     <Point x="340" y="240"/>
                     <Point x="442" y="240"/>
                     <Line>
                        <Name>VoltageDrop</Name>
                        <Point x="442" y="240"/>
                        <Point x="442" y="265"/>
                        <Point x="480" y="265"/>
                     </Line>
                     <Line>
                        <Name>VoltageDrop</Name>
                        <Point x="442" y="240"/>
                        <Point x="650" y="240"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From counted
coulombs</Name>
               <Identifier>&lt;S4&gt;/From counted
coulombs</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="-415" y="666"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="CC"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-370" y="680"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-370" y="680"/>
                     <Point x="-320" y="680"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From initial
recalibration
trigger</Name>
               <Identifier>&lt;S4&gt;/From initial
recalibration
trigger</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="-415" y="711"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="IRT"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-370" y="725"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-370" y="725"/>
                     <Point x="-320" y="725"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>From legacy
recalibration value</Name>
               <Identifier>&lt;S4&gt;/From legacy
recalibration value</Identifier>
               <Type>From</Type>
               <Position h="28" w="40" x="-415" y="581"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="FromTag" Value="C"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-370" y="595"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-370" y="595"/>
                     <Point x="-285" y="595"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Gain</Name>
               <Identifier>&lt;S4&gt;/Gain</Identifier>
               <Type>Gain</Type>
               <Position h="36" w="45" x="-280" y="447"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Gain" Value="100"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-295" y="465"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
recalibration value</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-230" y="465"/>
                  <Name>RecalibrationValue</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>RecalibrationValue</Name>
                     <Point x="-230" y="465"/>
                     <Point x="-173" y="465"/>
                     <Line>
                        <Name>RecalibrationValue</Name>
                        <Point x="-173" y="465"/>
                        <Point x="40" y="465"/>
                     </Line>
                     <Line>
                        <Name>RecalibrationValue</Name>
                        <Point x="-173" y="465"/>
                        <Point x="-173" y="425"/>
                        <Point x="-130" y="425"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Gain1</Name>
               <Identifier>&lt;S4&gt;/Gain1</Identifier>
               <Type>Gain</Type>
               <Position h="36" w="45" x="-280" y="577"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Gain" Value="100"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-295" y="595"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From legacy
recalibration value</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-230" y="595"/>
                  <Name>LegacyRecalibrationValue</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>LegacyRecalibrationValue</Name>
                     <Point x="-230" y="595"/>
                     <Point x="-189" y="595"/>
                     <Line>
                        <Name>LegacyRecalibrationValue</Name>
                        <Point x="-189" y="595"/>
                        <Point x="-189" y="555"/>
                        <Point x="-130" y="555"/>
                     </Line>
                     <Line>
                        <Name>LegacyRecalibrationValue</Name>
                        <Point x="-189" y="595"/>
                        <Point x="40" y="595"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Gain2</Name>
               <Identifier>&lt;S4&gt;/Gain2</Identifier>
               <Type>Gain</Type>
               <Position h="36" w="45" x="-165" y="707"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Gain" Value="100"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-180" y="725"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/Current Integration (Coloumb Counting)</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-115" y="725"/>
                  <Name>CountedCoulombsSoC</Name>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Name>CountedCoulombsSoC</Name>
                     <Point x="-115" y="725"/>
                     <Point x="-102" y="725"/>
                     <Line>
                        <Name>CountedCoulombsSoC</Name>
                        <Point x="-102" y="725"/>
                        <Point x="-102" y="700"/>
                        <Point x="-80" y="700"/>
                     </Line>
                     <Line>
                        <Name>CountedCoulombsSoC</Name>
                        <Point x="-102" y="725"/>
                        <Point x="40" y="725"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>OCV_Calculation_Scope</Name>
               <Identifier>&lt;S4&gt;/OCV_Calculation_Scope</Identifier>
               <Type>Scope</Type>
               <Position h="242" w="110" x="655" y="89"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="640" y="120"/>
                  <Name>VoltageFiltered</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
VoltageFiltered</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="2">Inport</Type>
                  <Position x="640" y="180"/>
                  <Name>CalculatedOCV</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
calculated OCV</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="3">Inport</Type>
                  <Position x="640" y="240"/>
                  <Name>VoltageDrop</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
voltage drop</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="4">Inport</Type>
                  <Position x="640" y="300"/>
                  <Name>InternalResistance</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
internal 
resistance</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Recalibrations_Scope</Name>
               <Identifier>&lt;S4&gt;/Recalibrations_Scope</Identifier>
               <Type>Scope</Type>
               <Position h="116" w="110" x="45" y="107"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="30" y="135"/>
                  <Name>RecalibrationTrigger</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
recalibration
trigger</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="2">Inport</Type>
                  <Position x="30" y="195"/>
                  <Name>RecalibrationCounter</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/Discrete-Time
Integrator</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>SoCs_Scope</Name>
               <Identifier>&lt;S4&gt;/SoCs_Scope</Identifier>
               <Type>Scope</Type>
               <Position h="522" w="110" x="45" y="269"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="30" y="335"/>
                  <Name>SoC</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
SoC</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="2">Inport</Type>
                  <Position x="30" y="465"/>
                  <Name>RecalibrationValue</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/Gain</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="3">Inport</Type>
                  <Position x="30" y="595"/>
                  <Name>LegacyRecalibrationValue</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/Gain1</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="4">Inport</Type>
                  <Position x="30" y="725"/>
                  <Name>CountedCoulombsSoC</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/Gain2</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Debug_RecalibrationTrigger</Name>
               <Identifier>&lt;S4&gt;/Debug_RecalibrationTrigger</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="-125" y="158"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="1"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-140" y="165"/>
                  <Name>RecalibrationTrigger</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
recalibration
trigger</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Debug_RecalibrationTriggerCounter</Name>
               <Identifier>&lt;S4&gt;/Debug_RecalibrationTriggerCounter</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="-125" y="218"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="2"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-140" y="225"/>
                  <Name>RecalibrationCounter</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/Discrete-Time
Integrator</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Debug_RecalibrationValue</Name>
               <Identifier>&lt;S4&gt;/Debug_RecalibrationValue</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="-125" y="418"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="3"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-140" y="425"/>
                  <Name>RecalibrationValue</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/Gain</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Debug_LegacyRecalibrationValue</Name>
               <Identifier>&lt;S4&gt;/Debug_LegacyRecalibrationValue</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="-125" y="548"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="4"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-140" y="555"/>
                  <Name>LegacyRecalibrationValue</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/Gain1</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Debug_InternalResistance</Name>
               <Identifier>&lt;S4&gt;/Debug_InternalResistance</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="485" y="318"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="5"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="470" y="325"/>
                  <Name>InternalResistance</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
internal 
resistance</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Debug_VoltageDrop</Name>
               <Identifier>&lt;S4&gt;/Debug_VoltageDrop</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="485" y="258"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="6"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="470" y="265"/>
                  <Name>VoltageDrop</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
voltage drop</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Debug_CalculatedOCV</Name>
               <Identifier>&lt;S4&gt;/Debug_CalculatedOCV</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="485" y="193"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="7"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="470" y="200"/>
                  <Name>CalculatedOCV</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
calculated OCV</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Debug_AverageCurrentConsumption</Name>
               <Identifier>&lt;S4&gt;/Debug_AverageCurrentConsumption</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="485" y="558"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="8"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="470" y="565"/>
                  <Name>AverageCurrentConsumption</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
Average
Current
Consumption</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Debug_Voltage</Name>
               <Identifier>&lt;S4&gt;/Debug_Voltage</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="-125" y="858"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="9"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-140" y="865"/>
                  <Name>Voltage</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
Voltage</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Debug_Current</Name>
               <Identifier>&lt;S4&gt;/Debug_Current</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="485" y="413"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="10"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="470" y="420"/>
                  <Name>Current</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
Current</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Debug_Coulombs</Name>
               <Identifier>&lt;S4&gt;/Debug_Coulombs</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="485" y="628"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="11"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="470" y="635"/>
                  <Name>Coulombs</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/From
Coulombs</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Debug_CountedColoumbsSoC</Name>
               <Identifier>&lt;S4&gt;/Debug_CountedColoumbsSoC</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="-75" y="693"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="12"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-90" y="700"/>
                  <Name>CountedCoulombsSoC</Name>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S4&gt;/Gain2</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
         </Block>
         <Block>
            <Name>Round Current on 3 digits </Name>
            <Identifier>&lt;Root&gt;/Round Current on 3 digits</Identifier>
            <Type>SubSystem</Type>
            <Position h="46" w="70" x="1330" y="677"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1315" y="700"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S2&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>3</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="1405" y="700"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1405" y="700"/>
                  <Point x="1450" y="700"/>
               </Line>
               <Signal Category="Output" Name="CurrentOut" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.CurrentOut</GlobalName>
                  <AdsIdxOffs>#x81000018</AdsIdxOffs>
               </Signal>
            </Port>
            <Annotation>
               <Text>function</Text>
               <Position x="80" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
               <FontColor>#FF0000FF</FontColor>
            </Annotation>
            <Annotation>
               <Text> </Text>
               <Position x="137" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>y</Text>
               <Position x="145" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text> = fcn(</Text>
               <Position x="156" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="202" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>)</Text>
               <Position x="214" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>    </Text>
               <Position x="80" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="100" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text> = </Text>
               <Position x="112" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="133" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>*1000;</Text>
               <Position x="145" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>    </Text>
               <Position x="80" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="100" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text> = round(</Text>
               <Position x="112" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="177" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>);</Text>
               <Position x="189" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>    </Text>
               <Position x="80" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>y</Text>
               <Position x="100" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text> = </Text>
               <Position x="111" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="132" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>/1000;</Text>
               <Position x="144" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
         </Block>
         <Block>
            <Name>Round SoC on 1 digit</Name>
            <Identifier>&lt;Root&gt;/Round SoC on 1 digit</Identifier>
            <Type>SubSystem</Type>
            <Position h="46" w="70" x="1330" y="212"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1315" y="235"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S1&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="1405" y="235"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1405" y="235"/>
                  <Point x="1450" y="235"/>
               </Line>
               <Signal Category="Output" Name="SoC" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.SoC</GlobalName>
                  <AdsIdxOffs>#x81000000</AdsIdxOffs>
               </Signal>
            </Port>
            <Annotation>
               <Text>function</Text>
               <Position x="80" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
               <FontColor>#FF0000FF</FontColor>
            </Annotation>
            <Annotation>
               <Text> </Text>
               <Position x="137" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>y</Text>
               <Position x="145" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text> = fcn(</Text>
               <Position x="156" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="202" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>)</Text>
               <Position x="214" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>    </Text>
               <Position x="80" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="100" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text> = </Text>
               <Position x="112" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="133" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>*10;</Text>
               <Position x="145" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>    </Text>
               <Position x="80" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="100" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text> = round(</Text>
               <Position x="112" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="177" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>);</Text>
               <Position x="189" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>    </Text>
               <Position x="80" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>y</Text>
               <Position x="100" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text> = </Text>
               <Position x="111" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="132" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>/10;</Text>
               <Position x="144" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
         </Block>
         <Block>
            <Name>Round Voltage on 3 digits </Name>
            <Identifier>&lt;Root&gt;/Round Voltage on 3 digits</Identifier>
            <Type>SubSystem</Type>
            <Position h="46" w="70" x="1330" y="612"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1315" y="635"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S2&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>2</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="1405" y="635"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="1405" y="635"/>
                  <Point x="1450" y="635"/>
               </Line>
               <Signal Category="Output" Name="VoltageOut" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.VoltageOut</GlobalName>
                  <AdsIdxOffs>#x81000010</AdsIdxOffs>
               </Signal>
            </Port>
            <Annotation>
               <Text>function</Text>
               <Position x="80" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
               <FontColor>#FF0000FF</FontColor>
            </Annotation>
            <Annotation>
               <Text> </Text>
               <Position x="137" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>y</Text>
               <Position x="145" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text> = fcn(</Text>
               <Position x="156" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="202" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>)</Text>
               <Position x="214" y="20"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>    </Text>
               <Position x="80" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="100" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text> = </Text>
               <Position x="112" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="133" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>*1000;</Text>
               <Position x="145" y="34"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>    </Text>
               <Position x="80" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="100" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text> = round(</Text>
               <Position x="112" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="177" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>);</Text>
               <Position x="189" y="48"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>    </Text>
               <Position x="80" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>y</Text>
               <Position x="100" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text> = </Text>
               <Position x="111" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>u</Text>
               <Position x="132" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
            <Annotation>
               <Text>/1000;</Text>
               <Position x="144" y="62"/>
               <Alignment H="left" V="top"/>
               <FontName>Arial</FontName>
               <FontSize>12</FontSize>
            </Annotation>
         </Block>
         <Block>
            <Name>SoC Calculation</Name>
            <Identifier>&lt;S8&gt;</Identifier>
            <Type>SubSystem</Type>
            <Position h="324" w="290" x="610" y="93"/>
            <BlockDesign>
               <Border>
                  <svg height="324" width="290">
                     <rect height="324" rx="0" ry="0" style="stroke:blue;stroke-width:1;fill:cyan;" width="290" x="0" y="0"/>
                  </svg>
               </Border>
               <Image>
                  <svg height="324" width="290">
                     <rect height="324" rx="0" ry="0" style="stroke:blue;stroke-width:1;fill:cyan;" width="290" x="0" y="0"/>
                  </svg>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="595" y="115"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S2&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>2</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="2">Inport</Type>
               <Position x="595" y="155"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S2&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>3</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="3">Inport</Type>
               <Position x="595" y="195"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;Root&gt;/Coulombs</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="4">Inport</Type>
               <Position x="595" y="235"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S2&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="5">Inport</Type>
               <Position x="595" y="275"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S2&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>8</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="6">Inport</Type>
               <Position x="595" y="315"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S9&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="7">Inport</Type>
               <Position x="595" y="355"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;Root&gt;/ExternalRecalibrationTrigger</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="8">Inport</Type>
               <Position x="595" y="395"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;Root&gt;/ExternalRecalibrationValue</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
            </Port>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="905" y="255"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="905" y="255"/>
                  <Point x="918" y="255"/>
                  <Point x="918" y="380"/>
                  <Point x="1015" y="380"/>
               </Line>
            </Port>
            <Block>
               <Name>Voltage</Name>
               <Identifier>&lt;S8&gt;/Voltage</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="-220" y="398"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="1"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-185" y="405"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-185" y="405"/>
                     <Point x="-75" y="405"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Current</Name>
               <Identifier>&lt;S8&gt;/Current</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="-220" y="433"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="2"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-185" y="440"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-185" y="440"/>
                     <Point x="-75" y="440"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Coulombs</Name>
               <Identifier>&lt;S8&gt;/Coulombs</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="-220" y="143"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="3"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-185" y="150"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-185" y="150"/>
                     <Point x="-85" y="150"/>
                     <Line>
                        <Point x="-85" y="150"/>
                        <Point x="-85" y="175"/>
                        <Point x="-50" y="175"/>
                     </Line>
                     <Line>
                        <Point x="-85" y="150"/>
                        <Point x="245" y="150"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>ChargingState</Name>
               <Identifier>&lt;S8&gt;/ChargingState</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="-220" y="33"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="4"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-185" y="40"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-185" y="40"/>
                     <Point x="-111" y="40"/>
                     <Line>
                        <Point x="-111" y="40"/>
                        <Point x="245" y="40"/>
                     </Line>
                     <Line>
                        <Point x="-111" y="40"/>
                        <Point x="-111" y="335"/>
                        <Point x="-75" y="335"/>
                     </Line>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>IdleState</Name>
               <Identifier>&lt;S8&gt;/IdleState</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="-220" y="363"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="5"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-185" y="370"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-185" y="370"/>
                     <Point x="-75" y="370"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>MaximumCapacity</Name>
               <Identifier>&lt;S8&gt;/MaximumCapacity</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="-220" y="253"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="6"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-185" y="260"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-185" y="260"/>
                     <Point x="245" y="260"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>ExternalRecalibrationTrigger</Name>
               <Identifier>&lt;S8&gt;/ExternalRecalibrationTrigger</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="-220" y="468"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="7"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-185" y="475"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-185" y="475"/>
                     <Point x="-75" y="475"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>ExternalRecalibrationValue</Name>
               <Identifier>&lt;S8&gt;/ExternalRecalibrationValue</Identifier>
               <Type>Inport</Type>
               <Position h="14" w="30" x="-220" y="503"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="8"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-185" y="510"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-185" y="510"/>
                     <Point x="-75" y="510"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Current Integration with Coloumb Effectivity</Name>
               <Identifier>&lt;S26&gt;</Identifier>
               <Type>SubSystem</Type>
               <Position h="548" w="270" x="250" y="-14"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="235" y="40"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S8&gt;/ChargingState</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="2">Inport</Type>
                  <Position x="235" y="150"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S8&gt;/Coulombs</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="3">Inport</Type>
                  <Position x="235" y="260"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S8&gt;/MaximumCapacity</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="4">Inport</Type>
                  <Position x="235" y="370"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S27&gt;</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="5">Inport</Type>
                  <Position x="235" y="480"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S27&gt;</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>2</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="525" y="260"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="525" y="260"/>
                     <Point x="590" y="260"/>
                  </Line>
                  <Signal Category="Output" Name="CurrentIntegrationColoumbCounti" ReadOnly="true">
                     <AdsIdxOffs>#x82000050</AdsIdxOffs>
                  </Signal>
               </Port>
               <State Category="Output" Name="Calculateeffectivityoftransport" ReadOnly="true">
                  <AdsIdxOffs>#x82000108</AdsIdxOffs>
               </State>
               <State Category="Output" Name="Negatebecausestateofchargeandno" ReadOnly="true">
                  <AdsIdxOffs>#x82000110</AdsIdxOffs>
               </State>
               <Block>
                  <Name>ChargingState</Name>
                  <Identifier>&lt;S26&gt;/ChargingState</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-195" y="83"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-160" y="90"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-160" y="90"/>
                        <Point x="105" y="90"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Coulombs</Name>
                  <Identifier>&lt;S26&gt;/Coulombs</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-195" y="203"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="2"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-160" y="210"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-160" y="210"/>
                        <Point x="165" y="210"/>
                        <Point x="225" y="175"/>
                        <Point x="235" y="175"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>MaximumCapacity</Name>
                  <Identifier>&lt;S26&gt;/MaximumCapacity</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-195" y="253"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="3"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-160" y="260"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-160" y="260"/>
                        <Point x="10" y="260"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>RecalibrationTrigger</Name>
                  <Identifier>&lt;S26&gt;/RecalibrationTrigger</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-195" y="358"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="4"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-160" y="365"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-160" y="365"/>
                        <Point x="515" y="365"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>SoC_0</Name>
                  <Identifier>&lt;S26&gt;/SoC_0</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-195" y="503"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="5"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-160" y="510"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-160" y="510"/>
                        <Point x="515" y="510"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Ah -&gt; As

</Name>
                  <Identifier>&lt;S26&gt;/Ah -&gt; As</Identifier>
                  <Type>Gain</Type>
                  <Position h="42" w="85" x="15" y="239"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Gain" Value="3600"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="0" y="260"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/MaximumCapacity</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="105" y="260"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="105" y="260"/>
                        <Point x="235" y="260"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Calculate effectivity of transported coloumbs
and scale to capacity</Name>
                  <Identifier>&lt;S26&gt;/Calculate effectivity of transported coloumbs
and scale to capacity</Identifier>
                  <Type>Product</Type>
                  <Position h="254" w="75" x="240" y="48"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="225" y="90"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/Switch</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="225" y="175"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/Coulombs</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="3">Inport</Type>
                     <Position x="225" y="260"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/Ah -&gt; As</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="320" y="175"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="320" y="175"/>
                        <Point x="378" y="175"/>
                        <Point x="378" y="220"/>
                        <Point x="455" y="220"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Charging Effectivity eta_C</Name>
                  <Identifier>&lt;S26&gt;/Charging Effectivity eta_C</Identifier>
                  <Type>Lookup_n-D</Type>
                  <Position h="36" w="105" x="-25" y="37"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="-40" y="55"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/Eta_C is dependent of SoC</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="85" y="55"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="85" y="55"/>
                        <Point x="105" y="55"/>
                     </Line>
                     <Signal Category="Output" Name="ChargingEffectivityeta_C" ReadOnly="true">
                        <AdsIdxOffs>#x82000140</AdsIdxOffs>
                     </Signal>
                  </Port>
               </Block>
               <Block>
                  <Name>Current Integration (Coloumb Counting)</Name>
                  <Identifier>&lt;S26&gt;/Current Integration (Coloumb Counting)</Identifier>
                  <Type>DiscreteIntegrator</Type>
                  <Position h="434" w="145" x="520" y="148"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="505" y="220"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/Negate
because
state-of-charge
and not state-of-
discharge
is calculated</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="505" y="365"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/RecalibrationTrigger</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="3">Inport</Type>
                     <Position x="505" y="510"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/SoC_0</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="670" y="365"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="670" y="365"/>
                        <Point x="721" y="365"/>
                        <Line>
                           <Point x="721" y="365"/>
                           <Point x="790" y="365"/>
                        </Line>
                        <Line>
                           <Point x="721" y="365"/>
                           <Point x="721" y="-40"/>
                           <Point x="590" y="-40"/>
                        </Line>
                     </Line>
                     <Signal Category="Output" Name="CurrentIntegrationColoumbCounti" ReadOnly="true">
                        <AdsIdxOffs>#x82000050</AdsIdxOffs>
                     </Signal>
                  </Port>
                  <State Category="DWork" Name="CurrentIntegrationColoumbCoun_c" ReadOnly="true"/>
                  <State Category="DWork" Name="CurrentIntegrationColoumbCoun_p" ReadOnly="true"/>
                  <State Category="DWork" Name="CurrentIntegrationColoumbCounti" ReadOnly="true"/>
               </Block>
               <Block>
                  <Name>Discharging Effectivity
(approximated and not
in dependency of I and SoC)</Name>
                  <Identifier>&lt;S26&gt;/Discharging Effectivity
(approximated and not
in dependency of I and SoC)</Identifier>
                  <Type>Constant</Type>
                  <Position h="32" w="110" x="-25" y="109"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Value" Value="1/DischargingEffectivity"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="90" y="125"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="90" y="125"/>
                        <Point x="105" y="125"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Eta_C is dependent of SoC</Name>
                  <Identifier>&lt;S26&gt;/Eta_C is dependent of SoC</Identifier>
                  <Type>Memory</Type>
                  <Position h="30" w="30" x="555" y="-55"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="600" y="-40"/>
                     <Rotation>3.1416</Rotation>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/Current Integration (Coloumb Counting)</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="550" y="-40"/>
                     <Rotation>3.1416</Rotation>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="550" y="-40"/>
                        <Point x="-127" y="-40"/>
                        <Point x="-127" y="55"/>
                        <Line>
                           <Point x="-127" y="55"/>
                           <Point x="-127" y="125"/>
                           <Point x="-55" y="125"/>
                        </Line>
                        <Line>
                           <Point x="-127" y="55"/>
                           <Point x="-30" y="55"/>
                        </Line>
                     </Line>
                     <Signal Category="Output" Name="Eta_CisdependentofSoC" ReadOnly="true">
                        <AdsIdxOffs>#x820000F8</AdsIdxOffs>
                     </Signal>
                  </Port>
                  <State Category="DWork" Name="Eta_CisdependentofSoC_PreviousI" ReadOnly="true"/>
               </Block>
               <Block>
                  <Name>Goto Debug
 Outputs</Name>
                  <Identifier>&lt;S26&gt;/Goto Debug
 Outputs</Identifier>
                  <Type>Goto</Type>
                  <Position h="30" w="40" x="450" y="170"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="GotoTag" Value="CC"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="505" y="185"/>
                     <Rotation>3.1416</Rotation>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/Negate
because
state-of-charge
and not state-of-
discharge
is calculated</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
               </Block>
               <Block>
                  <Name>Negate
because
state-of-charge
and not state-of-
discharge
is calculated</Name>
                  <Identifier>&lt;S26&gt;/Negate
because
state-of-charge
and not state-of-
discharge
is calculated</Identifier>
                  <Type>UnaryMinus</Type>
                  <Position h="30" w="30" x="460" y="205"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="445" y="220"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/Calculate effectivity of transported coloumbs
and scale to capacity</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="495" y="220"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="495" y="220"/>
                        <Point x="504" y="220"/>
                        <Line>
                           <Point x="504" y="220"/>
                           <Point x="515" y="220"/>
                        </Line>
                        <Line>
                           <Point x="504" y="220"/>
                           <Point x="504" y="185"/>
                           <Point x="495" y="185"/>
                        </Line>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Switch</Name>
                  <Identifier>&lt;S26&gt;/Switch</Identifier>
                  <Type>Switch</Type>
                  <Position h="106" w="50" x="110" y="37"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="95" y="55"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/Charging Effectivity eta_C</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="95" y="90"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/ChargingState</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="3">Inport</Type>
                     <Position x="95" y="125"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/Discharging Effectivity
(approximated and not
in dependency of I and SoC)</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="165" y="90"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="165" y="90"/>
                        <Point x="235" y="90"/>
                     </Line>
                     <Signal Category="Output" Name="Switch" ReadOnly="true">
                        <AdsIdxOffs>#x82000100</AdsIdxOffs>
                     </Signal>
                  </Port>
               </Block>
               <Block>
                  <Name>Terminator</Name>
                  <Identifier>&lt;S26&gt;/Terminator</Identifier>
                  <Type>Terminator</Type>
                  <Position h="20" w="20" x="-50" y="115"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="-65" y="125"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/Eta_C is dependent of SoC</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
               </Block>
               <Block>
                  <Name>SoC</Name>
                  <Identifier>&lt;S26&gt;/SoC</Identifier>
                  <Type>Outport</Type>
                  <Position h="14" w="30" x="795" y="358"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="780" y="365"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S26&gt;/Current Integration (Coloumb Counting)</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
               </Block>
               <Annotation>
                  <Text>Charging and Discharging Effectivity</Text>
                  <Position x="-70" y="13"/>
                  <Alignment H="left" V="top"/>
                  <FontName>auto</FontName>
                  <FontSize>12</FontSize>
                  <FontWeight>auto</FontWeight>
               </Annotation>
               <Annotation>
                  <Text>Calculation of Effectivity Corrected Flowing Coulombs, Scaled to Maximum Battery Load</Text>
                  <Position x="-95" y="-14"/>
                  <Alignment H="left" V="top"/>
                  <FontName>auto</FontName>
                  <FontSize>12</FontSize>
                  <FontWeight>auto</FontWeight>
               </Annotation>
               <Annotation>
                  <Text>Counting of Coulombs Flowing out of the Battery</Text>
                  <Position x="428" y="116"/>
                  <Alignment H="left" V="top"/>
                  <FontName>auto</FontName>
                  <FontSize>12</FontSize>
                  <FontWeight>auto</FontWeight>
               </Annotation>
            </Block>
            <Block>
               <Name>Goto
Debug Outputs</Name>
               <Identifier>&lt;S8&gt;/Goto
Debug Outputs</Identifier>
               <Type>Goto</Type>
               <Position h="30" w="40" x="-45" y="160"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="GotoTag" Value="U"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-60" y="175"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S8&gt;/Coulombs</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
            <Block>
               <Name>Recalibration</Name>
               <Identifier>&lt;S27&gt;</Identifier>
               <Type>SubSystem</Type>
               <Position h="225" w="240" x="-70" y="310"/>
               <BlockDesign>
                  <Border>
                     <svg height="225" width="240">
                        <rect height="225" rx="0" ry="0" style="stroke:blue;stroke-width:1;fill:cyan;" width="240" x="0" y="0"/>
                     </svg>
                  </Border>
                  <Image>
                     <svg height="225" width="240">
                        <rect height="225" rx="0" ry="0" style="stroke:blue;stroke-width:1;fill:cyan;" width="240" x="0" y="0"/>
                     </svg>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="-85" y="335"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S8&gt;/ChargingState</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="2">Inport</Type>
                  <Position x="-85" y="370"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S8&gt;/IdleState</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="3">Inport</Type>
                  <Position x="-85" y="405"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S8&gt;/Voltage</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="4">Inport</Type>
                  <Position x="-85" y="440"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S8&gt;/Current</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="5">Inport</Type>
                  <Position x="-85" y="475"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S8&gt;/ExternalRecalibrationTrigger</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="6">Inport</Type>
                  <Position x="-85" y="510"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S8&gt;/ExternalRecalibrationValue</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="175" y="370"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="175" y="370"/>
                     <Point x="245" y="370"/>
                  </Line>
               </Port>
               <Port>
                  <Type No="2">Outport</Type>
                  <Position x="175" y="480"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="175" y="480"/>
                     <Point x="245" y="480"/>
                  </Line>
               </Port>
               <Block>
                  <Name>ChargingState</Name>
                  <Identifier>&lt;S27&gt;/ChargingState</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-80" y="18"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-45" y="25"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-45" y="25"/>
                        <Point x="100" y="25"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>IdleState</Name>
                  <Identifier>&lt;S27&gt;/IdleState</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-80" y="93"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="2"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-45" y="100"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-45" y="100"/>
                        <Point x="100" y="100"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Voltage</Name>
                  <Identifier>&lt;S27&gt;/Voltage</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-80" y="328"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="3"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-45" y="335"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-45" y="335"/>
                        <Point x="100" y="335"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Current</Name>
                  <Identifier>&lt;S27&gt;/Current</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-80" y="383"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="4"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-45" y="390"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-45" y="390"/>
                        <Point x="100" y="390"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>ExternalRecalibrationTrigger</Name>
                  <Identifier>&lt;S27&gt;/ExternalRecalibrationTrigger</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-80" y="168"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="5"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-45" y="175"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-45" y="175"/>
                        <Point x="27" y="175"/>
                        <Line>
                           <Point x="27" y="175"/>
                           <Point x="100" y="175"/>
                        </Line>
                        <Line>
                           <Point x="27" y="175"/>
                           <Point x="27" y="445"/>
                           <Point x="100" y="445"/>
                        </Line>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>ExternalRecalibrationValue</Name>
                  <Identifier>&lt;S27&gt;/ExternalRecalibrationValue</Identifier>
                  <Type>Inport</Type>
                  <Position h="14" w="30" x="-80" y="493"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="6"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="-45" y="500"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="-45" y="500"/>
                        <Point x="100" y="500"/>
                     </Line>
                  </Port>
               </Block>
               <Block>
                  <Name>Recalibration Triggers</Name>
                  <Identifier>&lt;S28&gt;</Identifier>
                  <Type>SubSystem</Type>
                  <Position h="230" w="260" x="105" y="-15"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="90" y="25"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S27&gt;/ChargingState</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="90" y="100"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S27&gt;/IdleState</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="3">Inport</Type>
                     <Position x="90" y="175"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S27&gt;/ExternalRecalibrationTrigger</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="370" y="100"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="370" y="100"/>
                        <Point x="510" y="100"/>
                     </Line>
                  </Port>
                  <State Category="Output" Name="LogicalOperator" ReadOnly="true">
                     <AdsIdxOffs>#x8200019C</AdsIdxOffs>
                  </State>
                  <State Category="Output" Name="LogicalOperator1" ReadOnly="true">
                     <AdsIdxOffs>#x8200019D</AdsIdxOffs>
                  </State>
                  <State Category="Output" Name="LogicalOperator2" ReadOnly="true">
                     <AdsIdxOffs>#x820001A1</AdsIdxOffs>
                  </State>
                  <Block>
                     <Name>ChargingState</Name>
                     <Identifier>&lt;S28&gt;/ChargingState</Identifier>
                     <Type>Inport</Type>
                     <Position h="14" w="30" x="-95" y="78"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Port" Value="1"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="-60" y="85"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="-60" y="85"/>
                           <Point x="15" y="85"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>IdleState</Name>
                     <Identifier>&lt;S28&gt;/IdleState</Identifier>
                     <Type>Inport</Type>
                     <Position h="14" w="30" x="-95" y="228"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Port" Value="2"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="-60" y="235"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="-60" y="235"/>
                           <Point x="15" y="235"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>ExternalRecalibrationTrigger</Name>
                     <Identifier>&lt;S28&gt;/ExternalRecalibrationTrigger</Identifier>
                     <Type>Inport</Type>
                     <Position h="14" w="30" x="-80" y="358"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Port" Value="3"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="-45" y="365"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="-45" y="365"/>
                           <Point x="535" y="365"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Constant</Name>
                     <Identifier>&lt;S28&gt;/Constant</Identifier>
                     <Type>Constant</Type>
                     <Position h="30" w="30" x="175" y="475"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Value" Value="0"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="210" y="490"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="210" y="490"/>
                           <Point x="365" y="490"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Constant1</Name>
                     <Identifier>&lt;S28&gt;/Constant1</Identifier>
                     <Type>Constant</Type>
                     <Position h="30" w="30" x="175" y="525"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Value" Value="1"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="210" y="540"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="210" y="540"/>
                           <Point x="288" y="540"/>
                           <Point x="288" y="510"/>
                           <Point x="365" y="510"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>From Debug_noRecalibration</Name>
                     <Identifier>&lt;S28&gt;/From Debug_noRecalibration</Identifier>
                     <Type>From</Type>
                     <Position h="28" w="40" x="135" y="146"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="FromTag" Value="InC"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="180" y="160"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="180" y="160"/>
                           <Point x="235" y="160"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Goto
debug
outputs</Name>
                     <Identifier>&lt;S28&gt;/Goto
debug
outputs</Identifier>
                     <Type>Goto</Type>
                     <Position h="30" w="40" x="750" y="215"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="GotoTag" Value="A"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="735" y="230"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S28&gt;/OR'ing of all 
recalibration
triggers</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Goto
debug
outputs1</Name>
                     <Identifier>&lt;S28&gt;/Goto
debug
outputs1</Identifier>
                     <Type>Goto</Type>
                     <Position h="30" w="40" x="315" y="-25"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="GotoTag" Value="IRT"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="300" y="-10"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S30&gt;</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Logical
Operator</Name>
                     <Identifier>&lt;S28&gt;/Logical
Operator</Identifier>
                     <Type>Logic</Type>
                     <Position h="32" w="30" x="240" y="144"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Operator" Value="NOT"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="225" y="160"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S28&gt;/From Debug_noRecalibration</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="275" y="160"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="275" y="160"/>
                           <Point x="312" y="160"/>
                           <Line>
                              <Point x="312" y="160"/>
                              <Point x="313" y="160"/>
                              <Point x="313" y="220"/>
                              <Point x="350" y="220"/>
                           </Line>
                           <Line>
                              <Point x="312" y="160"/>
                              <Point x="312" y="100"/>
                              <Point x="350" y="100"/>
                           </Line>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Logical
Operator1</Name>
                     <Identifier>&lt;S28&gt;/Logical
Operator1</Identifier>
                     <Type>Logic</Type>
                     <Position h="31" w="30" x="355" y="77"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Operator" Value="AND"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="340" y="85"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S31&gt;</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="2">Inport</Type>
                        <Position x="340" y="100"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S28&gt;/Logical
Operator</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="390" y="95"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="390" y="95"/>
                           <Point x="535" y="95"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Logical
Operator2</Name>
                     <Identifier>&lt;S28&gt;/Logical
Operator2</Identifier>
                     <Type>Logic</Type>
                     <Position h="31" w="30" x="355" y="212"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Operator" Value="AND"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="340" y="220"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S28&gt;/Logical
Operator</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="2">Inport</Type>
                        <Position x="340" y="235"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S32&gt;</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="390" y="230"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="390" y="230"/>
                           <Point x="535" y="230"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Manual Switch</Name>
                     <Identifier>&lt;S28&gt;/Manual Switch</Identifier>
                     <Type>ManualSwitch</Type>
                     <Position h="36" w="30" x="370" y="482"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="355" y="490"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S28&gt;/Constant</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="2">Inport</Type>
                        <Position x="355" y="510"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S28&gt;/Constant1</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="405" y="500"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="405" y="500"/>
                           <Point x="535" y="500"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>OR'ing of all 
recalibration
triggers</Name>
                     <Identifier>&lt;S28&gt;/OR'ing of all 
recalibration
triggers</Identifier>
                     <Type>Logic</Type>
                     <Position h="666" w="85" x="540" y="-103"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Operator" Value="OR"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="525" y="-40"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S30&gt;</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="2">Inport</Type>
                        <Position x="525" y="95"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S28&gt;/Logical
Operator1</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="3">Inport</Type>
                        <Position x="525" y="230"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S28&gt;/Logical
Operator2</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="4">Inport</Type>
                        <Position x="525" y="365"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S28&gt;/ExternalRecalibrationTrigger</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="5">Inport</Type>
                        <Position x="525" y="500"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S28&gt;/Manual Switch</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="630" y="230"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="630" y="230"/>
                           <Point x="718" y="230"/>
                           <Line>
                              <Point x="718" y="230"/>
                              <Point x="745" y="230"/>
                           </Line>
                           <Line>
                              <Point x="718" y="230"/>
                              <Point x="718" y="180"/>
                              <Point x="805" y="180"/>
                           </Line>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Recalibration Trigger on Startup</Name>
                     <Identifier>&lt;S30&gt;</Identifier>
                     <Type>SubSystem</Type>
                     <Position h="90" w="250" x="20" y="-75"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="275" y="-30"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="275" y="-30"/>
                           <Point x="287" y="-30"/>
                           <Line>
                              <Point x="287" y="-30"/>
                              <Point x="287" y="-10"/>
                              <Point x="310" y="-10"/>
                           </Line>
                           <Line>
                              <Point x="287" y="-30"/>
                              <Point x="287" y="-40"/>
                              <Point x="535" y="-40"/>
                           </Line>
                        </Line>
                     </Port>
                     <State Category="DWork" Name="Timerwithresettohaverelaxatio_m" ReadOnly="true"/>
                     <Block>
                        <Name>Signal Builder</Name>
                        <Identifier>&lt;S33&gt;</Identifier>
                        <Type>SubSystem</Type>
                        <Position h="40" w="85" x="-315" y="25"/>
                        <BlockDesign>
                           <Border>
                              <svg height="1" width="1"/>
                           </Border>
                        </BlockDesign>
                        <Port>
                           <Type No="1">Outport</Type>
                           <Position x="-225" y="45"/>
                           <IsConnected>1</IsConnected>
                           <Line>
                              <Point x="-225" y="45"/>
                              <Point x="-5" y="45"/>
                              <Point x="-5" y="86"/>
                           </Line>
                        </Port>
                        <State Category="Output" Name="FromWs" ReadOnly="true">
                           <AdsIdxOffs>#x82000000</AdsIdxOffs>
                        </State>
                        <State Category="DWork" Name="FromWs_IWORK" ReadOnly="true"/>
                        <State Category="DWork" Name="FromWs_PWORK" ReadOnly="true"/>
                     </Block>
                     <Block>
                        <Name>Timer with reset
to have relaxation of capacity
effects</Name>
                        <Identifier>&lt;S34&gt;</Identifier>
                        <Type>SubSystem</Type>
                        <Position h="88" w="120" x="-65" y="91"/>
                        <BlockDesign>
                           <Border>
                              <svg height="1" width="1"/>
                           </Border>
                        </BlockDesign>
                        <Port>
                           <Type No="1">Outport</Type>
                           <Position x="60" y="135"/>
                           <IsConnected>1</IsConnected>
                           <Line>
                              <Point x="60" y="135"/>
                              <Point x="141" y="135"/>
                              <Point x="141" y="215"/>
                              <Point x="220" y="215"/>
                           </Line>
                        </Port>
                        <Port>
                           <Type No="1">Enable</Type>
                           <Position x="-5" y="76"/>
                           <Rotation>-1.5708</Rotation>
                           <IsConnected>1</IsConnected>
                           <Source>
                              <BlockIdentifier>&lt;S33&gt;</BlockIdentifier>
                              <PortType>Outport</PortType>
                              <PortNo>1</PortNo>
                           </Source>
                        </Port>
                        <Block>
                           <Name>Enable</Name>
                           <Identifier>&lt;S34&gt;/Enable</Identifier>
                           <Type>EnablePort</Type>
                           <Position h="20" w="20" x="-35" y="100"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                           </BlockDesign>
                        </Block>
                        <Block>
                           <Name>Constant1</Name>
                           <Identifier>&lt;S34&gt;/Constant1</Identifier>
                           <Type>Constant</Type>
                           <Position h="30" w="55" x="60" y="75"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                              <Image>
                                 <Placeholder Name="Value" Value="1"/>
                              </Image>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Outport</Type>
                              <Position x="120" y="90"/>
                              <IsConnected>1</IsConnected>
                              <Line>
                                 <Point x="120" y="90"/>
                                 <Point x="165" y="90"/>
                              </Line>
                           </Port>
                        </Block>
                        <Block>
                           <Name>Memory</Name>
                           <Identifier>&lt;S34&gt;/Memory</Identifier>
                           <Type>Memory</Type>
                           <Position h="30" w="30" x="250" y="215"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Inport</Type>
                              <Position x="295" y="230"/>
                              <Rotation>3.1416</Rotation>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S35&gt;</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                           <Port>
                              <Type No="1">Outport</Type>
                              <Position x="245" y="230"/>
                              <Rotation>3.1416</Rotation>
                              <IsConnected>1</IsConnected>
                              <Line>
                                 <Point x="245" y="230"/>
                                 <Point x="121" y="230"/>
                                 <Point x="121" y="155"/>
                                 <Point x="165" y="155"/>
                              </Line>
                              <Signal Category="Output" Name="Memory_m" ReadOnly="true">
                                 <AdsIdxOffs>#x820001AB</AdsIdxOffs>
                              </Signal>
                           </Port>
                           <State Category="DWork" Name="Memory_PreviousInput_n" ReadOnly="true"/>
                        </Block>
                        <Block>
                           <Name>Timer</Name>
                           <Identifier>&lt;S34&gt;/Timer</Identifier>
                           <Type>DiscreteIntegrator</Type>
                           <Position h="133" w="65" x="170" y="56"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Inport</Type>
                              <Position x="155" y="90"/>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S34&gt;/Constant1</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                           <Port>
                              <Type No="2">Inport</Type>
                              <Position x="155" y="155"/>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S34&gt;/Memory</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                           <Port>
                              <Type No="1">Outport</Type>
                              <Position x="240" y="125"/>
                              <IsConnected>1</IsConnected>
                              <Line>
                                 <Point x="240" y="125"/>
                                 <Point x="280" y="125"/>
                              </Line>
                              <Signal Category="Output" Name="Timer_o" ReadOnly="true">
                                 <AdsIdxOffs>#x82000138</AdsIdxOffs>
                              </Signal>
                           </Port>
                           <State Category="DWork" Name="Timer_DSTATE_m" ReadOnly="true"/>
                           <State Category="DWork" Name="Timer_PrevResetState_n" ReadOnly="true"/>
                        </Block>
                        <Block>
                           <Name>Timer value bigger
than delay time?</Name>
                           <Identifier>&lt;S35&gt;</Identifier>
                           <Type>SubSystem</Type>
                           <Position h="70" w="105" x="285" y="90"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                              <Image>
                                 <Placeholder Name="Operator" Value="&gt; initializationtime"/>
                              </Image>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Inport</Type>
                              <Position x="270" y="125"/>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S34&gt;/Timer</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                           <Port>
                              <Type No="1">Outport</Type>
                              <Position x="395" y="125"/>
                              <IsConnected>1</IsConnected>
                              <Line>
                                 <Point x="395" y="125"/>
                                 <Point x="425" y="125"/>
                                 <Line>
                                    <Point x="425" y="125"/>
                                    <Point x="565" y="125"/>
                                 </Line>
                                 <Line>
                                    <Point x="425" y="125"/>
                                    <Point x="425" y="230"/>
                                    <Point x="285" y="230"/>
                                 </Line>
                              </Line>
                           </Port>
                           <State Category="Output" Name="Compare_l" ReadOnly="true">
                              <AdsIdxOffs>#x820001AC</AdsIdxOffs>
                           </State>
                        </Block>
                        <Block>
                           <Name>timerOut</Name>
                           <Identifier>&lt;S34&gt;/timerOut</Identifier>
                           <Type>Outport</Type>
                           <Position h="14" w="30" x="570" y="118"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                              <Image>
                                 <Placeholder Name="Port" Value="1"/>
                              </Image>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Inport</Type>
                              <Position x="555" y="125"/>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S35&gt;</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                        </Block>
                     </Block>
                     <Block>
                        <Name>RecalibrationTrigger</Name>
                        <Identifier>&lt;S30&gt;/RecalibrationTrigger</Identifier>
                        <Type>Outport</Type>
                        <Position h="14" w="30" x="225" y="208"/>
                        <BlockDesign>
                           <Border>
                              <svg height="1" width="1"/>
                           </Border>
                           <Image>
                              <Placeholder Name="Port" Value="1"/>
                           </Image>
                        </BlockDesign>
                        <Port>
                           <Type No="1">Inport</Type>
                           <Position x="210" y="215"/>
                           <IsConnected>1</IsConnected>
                           <Source>
                              <BlockIdentifier>&lt;S34&gt;</BlockIdentifier>
                              <PortType>Outport</PortType>
                              <PortNo>1</PortNo>
                           </Source>
                        </Port>
                     </Block>
                  </Block>
                  <Block>
                     <Name>Recalibration Trigger while Charging</Name>
                     <Identifier>&lt;S31&gt;</Identifier>
                     <Type>SubSystem</Type>
                     <Position h="84" w="250" x="20" y="43"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="5" y="85"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S28&gt;/ChargingState</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="275" y="85"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="275" y="85"/>
                           <Point x="350" y="85"/>
                        </Line>
                     </Port>
                     <Block>
                        <Name>ChargingState</Name>
                        <Identifier>&lt;S31&gt;/ChargingState</Identifier>
                        <Type>Inport</Type>
                        <Position h="14" w="30" x="-155" y="-122"/>
                        <BlockDesign>
                           <Border>
                              <svg height="1" width="1"/>
                           </Border>
                           <Image>
                              <Placeholder Name="Port" Value="1"/>
                           </Image>
                        </BlockDesign>
                        <Port>
                           <Type No="1">Outport</Type>
                           <Position x="-120" y="-115"/>
                           <IsConnected>1</IsConnected>
                           <Line>
                              <Point x="-120" y="-115"/>
                              <Point x="50" y="-115"/>
                              <Point x="50" y="-94"/>
                           </Line>
                        </Port>
                     </Block>
                     <Block>
                        <Name>Timer with reset</Name>
                        <Identifier>&lt;S36&gt;</Identifier>
                        <Type>SubSystem</Type>
                        <Position h="68" w="110" x="-5" y="-89"/>
                        <BlockDesign>
                           <Border>
                              <svg height="1" width="1"/>
                           </Border>
                        </BlockDesign>
                        <Port>
                           <Type No="1">Outport</Type>
                           <Position x="110" y="-55"/>
                           <IsConnected>1</IsConnected>
                           <Line>
                              <Point x="110" y="-55"/>
                              <Point x="280" y="-55"/>
                           </Line>
                        </Port>
                        <Port>
                           <Type No="1">Enable</Type>
                           <Position x="50" y="-104"/>
                           <Rotation>-1.5708</Rotation>
                           <IsConnected>1</IsConnected>
                           <Source>
                              <BlockIdentifier>&lt;S31&gt;/ChargingState</BlockIdentifier>
                              <PortType>Outport</PortType>
                              <PortNo>1</PortNo>
                           </Source>
                        </Port>
                        <State Category="DWork" Name="Timerwithreset_MODE" ReadOnly="true"/>
                        <Block>
                           <Name>Enable</Name>
                           <Identifier>&lt;S36&gt;/Enable</Identifier>
                           <Type>EnablePort</Type>
                           <Position h="20" w="20" x="-35" y="100"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                           </BlockDesign>
                        </Block>
                        <Block>
                           <Name>Constant1</Name>
                           <Identifier>&lt;S36&gt;/Constant1</Identifier>
                           <Type>Constant</Type>
                           <Position h="30" w="55" x="60" y="75"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                              <Image>
                                 <Placeholder Name="Value" Value="1"/>
                              </Image>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Outport</Type>
                              <Position x="120" y="90"/>
                              <IsConnected>1</IsConnected>
                              <Line>
                                 <Point x="120" y="90"/>
                                 <Point x="165" y="90"/>
                              </Line>
                           </Port>
                        </Block>
                        <Block>
                           <Name>Reset counter</Name>
                           <Identifier>&lt;S36&gt;/Reset counter</Identifier>
                           <Type>Memory</Type>
                           <Position h="30" w="30" x="265" y="215"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Inport</Type>
                              <Position x="310" y="230"/>
                              <Rotation>3.1416</Rotation>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S37&gt;</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                           <Port>
                              <Type No="1">Outport</Type>
                              <Position x="260" y="230"/>
                              <Rotation>3.1416</Rotation>
                              <IsConnected>1</IsConnected>
                              <Line>
                                 <Point x="260" y="230"/>
                                 <Point x="121" y="230"/>
                                 <Point x="121" y="155"/>
                                 <Point x="165" y="155"/>
                              </Line>
                              <Signal Category="Output" Name="Resetcounter" ReadOnly="true">
                                 <AdsIdxOffs>#x820001A9</AdsIdxOffs>
                              </Signal>
                           </Port>
                           <State Category="DWork" Name="Resetcounter_PreviousInput" ReadOnly="true"/>
                        </Block>
                        <Block>
                           <Name>Timer counter</Name>
                           <Identifier>&lt;S36&gt;/Timer counter</Identifier>
                           <Type>DiscreteIntegrator</Type>
                           <Position h="133" w="65" x="170" y="56"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Inport</Type>
                              <Position x="155" y="90"/>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S36&gt;/Constant1</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                           <Port>
                              <Type No="2">Inport</Type>
                              <Position x="155" y="155"/>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S36&gt;/Reset counter</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                           <Port>
                              <Type No="1">Outport</Type>
                              <Position x="240" y="125"/>
                              <IsConnected>1</IsConnected>
                              <Line>
                                 <Point x="240" y="125"/>
                                 <Point x="280" y="125"/>
                              </Line>
                              <Signal Category="Output" Name="Timercounter" ReadOnly="true">
                                 <AdsIdxOffs>#x82000130</AdsIdxOffs>
                              </Signal>
                           </Port>
                           <State Category="DWork" Name="Timercounter_DSTATE" ReadOnly="true"/>
                           <State Category="DWork" Name="Timercounter_PrevResetState" ReadOnly="true"/>
                        </Block>
                        <Block>
                           <Name>Timer value bigger
than delay time?</Name>
                           <Identifier>&lt;S37&gt;</Identifier>
                           <Type>SubSystem</Type>
                           <Position h="70" w="105" x="285" y="90"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                              <Image>
                                 <Placeholder Name="Operator" Value="&gt; recalibrationDelay"/>
                              </Image>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Inport</Type>
                              <Position x="270" y="125"/>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S36&gt;/Timer counter</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                           <Port>
                              <Type No="1">Outport</Type>
                              <Position x="395" y="125"/>
                              <IsConnected>1</IsConnected>
                              <Line>
                                 <Point x="395" y="125"/>
                                 <Point x="437" y="125"/>
                                 <Line>
                                    <Point x="437" y="125"/>
                                    <Point x="565" y="125"/>
                                 </Line>
                                 <Line>
                                    <Point x="437" y="125"/>
                                    <Point x="437" y="230"/>
                                    <Point x="300" y="230"/>
                                 </Line>
                              </Line>
                           </Port>
                           <State Category="Output" Name="Compare_m" ReadOnly="true">
                              <AdsIdxOffs>#x820001AA</AdsIdxOffs>
                           </State>
                        </Block>
                        <Block>
                           <Name>timerOut</Name>
                           <Identifier>&lt;S36&gt;/timerOut</Identifier>
                           <Type>Outport</Type>
                           <Position h="14" w="30" x="570" y="118"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                              <Image>
                                 <Placeholder Name="Port" Value="1"/>
                              </Image>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Inport</Type>
                              <Position x="555" y="125"/>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S37&gt;</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                        </Block>
                     </Block>
                     <Block>
                        <Name>RecalibrationTrigger</Name>
                        <Identifier>&lt;S31&gt;/RecalibrationTrigger</Identifier>
                        <Type>Outport</Type>
                        <Position h="14" w="30" x="285" y="-62"/>
                        <BlockDesign>
                           <Border>
                              <svg height="1" width="1"/>
                           </Border>
                           <Image>
                              <Placeholder Name="Port" Value="1"/>
                           </Image>
                        </BlockDesign>
                        <Port>
                           <Type No="1">Inport</Type>
                           <Position x="270" y="-55"/>
                           <IsConnected>1</IsConnected>
                           <Source>
                              <BlockIdentifier>&lt;S36&gt;</BlockIdentifier>
                              <PortType>Outport</PortType>
                              <PortNo>1</PortNo>
                           </Source>
                        </Port>
                     </Block>
                  </Block>
                  <Block>
                     <Name>Trigger Recalibration in Idle State</Name>
                     <Identifier>&lt;S32&gt;</Identifier>
                     <Type>SubSystem</Type>
                     <Position h="76" w="250" x="20" y="197"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="5" y="235"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S28&gt;/IdleState</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="275" y="235"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="275" y="235"/>
                           <Point x="350" y="235"/>
                        </Line>
                     </Port>
                     <State Category="DWork" Name="Timerwithresettohaverelaxationo" ReadOnly="true"/>
                     <Block>
                        <Name>IdleState</Name>
                        <Identifier>&lt;S32&gt;/IdleState</Identifier>
                        <Type>Inport</Type>
                        <Position h="14" w="30" x="40" y="68"/>
                        <BlockDesign>
                           <Border>
                              <svg height="1" width="1"/>
                           </Border>
                           <Image>
                              <Placeholder Name="Port" Value="1"/>
                           </Image>
                        </BlockDesign>
                        <Port>
                           <Type No="1">Outport</Type>
                           <Position x="75" y="75"/>
                           <IsConnected>1</IsConnected>
                           <Line>
                              <Point x="75" y="75"/>
                              <Point x="183" y="75"/>
                              <Point x="183" y="5"/>
                              <Point x="355" y="5"/>
                              <Point x="355" y="26"/>
                           </Line>
                        </Port>
                     </Block>
                     <Block>
                        <Name>Timer with reset
to have relaxation of capacity
effects</Name>
                        <Identifier>&lt;S38&gt;</Identifier>
                        <Type>SubSystem</Type>
                        <Position h="88" w="120" x="295" y="31"/>
                        <BlockDesign>
                           <Border>
                              <svg height="1" width="1"/>
                           </Border>
                        </BlockDesign>
                        <Port>
                           <Type No="1">Outport</Type>
                           <Position x="420" y="75"/>
                           <IsConnected>1</IsConnected>
                           <Line>
                              <Point x="420" y="75"/>
                              <Point x="575" y="75"/>
                           </Line>
                        </Port>
                        <Port>
                           <Type No="1">Enable</Type>
                           <Position x="355" y="16"/>
                           <Rotation>-1.5708</Rotation>
                           <IsConnected>1</IsConnected>
                           <Source>
                              <BlockIdentifier>&lt;S32&gt;/IdleState</BlockIdentifier>
                              <PortType>Outport</PortType>
                              <PortNo>1</PortNo>
                           </Source>
                        </Port>
                        <Block>
                           <Name>Enable</Name>
                           <Identifier>&lt;S38&gt;/Enable</Identifier>
                           <Type>EnablePort</Type>
                           <Position h="20" w="20" x="-35" y="100"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                           </BlockDesign>
                        </Block>
                        <Block>
                           <Name>Constant1</Name>
                           <Identifier>&lt;S38&gt;/Constant1</Identifier>
                           <Type>Constant</Type>
                           <Position h="30" w="55" x="60" y="75"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                              <Image>
                                 <Placeholder Name="Value" Value="1"/>
                              </Image>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Outport</Type>
                              <Position x="120" y="90"/>
                              <IsConnected>1</IsConnected>
                              <Line>
                                 <Point x="120" y="90"/>
                                 <Point x="165" y="90"/>
                              </Line>
                           </Port>
                        </Block>
                        <Block>
                           <Name>Memory</Name>
                           <Identifier>&lt;S38&gt;/Memory</Identifier>
                           <Type>Memory</Type>
                           <Position h="30" w="30" x="250" y="215"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Inport</Type>
                              <Position x="295" y="230"/>
                              <Rotation>3.1416</Rotation>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S39&gt;</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                           <Port>
                              <Type No="1">Outport</Type>
                              <Position x="245" y="230"/>
                              <Rotation>3.1416</Rotation>
                              <IsConnected>1</IsConnected>
                              <Line>
                                 <Point x="245" y="230"/>
                                 <Point x="121" y="230"/>
                                 <Point x="121" y="155"/>
                                 <Point x="165" y="155"/>
                              </Line>
                              <Signal Category="Output" Name="Memory_c" ReadOnly="true">
                                 <AdsIdxOffs>#x820001A7</AdsIdxOffs>
                              </Signal>
                           </Port>
                           <State Category="DWork" Name="Memory_PreviousInput_d" ReadOnly="true"/>
                        </Block>
                        <Block>
                           <Name>Timer</Name>
                           <Identifier>&lt;S38&gt;/Timer</Identifier>
                           <Type>DiscreteIntegrator</Type>
                           <Position h="133" w="65" x="170" y="56"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Inport</Type>
                              <Position x="155" y="90"/>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S38&gt;/Constant1</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                           <Port>
                              <Type No="2">Inport</Type>
                              <Position x="155" y="155"/>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S38&gt;/Memory</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                           <Port>
                              <Type No="1">Outport</Type>
                              <Position x="240" y="125"/>
                              <IsConnected>1</IsConnected>
                              <Line>
                                 <Point x="240" y="125"/>
                                 <Point x="280" y="125"/>
                              </Line>
                              <Signal Category="Output" Name="Timer" ReadOnly="true">
                                 <AdsIdxOffs>#x82000128</AdsIdxOffs>
                              </Signal>
                           </Port>
                           <State Category="DWork" Name="Timer_DSTATE" ReadOnly="true"/>
                           <State Category="DWork" Name="Timer_PrevResetState" ReadOnly="true"/>
                        </Block>
                        <Block>
                           <Name>Timer value bigger
than delay time?</Name>
                           <Identifier>&lt;S39&gt;</Identifier>
                           <Type>SubSystem</Type>
                           <Position h="70" w="105" x="285" y="90"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                              <Image>
                                 <Placeholder Name="Operator" Value="&gt; recalibrationDelay"/>
                              </Image>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Inport</Type>
                              <Position x="270" y="125"/>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S38&gt;/Timer</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                           <Port>
                              <Type No="1">Outport</Type>
                              <Position x="395" y="125"/>
                              <IsConnected>1</IsConnected>
                              <Line>
                                 <Point x="395" y="125"/>
                                 <Point x="425" y="125"/>
                                 <Line>
                                    <Point x="425" y="125"/>
                                    <Point x="565" y="125"/>
                                 </Line>
                                 <Line>
                                    <Point x="425" y="125"/>
                                    <Point x="425" y="230"/>
                                    <Point x="285" y="230"/>
                                 </Line>
                              </Line>
                           </Port>
                           <State Category="Output" Name="Compare_p" ReadOnly="true">
                              <AdsIdxOffs>#x820001A8</AdsIdxOffs>
                           </State>
                        </Block>
                        <Block>
                           <Name>timerOut</Name>
                           <Identifier>&lt;S38&gt;/timerOut</Identifier>
                           <Type>Outport</Type>
                           <Position h="14" w="30" x="570" y="118"/>
                           <BlockDesign>
                              <Border>
                                 <svg height="1" width="1"/>
                              </Border>
                              <Image>
                                 <Placeholder Name="Port" Value="1"/>
                              </Image>
                           </BlockDesign>
                           <Port>
                              <Type No="1">Inport</Type>
                              <Position x="555" y="125"/>
                              <IsConnected>1</IsConnected>
                              <Source>
                                 <BlockIdentifier>&lt;S39&gt;</BlockIdentifier>
                                 <PortType>Outport</PortType>
                                 <PortNo>1</PortNo>
                              </Source>
                           </Port>
                        </Block>
                     </Block>
                     <Block>
                        <Name>RecalibrationTrigger</Name>
                        <Identifier>&lt;S32&gt;/RecalibrationTrigger</Identifier>
                        <Type>Outport</Type>
                        <Position h="14" w="30" x="580" y="68"/>
                        <BlockDesign>
                           <Border>
                              <svg height="1" width="1"/>
                           </Border>
                           <Image>
                              <Placeholder Name="Port" Value="1"/>
                           </Image>
                        </BlockDesign>
                        <Port>
                           <Type No="1">Inport</Type>
                           <Position x="565" y="75"/>
                           <IsConnected>1</IsConnected>
                           <Source>
                              <BlockIdentifier>&lt;S38&gt;</BlockIdentifier>
                              <PortType>Outport</PortType>
                              <PortNo>1</PortNo>
                           </Source>
                        </Port>
                     </Block>
                  </Block>
                  <Block>
                     <Name>RecalibrationTrigger</Name>
                     <Identifier>&lt;S28&gt;/RecalibrationTrigger</Identifier>
                     <Type>Outport</Type>
                     <Position h="14" w="30" x="810" y="173"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Port" Value="1"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="795" y="180"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S28&gt;/OR'ing of all 
recalibration
triggers</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                  </Block>
               </Block>
               <Block>
                  <Name>Recalibration Value</Name>
                  <Identifier>&lt;S29&gt;</Identifier>
                  <Type>SubSystem</Type>
                  <Position h="223" w="265" x="105" y="306"/>
                  <BlockDesign>
                     <Border>
                        <svg height="223" width="265">
                           <rect height="223" rx="0" ry="0" style="stroke:blue;stroke-width:1;fill:cyan;" width="265" x="0" y="0"/>
                        </svg>
                     </Border>
                     <Image>
                        <svg height="223" width="265">
                           <rect height="223" rx="0" ry="0" style="stroke:blue;stroke-width:1;fill:cyan;" width="265" x="0" y="0"/>
                        </svg>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="90" y="335"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S27&gt;/Voltage</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="2">Inport</Type>
                     <Position x="90" y="390"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S27&gt;/Current</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="3">Inport</Type>
                     <Position x="90" y="445"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S27&gt;/ExternalRecalibrationTrigger</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="4">Inport</Type>
                     <Position x="90" y="500"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S27&gt;/ExternalRecalibrationValue</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
                  <Port>
                     <Type No="1">Outport</Type>
                     <Position x="375" y="420"/>
                     <IsConnected>1</IsConnected>
                     <Line>
                        <Point x="375" y="420"/>
                        <Point x="510" y="420"/>
                     </Line>
                  </Port>
                  <State Category="Output" Name="Addthevoltagedroptothemeasuredv" ReadOnly="true">
                     <AdsIdxOffs>#x82000038</AdsIdxOffs>
                  </State>
                  <State Category="Output" Name="CalibrationofSoCwith2DLookuptab" ReadOnly="true">
                     <AdsIdxOffs>#x82000118</AdsIdxOffs>
                  </State>
                  <State Category="Output" Name="Getinternalresistance" ReadOnly="true">
                     <AdsIdxOffs>#x82000030</AdsIdxOffs>
                  </State>
                  <State Category="Output" Name="Samebehaviourforchargingcurrent" ReadOnly="true">
                     <AdsIdxOffs>#x82000020</AdsIdxOffs>
                  </State>
                  <State Category="Output" Name="Switchbetwenexternalandinternal" ReadOnly="true">
                     <AdsIdxOffs>#x82000048</AdsIdxOffs>
                  </State>
                  <State Category="DWork" Name="m_bpIndex" ReadOnly="true"/>
                  <Block>
                     <Name>Voltage</Name>
                     <Identifier>&lt;S29&gt;/Voltage</Identifier>
                     <Type>Inport</Type>
                     <Position h="14" w="30" x="-110" y="618"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Port" Value="1"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="-75" y="625"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="-75" y="625"/>
                           <Point x="-55" y="625"/>
                           <Line>
                              <Point x="-55" y="625"/>
                              <Point x="-55" y="1105"/>
                              <Point x="690" y="1105"/>
                           </Line>
                           <Line>
                              <Point x="-55" y="625"/>
                              <Point x="410" y="625"/>
                           </Line>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Current</Name>
                     <Identifier>&lt;S29&gt;/Current</Identifier>
                     <Type>Inport</Type>
                     <Position h="14" w="30" x="-110" y="733"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Port" Value="2"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="-75" y="740"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="-75" y="740"/>
                           <Point x="-32" y="740"/>
                           <Line>
                              <Point x="-32" y="740"/>
                              <Point x="-32" y="795"/>
                              <Line>
                                 <Point x="-32" y="795"/>
                                 <Point x="-32" y="1060"/>
                                 <Point x="690" y="1060"/>
                              </Line>
                              <Line>
                                 <Point x="-32" y="795"/>
                                 <Point x="45" y="795"/>
                              </Line>
                           </Line>
                           <Line>
                              <Point x="-32" y="740"/>
                              <Point x="280" y="740"/>
                           </Line>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>ExternalRecalibrationTrigger</Name>
                     <Identifier>&lt;S29&gt;/ExternalRecalibrationTrigger</Identifier>
                     <Type>Inport</Type>
                     <Position h="14" w="30" x="-110" y="473"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Port" Value="3"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="-75" y="480"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="-75" y="480"/>
                           <Point x="985" y="480"/>
                           <Point x="985" y="715"/>
                           <Point x="1080" y="715"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>ExternalRecalibrationValue</Name>
                     <Identifier>&lt;S29&gt;/ExternalRecalibrationValue</Identifier>
                     <Type>Inport</Type>
                     <Position h="14" w="30" x="-110" y="428"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Port" Value="4"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="-75" y="435"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="-75" y="435"/>
                           <Point x="520" y="435"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Add the voltage drop
to the measured voltage
to get the OCV </Name>
                     <Identifier>&lt;S29&gt;/Add the voltage drop
to the measured voltage
to get the OCV</Identifier>
                     <Type>Sum</Type>
                     <Position h="313" w="95" x="415" y="546"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="400" y="625"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Voltage</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="2">Inport</Type>
                        <Position x="400" y="780"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Calculate voltage 
drop on 
internal resistance</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="515" y="705"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="515" y="705"/>
                           <Point x="520" y="705"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Calculate voltage 
drop on 
internal resistance</Name>
                     <Identifier>&lt;S29&gt;/Calculate voltage 
drop on 
internal resistance</Identifier>
                     <Type>Product</Type>
                     <Position h="162" w="75" x="285" y="699"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="270" y="740"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Current</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="2">Inport</Type>
                        <Position x="270" y="820"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Sum</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="365" y="780"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="365" y="780"/>
                           <Point x="394" y="780"/>
                           <Line>
                              <Point x="394" y="780"/>
                              <Point x="410" y="780"/>
                           </Line>
                           <Line>
                              <Point x="394" y="780"/>
                              <Point x="394" y="970"/>
                              <Point x="410" y="970"/>
                           </Line>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Calibration of SoC
with 2D Look-up table</Name>
                     <Identifier>&lt;S29&gt;/Calibration of SoC
with 2D Look-up table</Identifier>
                     <Type>Lookup_n-D</Type>
                     <Position h="87" w="125" x="695" y="1039"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="680" y="1060"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Current</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="2">Inport</Type>
                        <Position x="680" y="1105"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Voltage</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="825" y="1085"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="825" y="1085"/>
                           <Point x="860" y="1085"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Constant</Name>
                     <Identifier>&lt;S29&gt;/Constant</Identifier>
                     <Type>Constant</Type>
                     <Position h="30" w="30" x="1025" y="610"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Value" Value="0"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="1040" y="645"/>
                        <Rotation>-1.5708</Rotation>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="1040" y="645"/>
                           <Point x="1040" y="695"/>
                           <Point x="1080" y="695"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Convert from percent to unitless</Name>
                     <Identifier>&lt;S29&gt;/Convert from percent to unitless</Identifier>
                     <Type>Gain</Type>
                     <Position h="50" w="75" x="525" y="410"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Gain" Value="1/100"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="510" y="435"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/ExternalRecalibrationValue</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="605" y="435"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="605" y="435"/>
                           <Point x="1071" y="435"/>
                           <Point x="1071" y="555"/>
                           <Point x="1125" y="555"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Correct OCV</Name>
                     <Identifier>&lt;S29&gt;/Correct OCV</Identifier>
                     <Type>Bias</Type>
                     <Position h="30" w="40" x="525" y="690"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="510" y="705"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Add the voltage drop
to the measured voltage
to get the OCV</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="570" y="705"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="570" y="705"/>
                           <Point x="589" y="705"/>
                           <Line>
                              <Point x="589" y="705"/>
                              <Point x="600" y="705"/>
                           </Line>
                           <Line>
                              <Point x="589" y="705"/>
                              <Point x="589" y="970"/>
                              <Point x="610" y="970"/>
                           </Line>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>From Internal
Resistance Offset</Name>
                     <Identifier>&lt;S29&gt;/From Internal
Resistance Offset</Identifier>
                     <Type>From</Type>
                     <Position h="28" w="40" x="80" y="886"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="FromTag" Value="InB"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="125" y="900"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="125" y="900"/>
                           <Point x="240" y="900"/>
                           <Point x="240" y="835"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Get SoC, which is assigned to the current OCV</Name>
                     <Identifier>&lt;S29&gt;/Get SoC, which is assigned to the current OCV</Identifier>
                     <Type>Lookup_n-D</Type>
                     <Position h="310" w="270" x="605" y="550"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="590" y="705"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Correct OCV</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="880" y="705"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="880" y="705"/>
                           <Point x="936" y="705"/>
                           <Point x="936" y="855"/>
                           <Line>
                              <Point x="936" y="855"/>
                              <Point x="1125" y="855"/>
                           </Line>
                           <Line>
                              <Point x="936" y="855"/>
                              <Point x="936" y="1025"/>
                              <Point x="190" y="1025"/>
                           </Line>
                        </Line>
                        <Signal Category="Output" Name="GetSoCwhichisassignedtothecurre" ReadOnly="true">
                           <AdsIdxOffs>#x82000040</AdsIdxOffs>
                        </Signal>
                     </Port>
                     <State Category="DWork" Name="m_bpIndex_p" ReadOnly="true"/>
                  </Block>
                  <Block>
                     <Name>Get internal 
resistance</Name>
                     <Identifier>&lt;S29&gt;/Get internal 
resistance</Identifier>
                     <Type>Lookup_n-D</Type>
                     <Position h="98" w="85" x="125" y="771"/>
                     <BlockDesign>
                        <Border>
                           <svg height="98" width="85">
                              <rect height="98" rx="0" ry="0" style="stroke:blue;stroke-width:1;fill:cyan;" width="85" x="0" y="0"/>
                           </svg>
                        </Border>
                        <Image>
                           <svg height="98" width="85">
                              <rect height="98" rx="0" ry="0" style="stroke:blue;stroke-width:1;fill:cyan;" width="85" x="0" y="0"/>
                           </svg>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="110" y="795"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Same behaviour for 
charging currents</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="2">Inport</Type>
                        <Position x="110" y="845"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Memory</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="215" y="820"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="215" y="820"/>
                           <Point x="225" y="820"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Goto
debug 
outputs</Name>
                     <Identifier>&lt;S29&gt;/Goto
debug 
outputs</Identifier>
                     <Type>Goto</Type>
                     <Position h="30" w="40" x="1275" y="745"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="GotoTag" Value="B"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="1260" y="760"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Switch betwen external 
and internal recalibration</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Goto
debug 
outputs1</Name>
                     <Identifier>&lt;S29&gt;/Goto
debug 
outputs1</Identifier>
                     <Type>Goto</Type>
                     <Position h="30" w="40" x="865" y="1070"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="GotoTag" Value="C"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="850" y="1085"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Calibration of SoC
with 2D Look-up table</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Goto
debug 
outputs2</Name>
                     <Identifier>&lt;S29&gt;/Goto
debug 
outputs2</Identifier>
                     <Type>Goto</Type>
                     <Position h="30" w="40" x="285" y="955"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="GotoTag" Value="D"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="270" y="970"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Sum</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Goto
debug 
outputs3</Name>
                     <Identifier>&lt;S29&gt;/Goto
debug 
outputs3</Identifier>
                     <Type>Goto</Type>
                     <Position h="30" w="40" x="415" y="955"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="GotoTag" Value="E"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="400" y="970"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Calculate voltage 
drop on 
internal resistance</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Goto
debug 
outputs4</Name>
                     <Identifier>&lt;S29&gt;/Goto
debug 
outputs4</Identifier>
                     <Type>Goto</Type>
                     <Position h="30" w="40" x="615" y="955"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="GotoTag" Value="F"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="600" y="970"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Correct OCV</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Manual Switch</Name>
                     <Identifier>&lt;S29&gt;/Manual Switch</Identifier>
                     <Type>ManualSwitch</Type>
                     <Position h="36" w="30" x="1085" y="687"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="1070" y="695"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Constant</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="2">Inport</Type>
                        <Position x="1070" y="715"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/ExternalRecalibrationTrigger</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="1120" y="705"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="1120" y="705"/>
                           <Point x="1125" y="705"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Memory</Name>
                     <Identifier>&lt;S29&gt;/Memory</Identifier>
                     <Type>Memory</Type>
                     <Position h="30" w="30" x="155" y="1010"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="200" y="1025"/>
                        <Rotation>3.1416</Rotation>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Get SoC, which is assigned to the current OCV</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="150" y="1025"/>
                        <Rotation>3.1416</Rotation>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="150" y="1025"/>
                           <Point x="-15" y="1025"/>
                           <Point x="-15" y="845"/>
                           <Point x="120" y="845"/>
                        </Line>
                        <Signal Category="Output" Name="Memory" ReadOnly="true">
                           <AdsIdxOffs>#x82000028</AdsIdxOffs>
                        </Signal>
                     </Port>
                     <State Category="DWork" Name="Memory_PreviousInput" ReadOnly="true"/>
                  </Block>
                  <Block>
                     <Name>Same behaviour for 
charging currents</Name>
                     <Identifier>&lt;S29&gt;/Same behaviour for 
charging currents</Identifier>
                     <Type>Abs</Type>
                     <Position h="30" w="30" x="50" y="780"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="35" y="795"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Current</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="85" y="795"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="85" y="795"/>
                           <Point x="120" y="795"/>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Sum</Name>
                     <Identifier>&lt;S29&gt;/Sum</Identifier>
                     <Type>Sum</Type>
                     <Position h="20" w="20" x="230" y="810"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="215" y="820"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Get internal 
resistance</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="2">Inport</Type>
                        <Position x="240" y="845"/>
                        <Rotation>1.5708</Rotation>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/From Internal
Resistance Offset</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="255" y="820"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="255" y="820"/>
                           <Point x="267" y="820"/>
                           <Line>
                              <Point x="267" y="820"/>
                              <Point x="267" y="970"/>
                              <Point x="280" y="970"/>
                           </Line>
                           <Line>
                              <Point x="267" y="820"/>
                              <Point x="280" y="820"/>
                           </Line>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>Switch betwen external 
and internal recalibration</Name>
                     <Identifier>&lt;S29&gt;/Switch betwen external 
and internal recalibration</Identifier>
                     <Type>Switch</Type>
                     <Position h="458" w="95" x="1130" y="476"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="1115" y="555"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Convert from percent to unitless</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="2">Inport</Type>
                        <Position x="1115" y="705"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Manual Switch</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="3">Inport</Type>
                        <Position x="1115" y="855"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Get SoC, which is assigned to the current OCV</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                     <Port>
                        <Type No="1">Outport</Type>
                        <Position x="1230" y="705"/>
                        <IsConnected>1</IsConnected>
                        <Line>
                           <Point x="1230" y="705"/>
                           <Point x="1248" y="705"/>
                           <Line>
                              <Point x="1248" y="705"/>
                              <Point x="1315" y="705"/>
                           </Line>
                           <Line>
                              <Point x="1248" y="705"/>
                              <Point x="1248" y="760"/>
                              <Point x="1270" y="760"/>
                           </Line>
                        </Line>
                     </Port>
                  </Block>
                  <Block>
                     <Name>SoC_0</Name>
                     <Identifier>&lt;S29&gt;/SoC_0</Identifier>
                     <Type>Outport</Type>
                     <Position h="14" w="30" x="1320" y="698"/>
                     <BlockDesign>
                        <Border>
                           <svg height="1" width="1"/>
                        </Border>
                        <Image>
                           <Placeholder Name="Port" Value="1"/>
                        </Image>
                     </BlockDesign>
                     <Port>
                        <Type No="1">Inport</Type>
                        <Position x="1305" y="705"/>
                        <IsConnected>1</IsConnected>
                        <Source>
                           <BlockIdentifier>&lt;S29&gt;/Switch betwen external 
and internal recalibration</BlockIdentifier>
                           <PortType>Outport</PortType>
                           <PortNo>1</PortNo>
                        </Source>
                     </Port>
                  </Block>
                  <Annotation>
                     <Text>Internal Resistance Calculation</Text>
                     <Position x="20" y="753"/>
                     <Alignment H="left" V="top"/>
                     <FontName>auto</FontName>
                     <FontSize>12</FontSize>
                     <FontWeight>auto</FontWeight>
                  </Annotation>
                  <Annotation>
                     <Text>Voltage Drop Calculation</Text>
                     <Position x="20" y="684"/>
                     <Alignment H="left" V="top"/>
                     <FontName>auto</FontName>
                     <FontSize>12</FontSize>
                     <FontWeight>auto</FontWeight>
                  </Annotation>
                  <Annotation>
                     <Text>Open Circuit Voltage Calculation</Text>
                     <Position x="20" y="527"/>
                     <Alignment H="left" V="top"/>
                     <FontName>auto</FontName>
                     <FontSize>12</FontSize>
                     <FontWeight>auto</FontWeight>
                  </Annotation>
                  <Annotation>
                     <Text>Recalibration Value Calculation</Text>
                     <Position x="20" y="495"/>
                     <Alignment H="left" V="top"/>
                     <FontName>auto</FontName>
                     <FontSize>12</FontSize>
                     <FontWeight>auto</FontWeight>
                  </Annotation>
               </Block>
               <Block>
                  <Name>RecalibrationTrigger</Name>
                  <Identifier>&lt;S27&gt;/RecalibrationTrigger</Identifier>
                  <Type>Outport</Type>
                  <Position h="14" w="30" x="515" y="93"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="1"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="500" y="100"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S28&gt;</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
               </Block>
               <Block>
                  <Name>SoC_0</Name>
                  <Identifier>&lt;S27&gt;/SoC_0</Identifier>
                  <Type>Outport</Type>
                  <Position h="14" w="30" x="515" y="413"/>
                  <BlockDesign>
                     <Border>
                        <svg height="1" width="1"/>
                     </Border>
                     <Image>
                        <Placeholder Name="Port" Value="2"/>
                     </Image>
                  </BlockDesign>
                  <Port>
                     <Type No="1">Inport</Type>
                     <Position x="500" y="420"/>
                     <IsConnected>1</IsConnected>
                     <Source>
                        <BlockIdentifier>&lt;S29&gt;</BlockIdentifier>
                        <PortType>Outport</PortType>
                        <PortNo>1</PortNo>
                     </Source>
                  </Port>
               </Block>
            </Block>
            <Block>
               <Name>SoC</Name>
               <Identifier>&lt;S8&gt;/SoC</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="595" y="253"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="1"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="580" y="260"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S26&gt;</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
         </Block>
         <Block>
            <Name>SoH Calculation</Name>
            <Identifier>&lt;S9&gt;</Identifier>
            <Type>SubSystem</Type>
            <Position h="80" w="290" x="610" y="520"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
            </BlockDesign>
            <Port>
               <Type No="1">Outport</Type>
               <Position x="905" y="560"/>
               <IsConnected>1</IsConnected>
               <Line>
                  <Point x="905" y="560"/>
                  <Point x="922" y="560"/>
                  <Line>
                     <Point x="922" y="560"/>
                     <Point x="1015" y="560"/>
                  </Line>
                  <Line>
                     <Point x="922" y="560"/>
                     <Point x="922" y="468"/>
                     <Point x="569" y="468"/>
                     <Point x="569" y="315"/>
                     <Point x="605" y="315"/>
                  </Line>
               </Line>
            </Port>
            <Block>
               <Name>Constant</Name>
               <Identifier>&lt;S9&gt;/Constant</Identifier>
               <Type>Constant</Type>
               <Position h="56" w="155" x="-250" y="-213"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Value" Value="estimatedCapacity"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="-90" y="-185"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="-90" y="-185"/>
                     <Point x="40" y="-185"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>Corrective factor 
for expected capacity
loss from aging</Name>
               <Identifier>&lt;S9&gt;/Corrective factor 
for expected capacity
loss from aging</Identifier>
               <Type>Gain</Type>
               <Position h="36" w="60" x="45" y="-203"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Gain" Value="1"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="30" y="-185"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S9&gt;/Constant</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
               <Port>
                  <Type No="1">Outport</Type>
                  <Position x="110" y="-185"/>
                  <IsConnected>1</IsConnected>
                  <Line>
                     <Point x="110" y="-185"/>
                     <Point x="270" y="-185"/>
                  </Line>
               </Port>
            </Block>
            <Block>
               <Name>MaximumCapacity</Name>
               <Identifier>&lt;S9&gt;/MaximumCapacity</Identifier>
               <Type>Outport</Type>
               <Position h="14" w="30" x="275" y="-192"/>
               <BlockDesign>
                  <Border>
                     <svg height="1" width="1"/>
                  </Border>
                  <Image>
                     <Placeholder Name="Port" Value="1"/>
                  </Image>
               </BlockDesign>
               <Port>
                  <Type No="1">Inport</Type>
                  <Position x="260" y="-185"/>
                  <IsConnected>1</IsConnected>
                  <Source>
                     <BlockIdentifier>&lt;S9&gt;/Corrective factor 
for expected capacity
loss from aging</BlockIdentifier>
                     <PortType>Outport</PortType>
                     <PortNo>1</PortNo>
                  </Source>
               </Port>
            </Block>
         </Block>
         <Block>
            <Name>SoC</Name>
            <Identifier>&lt;Root&gt;/SoC</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1455" y="228"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="1"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1440" y="235"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;Root&gt;/Round SoC on 1 digit</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
               <Signal Category="Output" Name="SoC" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.SoC</GlobalName>
                  <AdsIdxOffs>#x81000000</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>EstimatedRunningTime</Name>
            <Identifier>&lt;Root&gt;/EstimatedRunningTime</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1455" y="373"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="2"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1440" y="380"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S1&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>2</PortNo>
               </Source>
               <Signal Category="Output" Name="EstimatedRunningTime" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.EstimatedRunningTime</GlobalName>
                  <AdsIdxOffs>#x81000008</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>EstimatedChargingTime</Name>
            <Identifier>&lt;Root&gt;/EstimatedChargingTime</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1455" y="518"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="3"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1440" y="525"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S1&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>3</PortNo>
               </Source>
               <Signal Category="Output" Name="EstimatedChargingTime" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.EstimatedChargingTime</GlobalName>
                  <AdsIdxOffs>#x8100000C</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>VoltageOut</Name>
            <Identifier>&lt;Root&gt;/VoltageOut</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1455" y="628"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="4"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1440" y="635"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;Root&gt;/Round Voltage on 3 digits</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
               <Signal Category="Output" Name="VoltageOut" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.VoltageOut</GlobalName>
                  <AdsIdxOffs>#x81000010</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>CurrentOut</Name>
            <Identifier>&lt;Root&gt;/CurrentOut</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1455" y="693"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="5"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1440" y="700"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;Root&gt;/Round Current on 3 digits</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
               <Signal Category="Output" Name="CurrentOut" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.CurrentOut</GlobalName>
                  <AdsIdxOffs>#x81000018</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>NoChargingCurrent</Name>
            <Identifier>&lt;Root&gt;/NoChargingCurrent</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1455" y="738"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="6"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1440" y="745"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S2&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>6</PortNo>
               </Source>
               <Signal Category="Output" Name="NoChargingCurrent" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.NoChargingCurrent</GlobalName>
                  <AdsIdxOffs>#x81000020</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>CACCheckDetected</Name>
            <Identifier>&lt;Root&gt;/CACCheckDetected</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1455" y="773"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="7"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1440" y="780"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;Root&gt;/Constant</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
               <Signal Category="Output" Name="CACCheckDetected" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.CACCheckDetected</GlobalName>
                  <AdsIdxOffs>#x81000021</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Debug_RecalibrationTrigger</Name>
            <Identifier>&lt;Root&gt;/Debug_RecalibrationTrigger</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1320" y="-862"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="8"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1305" y="-855"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S4&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>1</PortNo>
               </Source>
               <Signal Category="Output" Name="Debug_RecalibrationTrigger" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.Debug_RecalibrationTrigger</GlobalName>
                  <AdsIdxOffs>#x81000022</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Debug_RecalibrationTriggerCounter</Name>
            <Identifier>&lt;Root&gt;/Debug_RecalibrationTriggerCounter</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1320" y="-822"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="9"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1305" y="-815"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S4&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>2</PortNo>
               </Source>
               <Signal Category="Output" Name="Debug_RecalibrationTriggerCounter" ReadOnly="true"/>
            </Port>
         </Block>
         <Block>
            <Name>Debug_RecalibrationValue</Name>
            <Identifier>&lt;Root&gt;/Debug_RecalibrationValue</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1320" y="-782"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="10"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1305" y="-775"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S4&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>3</PortNo>
               </Source>
               <Signal Category="Output" Name="Debug_RecalibrationValue" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.Debug_RecalibrationValue</GlobalName>
                  <AdsIdxOffs>#x81000028</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Debug_LegacyRecalibrationValue</Name>
            <Identifier>&lt;Root&gt;/Debug_LegacyRecalibrationValue</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1320" y="-742"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="11"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1305" y="-735"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S4&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>4</PortNo>
               </Source>
               <Signal Category="Output" Name="Debug_LegacyRecalibrationValue" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.Debug_LegacyRecalibrationValue</GlobalName>
                  <AdsIdxOffs>#x81000030</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Debug_InternalResistance</Name>
            <Identifier>&lt;Root&gt;/Debug_InternalResistance</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1320" y="-702"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="12"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1305" y="-695"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S4&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>5</PortNo>
               </Source>
               <Signal Category="Output" Name="Debug_InternalResistance" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.Debug_InternalResistance</GlobalName>
                  <AdsIdxOffs>#x81000038</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Debug_VoltageDrop</Name>
            <Identifier>&lt;Root&gt;/Debug_VoltageDrop</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1320" y="-662"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="13"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1305" y="-655"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S4&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>6</PortNo>
               </Source>
               <Signal Category="Output" Name="Debug_VoltageDrop" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.Debug_VoltageDrop</GlobalName>
                  <AdsIdxOffs>#x81000040</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Debug_CalculatedOCV</Name>
            <Identifier>&lt;Root&gt;/Debug_CalculatedOCV</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1320" y="-622"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="14"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1305" y="-615"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S4&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>7</PortNo>
               </Source>
               <Signal Category="Output" Name="Debug_CalculatedOCV" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.Debug_CalculatedOCV</GlobalName>
                  <AdsIdxOffs>#x81000048</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Debug_AverageCurrentConsumption</Name>
            <Identifier>&lt;Root&gt;/Debug_AverageCurrentConsumption</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1320" y="-582"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="15"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1305" y="-575"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S4&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>8</PortNo>
               </Source>
               <Signal Category="Output" Name="Debug_AverageCurrentConsumption" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.Debug_AverageCurrentConsumption</GlobalName>
                  <AdsIdxOffs>#x81000050</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Debug_Voltage</Name>
            <Identifier>&lt;Root&gt;/Debug_Voltage</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1320" y="-542"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="16"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1305" y="-535"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S4&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>9</PortNo>
               </Source>
               <Signal Category="Output" Name="Debug_Voltage" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.Debug_Voltage</GlobalName>
                  <AdsIdxOffs>#x81000058</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Debug_Current</Name>
            <Identifier>&lt;Root&gt;/Debug_Current</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1320" y="-502"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="17"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1305" y="-495"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S4&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>10</PortNo>
               </Source>
               <Signal Category="Output" Name="Debug_Current" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.Debug_Current</GlobalName>
                  <AdsIdxOffs>#x81000060</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Debug_Coulombs</Name>
            <Identifier>&lt;Root&gt;/Debug_Coulombs</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1320" y="-462"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="18"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1305" y="-455"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S4&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>11</PortNo>
               </Source>
               <Signal Category="Output" Name="Debug_Coulombs" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.Debug_Coulombs</GlobalName>
                  <AdsIdxOffs>#x81000068</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <Block>
            <Name>Debug_CountedCoulombsSoC</Name>
            <Identifier>&lt;Root&gt;/Debug_CountedCoulombsSoC</Identifier>
            <Type>Outport</Type>
            <Position h="14" w="30" x="1320" y="-422"/>
            <BlockDesign>
               <Border>
                  <svg height="1" width="1"/>
               </Border>
               <Image>
                  <Placeholder Name="Port" Value="19"/>
               </Image>
            </BlockDesign>
            <Port>
               <Type No="1">Inport</Type>
               <Position x="1305" y="-415"/>
               <IsConnected>1</IsConnected>
               <Source>
                  <BlockIdentifier>&lt;S4&gt;</BlockIdentifier>
                  <PortType>Outport</PortType>
                  <PortNo>12</PortNo>
               </Source>
               <Signal Category="Output" Name="Debug_CountedCoulombsSoC" ReadOnly="true">
                  <GlobalName>SoC_Model__Data_Processing_20_Y.Debug_CountedCoulombsSoC</GlobalName>
                  <AdsIdxOffs>#x81000070</AdsIdxOffs>
               </Signal>
            </Port>
         </Block>
         <SubsystemHierarchy>
            <Subsystem>
               <ID>&lt;Root&gt;</ID>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S1&gt;</ID>
               <Parent>&lt;Root&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S10&gt;</ID>
               <Parent>&lt;S1&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S11&gt;</ID>
               <Parent>&lt;S1&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S2&gt;</ID>
               <Parent>&lt;Root&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S12&gt;</ID>
               <Parent>&lt;S2&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S17&gt;</ID>
               <Parent>&lt;S12&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S13&gt;</ID>
               <Parent>&lt;S2&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S18&gt;</ID>
               <Parent>&lt;S13&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S14&gt;</ID>
               <Parent>&lt;S2&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S19&gt;</ID>
               <Parent>&lt;S14&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S15&gt;</ID>
               <Parent>&lt;S2&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S20&gt;</ID>
               <Parent>&lt;S15&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S16&gt;</ID>
               <Parent>&lt;S2&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S21&gt;</ID>
               <Parent>&lt;S16&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S3&gt;</ID>
               <Parent>&lt;Root&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S4&gt;</ID>
               <Parent>&lt;Root&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S22&gt;</ID>
               <Parent>&lt;S4&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S8&gt;</ID>
               <Parent>&lt;Root&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S26&gt;</ID>
               <Parent>&lt;S8&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S27&gt;</ID>
               <Parent>&lt;S8&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S28&gt;</ID>
               <Parent>&lt;S27&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S30&gt;</ID>
               <Parent>&lt;S28&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S33&gt;</ID>
               <Parent>&lt;S30&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S34&gt;</ID>
               <Parent>&lt;S30&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S35&gt;</ID>
               <Parent>&lt;S34&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S31&gt;</ID>
               <Parent>&lt;S28&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S36&gt;</ID>
               <Parent>&lt;S31&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S37&gt;</ID>
               <Parent>&lt;S36&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S32&gt;</ID>
               <Parent>&lt;S28&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S38&gt;</ID>
               <Parent>&lt;S32&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S39&gt;</ID>
               <Parent>&lt;S38&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S29&gt;</ID>
               <Parent>&lt;S27&gt;</Parent>
            </Subsystem>
            <Subsystem>
               <ID>&lt;S9&gt;</ID>
               <Parent>&lt;Root&gt;</Parent>
            </Subsystem>
         </SubsystemHierarchy>
         <DebugInfo>
            <SourceFile>
               <Name>SoC_Model__Data_Processing_2022.cpp</Name>
               <Path>C:\Matlab\TestModel\SoC_Model__Data_Processing_2022_tcgrt\SoC_Model__Data_Processing_2022.cpp</Path>
               <CodeSection CommentStartLine="366" EndLine="378" Method="MovingAverageover10Samples_Init" StartLine="367">
                  <Block>&lt;S1&gt;/Moving Average over 10 Samples to smooth EstimatedChargingTime  signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="379" EndLine="381" Method="MovingAverageover10Samples_Init" StartLine="380">
                  <Block>&lt;S1&gt;/Moving Average over 10 Samples to smooth EstimatedChargingTime  signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="389" EndLine="408" Method="MovingAverageover10Sample_Start" StartLine="390">
                  <Block>&lt;S1&gt;/Moving Average over 10 Samples to smooth EstimatedChargingTime  signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="428" EndLine="501" Method="MovingAverageover10Sample_Start" StartLine="429">
                  <Block>&lt;S1&gt;/Moving Average over 10 Samples to smooth EstimatedChargingTime  signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="502" EndLine="505" Method="MovingAverageover10Sample_Start" StartLine="503">
                  <Block>&lt;S1&gt;/Moving Average over 10 Samples to smooth EstimatedChargingTime  signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="512" EndLine="525" Method="MovingAverageover10Samples_Term" StartLine="513">
                  <Block>&lt;S1&gt;/Moving Average over 10 Samples to smooth EstimatedChargingTime  signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="526" EndLine="528" Method="MovingAverageover10Samples_Term" StartLine="527">
                  <Block>&lt;S1&gt;/Moving Average over 10 Samples to smooth EstimatedChargingTime  signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="535" EndLine="547" Method="MovingAverageover3minforav_Init" StartLine="536">
                  <Block>&lt;S12&gt;/Moving Average over 3 min. for average current consumption</Block>
               </CodeSection>
               <CodeSection CommentStartLine="548" EndLine="550" Method="MovingAverageover3minforav_Init" StartLine="549">
                  <Block>&lt;S12&gt;/Moving Average over 3 min. for average current consumption</Block>
               </CodeSection>
               <CodeSection CommentStartLine="558" EndLine="577" Method="MovingAverageover3minfora_Start" StartLine="559">
                  <Block>&lt;S12&gt;/Moving Average over 3 min. for average current consumption</Block>
               </CodeSection>
               <CodeSection CommentStartLine="596" EndLine="669" Method="MovingAverageover3minfora_Start" StartLine="597">
                  <Block>&lt;S12&gt;/Moving Average over 3 min. for average current consumption</Block>
               </CodeSection>
               <CodeSection CommentStartLine="670" EndLine="673" Method="MovingAverageover3minfora_Start" StartLine="671">
                  <Block>&lt;S12&gt;/Moving Average over 3 min. for average current consumption</Block>
               </CodeSection>
               <CodeSection CommentStartLine="680" EndLine="693" Method="MovingAverageover3minforav_Term" StartLine="681">
                  <Block>&lt;S12&gt;/Moving Average over 3 min. for average current consumption</Block>
               </CodeSection>
               <CodeSection CommentStartLine="694" EndLine="714" Method="MovingAverageover3minforav_Term" StartLine="695">
                  <Block>&lt;S12&gt;/Moving Average over 3 min. for average current consumption</Block>
               </CodeSection>
               <CodeSection CommentStartLine="744" EndLine="753" Method="SoC_Model__Data_Processing_2022_step" StartLine="745">
                  <Block>&lt;S33&gt;/FromWs</Block>
               </CodeSection>
               <CodeSection CommentStartLine="799" EndLine="803" Method="SoC_Model__Data_Processing_2022_step" StartLine="802">
                  <Block>&lt;S30&gt;/Timer with reset to have relaxation of capacity effects</Block>
               </CodeSection>
               <CodeSection CommentStartLine="799" EndLine="803" Method="SoC_Model__Data_Processing_2022_step" StartLine="802">
                  <Block>&lt;S34&gt;/Enable</Block>
               </CodeSection>
               <CodeSection CommentStartLine="804" EndLine="806" Method="SoC_Model__Data_Processing_2022_step" StartLine="805">
                  <Block>&lt;S34&gt;/Memory</Block>
               </CodeSection>
               <CodeSection CommentStartLine="807" EndLine="812" Method="SoC_Model__Data_Processing_2022_step" StartLine="808">
                  <Block>&lt;S34&gt;/Timer</Block>
               </CodeSection>
               <CodeSection CommentStartLine="813" EndLine="816" Method="SoC_Model__Data_Processing_2022_step" StartLine="814">
                  <Block>&lt;S34&gt;/Memory</Block>
               </CodeSection>
               <CodeSection CommentStartLine="817" EndLine="822" Method="SoC_Model__Data_Processing_2022_step" StartLine="818">
                  <Block>&lt;S34&gt;/Timer</Block>
               </CodeSection>
               <CodeSection CommentStartLine="823" EndLine="826" Method="SoC_Model__Data_Processing_2022_step" StartLine="824">
                  <Block>&lt;S34&gt;/Timer</Block>
               </CodeSection>
               <CodeSection CommentStartLine="827" EndLine="832" Method="SoC_Model__Data_Processing_2022_step" StartLine="830">
                  <Block>&lt;S35&gt;/Compare</Block>
               </CodeSection>
               <CodeSection CommentStartLine="827" EndLine="832" Method="SoC_Model__Data_Processing_2022_step" StartLine="830">
                  <Block>&lt;S35&gt;/Constant</Block>
               </CodeSection>
               <CodeSection CommentStartLine="833" EndLine="836" Method="SoC_Model__Data_Processing_2022_step" StartLine="834">
                  <Block>&lt;S34&gt;/Memory</Block>
               </CodeSection>
               <CodeSection CommentStartLine="837" EndLine="845" Method="SoC_Model__Data_Processing_2022_step" StartLine="838">
                  <Block>&lt;S34&gt;/Timer</Block>
               </CodeSection>
               <CodeSection CommentStartLine="846" EndLine="847" Method="SoC_Model__Data_Processing_2022_step" StartLine="847">
                  <Block>&lt;S30&gt;/Timer with reset to have relaxation of capacity effects</Block>
               </CodeSection>
               <CodeSection CommentStartLine="848" EndLine="853" Method="SoC_Model__Data_Processing_2022_step" StartLine="851">
                  <Block>&lt;S2&gt;/Check, if charging contact is existing and charging is activated by charging station</Block>
               </CodeSection>
               <CodeSection CommentStartLine="848" EndLine="853" Method="SoC_Model__Data_Processing_2022_step" StartLine="851">
                  <Block>&lt;Root&gt;/ChargingActive</Block>
               </CodeSection>
               <CodeSection CommentStartLine="854" EndLine="862" Method="SoC_Model__Data_Processing_2022_step" StartLine="855">
                  <Block>&lt;Root&gt;/Current</Block>
               </CodeSection>
               <CodeSection CommentStartLine="863" EndLine="869" Method="SoC_Model__Data_Processing_2022_step" StartLine="866">
                  <Block>&lt;S20&gt;/Compare</Block>
               </CodeSection>
               <CodeSection CommentStartLine="863" EndLine="869" Method="SoC_Model__Data_Processing_2022_step" StartLine="866">
                  <Block>&lt;S20&gt;/Constant</Block>
               </CodeSection>
               <CodeSection CommentStartLine="870" EndLine="874" Method="SoC_Model__Data_Processing_2022_step" StartLine="871">
                  <Block>&lt;S2&gt;/Detect regular charging when charging signals are true and current is negative</Block>
               </CodeSection>
               <CodeSection CommentStartLine="875" EndLine="879" Method="SoC_Model__Data_Processing_2022_step" StartLine="878">
                  <Block>&lt;S31&gt;/Timer with reset</Block>
               </CodeSection>
               <CodeSection CommentStartLine="875" EndLine="879" Method="SoC_Model__Data_Processing_2022_step" StartLine="878">
                  <Block>&lt;S36&gt;/Enable</Block>
               </CodeSection>
               <CodeSection CommentStartLine="880" EndLine="882" Method="SoC_Model__Data_Processing_2022_step" StartLine="881">
                  <Block>&lt;S36&gt;/Reset counter</Block>
               </CodeSection>
               <CodeSection CommentStartLine="883" EndLine="888" Method="SoC_Model__Data_Processing_2022_step" StartLine="884">
                  <Block>&lt;S36&gt;/Timer counter</Block>
               </CodeSection>
               <CodeSection CommentStartLine="889" EndLine="892" Method="SoC_Model__Data_Processing_2022_step" StartLine="890">
                  <Block>&lt;S36&gt;/Reset counter</Block>
               </CodeSection>
               <CodeSection CommentStartLine="893" EndLine="898" Method="SoC_Model__Data_Processing_2022_step" StartLine="894">
                  <Block>&lt;S36&gt;/Timer counter</Block>
               </CodeSection>
               <CodeSection CommentStartLine="899" EndLine="902" Method="SoC_Model__Data_Processing_2022_step" StartLine="900">
                  <Block>&lt;S36&gt;/Timer counter</Block>
               </CodeSection>
               <CodeSection CommentStartLine="903" EndLine="908" Method="SoC_Model__Data_Processing_2022_step" StartLine="906">
                  <Block>&lt;S37&gt;/Compare</Block>
               </CodeSection>
               <CodeSection CommentStartLine="903" EndLine="908" Method="SoC_Model__Data_Processing_2022_step" StartLine="906">
                  <Block>&lt;S37&gt;/Constant</Block>
               </CodeSection>
               <CodeSection CommentStartLine="909" EndLine="912" Method="SoC_Model__Data_Processing_2022_step" StartLine="910">
                  <Block>&lt;S36&gt;/Reset counter</Block>
               </CodeSection>
               <CodeSection CommentStartLine="913" EndLine="921" Method="SoC_Model__Data_Processing_2022_step" StartLine="914">
                  <Block>&lt;S36&gt;/Timer counter</Block>
               </CodeSection>
               <CodeSection CommentStartLine="922" EndLine="923" Method="SoC_Model__Data_Processing_2022_step" StartLine="923">
                  <Block>&lt;S31&gt;/Timer with reset</Block>
               </CodeSection>
               <CodeSection CommentStartLine="924" EndLine="929" Method="SoC_Model__Data_Processing_2022_step" StartLine="927">
                  <Block>&lt;S28&gt;/Logical Operator</Block>
               </CodeSection>
               <CodeSection CommentStartLine="924" EndLine="929" Method="SoC_Model__Data_Processing_2022_step" StartLine="927">
                  <Block>&lt;Root&gt;/Debug_noRecalibration</Block>
               </CodeSection>
               <CodeSection CommentStartLine="930" EndLine="934" Method="SoC_Model__Data_Processing_2022_step" StartLine="931">
                  <Block>&lt;S28&gt;/Logical Operator1</Block>
               </CodeSection>
               <CodeSection CommentStartLine="935" EndLine="941" Method="SoC_Model__Data_Processing_2022_step" StartLine="939">
                  <Block>&lt;S16&gt;/Sum1</Block>
               </CodeSection>
               <CodeSection CommentStartLine="935" EndLine="941" Method="SoC_Model__Data_Processing_2022_step" StartLine="939">
                  <Block>&lt;S16&gt;/Constant</Block>
               </CodeSection>
               <CodeSection CommentStartLine="935" EndLine="941" Method="SoC_Model__Data_Processing_2022_step" StartLine="939">
                  <Block>&lt;Root&gt;/Debug_CurrentOffset</Block>
               </CodeSection>
               <CodeSection CommentStartLine="942" EndLine="945" Method="SoC_Model__Data_Processing_2022_step" StartLine="943">
                  <Block>&lt;S16&gt;/Bias1</Block>
               </CodeSection>
               <CodeSection CommentStartLine="946" EndLine="950" Method="SoC_Model__Data_Processing_2022_step" StartLine="947">
                  <Block>&lt;S21&gt;/Lower Test</Block>
               </CodeSection>
               <CodeSection CommentStartLine="951" EndLine="954" Method="SoC_Model__Data_Processing_2022_step" StartLine="952">
                  <Block>&lt;S16&gt;/Bias</Block>
               </CodeSection>
               <CodeSection CommentStartLine="955" EndLine="959" Method="SoC_Model__Data_Processing_2022_step" StartLine="956">
                  <Block>&lt;S21&gt;/Upper Test</Block>
               </CodeSection>
               <CodeSection CommentStartLine="960" EndLine="964" Method="SoC_Model__Data_Processing_2022_step" StartLine="961">
                  <Block>&lt;S21&gt;/FixPt Logical Operator</Block>
               </CodeSection>
               <CodeSection CommentStartLine="965" EndLine="969" Method="SoC_Model__Data_Processing_2022_step" StartLine="968">
                  <Block>&lt;S32&gt;/Timer with reset to have relaxation of capacity effects</Block>
               </CodeSection>
               <CodeSection CommentStartLine="965" EndLine="969" Method="SoC_Model__Data_Processing_2022_step" StartLine="968">
                  <Block>&lt;S38&gt;/Enable</Block>
               </CodeSection>
               <CodeSection CommentStartLine="970" EndLine="972" Method="SoC_Model__Data_Processing_2022_step" StartLine="971">
                  <Block>&lt;S38&gt;/Memory</Block>
               </CodeSection>
               <CodeSection CommentStartLine="973" EndLine="978" Method="SoC_Model__Data_Processing_2022_step" StartLine="974">
                  <Block>&lt;S38&gt;/Timer</Block>
               </CodeSection>
               <CodeSection CommentStartLine="979" EndLine="982" Method="SoC_Model__Data_Processing_2022_step" StartLine="980">
                  <Block>&lt;S38&gt;/Memory</Block>
               </CodeSection>
               <CodeSection CommentStartLine="983" EndLine="988" Method="SoC_Model__Data_Processing_2022_step" StartLine="984">
                  <Block>&lt;S38&gt;/Timer</Block>
               </CodeSection>
               <CodeSection CommentStartLine="989" EndLine="992" Method="SoC_Model__Data_Processing_2022_step" StartLine="990">
                  <Block>&lt;S38&gt;/Timer</Block>
               </CodeSection>
               <CodeSection CommentStartLine="993" EndLine="998" Method="SoC_Model__Data_Processing_2022_step" StartLine="996">
                  <Block>&lt;S39&gt;/Compare</Block>
               </CodeSection>
               <CodeSection CommentStartLine="993" EndLine="998" Method="SoC_Model__Data_Processing_2022_step" StartLine="996">
                  <Block>&lt;S39&gt;/Constant</Block>
               </CodeSection>
               <CodeSection CommentStartLine="999" EndLine="1002" Method="SoC_Model__Data_Processing_2022_step" StartLine="1000">
                  <Block>&lt;S38&gt;/Memory</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1003" EndLine="1011" Method="SoC_Model__Data_Processing_2022_step" StartLine="1004">
                  <Block>&lt;S38&gt;/Timer</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1012" EndLine="1013" Method="SoC_Model__Data_Processing_2022_step" StartLine="1013">
                  <Block>&lt;S32&gt;/Timer with reset to have relaxation of capacity effects</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1014" EndLine="1018" Method="SoC_Model__Data_Processing_2022_step" StartLine="1015">
                  <Block>&lt;S28&gt;/Logical Operator2</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1019" EndLine="1028" Method="SoC_Model__Data_Processing_2022_step" StartLine="1023">
                  <Block>&lt;Root&gt;/Debug_RecalibrationTrigger</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1019" EndLine="1028" Method="SoC_Model__Data_Processing_2022_step" StartLine="1023">
                  <Block>&lt;Root&gt;/ExternalRecalibrationTrigger</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1019" EndLine="1028" Method="SoC_Model__Data_Processing_2022_step" StartLine="1023">
                  <Block>&lt;S28&gt;/OR</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1029" EndLine="1037" Method="SoC_Model__Data_Processing_2022_step" StartLine="1030">
                  <Block>&lt;Root&gt;/Voltage</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1038" EndLine="1041" Method="SoC_Model__Data_Processing_2022_step" StartLine="1039">
                  <Block>&lt;S29&gt;/Same behaviour for  charging currents</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1042" EndLine="1045" Method="SoC_Model__Data_Processing_2022_step" StartLine="1043">
                  <Block>&lt;S29&gt;/Memory</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1046" EndLine="1058" Method="SoC_Model__Data_Processing_2022_step" StartLine="1050">
                  <Block>&lt;S29&gt;/Get internal  resistance</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1046" EndLine="1058" Method="SoC_Model__Data_Processing_2022_step" StartLine="1050">
                  <Block>&lt;S29&gt;/Same behaviour for  charging currents</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1046" EndLine="1058" Method="SoC_Model__Data_Processing_2022_step" StartLine="1050">
                  <Block>&lt;S29&gt;/Memory</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1059" EndLine="1066" Method="SoC_Model__Data_Processing_2022_step" StartLine="1063">
                  <Block>&lt;Root&gt;/Debug_InternalResistance</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1059" EndLine="1066" Method="SoC_Model__Data_Processing_2022_step" StartLine="1063">
                  <Block>&lt;Root&gt;/Debug_InternalResistanceOffset</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1059" EndLine="1066" Method="SoC_Model__Data_Processing_2022_step" StartLine="1063">
                  <Block>&lt;S29&gt;/Sum</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1067" EndLine="1074" Method="SoC_Model__Data_Processing_2022_step" StartLine="1071">
                  <Block>&lt;Root&gt;/Debug_VoltageDrop</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1067" EndLine="1074" Method="SoC_Model__Data_Processing_2022_step" StartLine="1071">
                  <Block>&lt;Root&gt;/Debug_InternalResistance</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1067" EndLine="1074" Method="SoC_Model__Data_Processing_2022_step" StartLine="1071">
                  <Block>&lt;S29&gt;/Calculate voltage  drop on  internal resistance</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1075" EndLine="1081" Method="SoC_Model__Data_Processing_2022_step" StartLine="1078">
                  <Block>&lt;S29&gt;/Add the voltage drop to the measured voltage to get the OCV </Block>
               </CodeSection>
               <CodeSection CommentStartLine="1075" EndLine="1081" Method="SoC_Model__Data_Processing_2022_step" StartLine="1078">
                  <Block>&lt;Root&gt;/Debug_VoltageDrop</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1082" EndLine="1087" Method="SoC_Model__Data_Processing_2022_step" StartLine="1085">
                  <Block>&lt;Root&gt;/Debug_CalculatedOCV</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1082" EndLine="1087" Method="SoC_Model__Data_Processing_2022_step" StartLine="1085">
                  <Block>&lt;S29&gt;/Correct OCV</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1088" EndLine="1097" Method="SoC_Model__Data_Processing_2022_step" StartLine="1092">
                  <Block>&lt;S29&gt;/Get SoC, which is assigned to the current OCV</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1088" EndLine="1097" Method="SoC_Model__Data_Processing_2022_step" StartLine="1092">
                  <Block>&lt;S29&gt;/Correct OCV</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1088" EndLine="1097" Method="SoC_Model__Data_Processing_2022_step" StartLine="1092">
                  <Block>&lt;Root&gt;/Debug_CalculatedOCV</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1098" EndLine="1101" Method="SoC_Model__Data_Processing_2022_step" StartLine="1099">
                  <Block>&lt;S29&gt;/Switch betwen external  and internal recalibration</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1102" EndLine="1115" Method="SoC_Model__Data_Processing_2022_step" StartLine="1105">
                  <Block>&lt;S26&gt;/Current Integration (Coloumb Counting)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1102" EndLine="1115" Method="SoC_Model__Data_Processing_2022_step" StartLine="1105">
                  <Block>&lt;Root&gt;/Debug_RecalibrationTrigger</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1116" EndLine="1123" Method="SoC_Model__Data_Processing_2022_step" StartLine="1117">
                  <Block>&lt;S26&gt;/Current Integration (Coloumb Counting)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1124" EndLine="1127" Method="SoC_Model__Data_Processing_2022_step" StartLine="1125">
                  <Block>&lt;S1&gt;/Convert to percent</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1128" EndLine="1130" Method="SoC_Model__Data_Processing_2022_step" StartLine="1129">
                  <Block>&lt;S1&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1131" EndLine="1133" Method="SoC_Model__Data_Processing_2022_step" StartLine="1132">
                  <Block>&lt;S1&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1134" EndLine="1136" Method="SoC_Model__Data_Processing_2022_step" StartLine="1135">
                  <Block>&lt;S1&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1137" EndLine="1140" Method="SoC_Model__Data_Processing_2022_step" StartLine="1138">
                  <Block>&lt;S1&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1141" EndLine="1142" Method="SoC_Model__Data_Processing_2022_step" StartLine="1142">
                  <Block>&lt;S1&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1143" EndLine="1145" Method="SoC_Model__Data_Processing_2022_step" StartLine="1146">
                  <Block>&lt;Root&gt;/SoC</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1143" EndLine="1145" Method="SoC_Model__Data_Processing_2022_step" StartLine="1146">
                  <Block>&lt;Root&gt;/Round SoC on 1 digit</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1152" EndLine="1155" Method="SoC_Model__Data_Processing_2022_step" StartLine="1153">
                  <Block>&lt;S11&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1156" EndLine="1158" Method="SoC_Model__Data_Processing_2022_step" StartLine="1157">
                  <Block>&lt;S11&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1159" EndLine="1161" Method="SoC_Model__Data_Processing_2022_step" StartLine="1160">
                  <Block>&lt;S11&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1162" EndLine="1165" Method="SoC_Model__Data_Processing_2022_step" StartLine="1163">
                  <Block>&lt;S11&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1166" EndLine="1167" Method="SoC_Model__Data_Processing_2022_step" StartLine="1167">
                  <Block>&lt;S11&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1168" EndLine="1176" Method="SoC_Model__Data_Processing_2022_step" StartLine="1171">
                  <Block>&lt;S11&gt;/Get average OCV for remaining SoC area</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1168" EndLine="1176" Method="SoC_Model__Data_Processing_2022_step" StartLine="1171">
                  <Block>&lt;S11&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1177" EndLine="1181" Method="SoC_Model__Data_Processing_2022_step" StartLine="1178">
                  <Block>&lt;S11&gt;/Calculate current capacity</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1182" EndLine="1186" Method="SoC_Model__Data_Processing_2022_step" StartLine="1183">
                  <Block>&lt;S11&gt;/Calculate remaining energy</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1187" EndLine="1190" Method="SoC_Model__Data_Processing_2022_step" StartLine="1188">
                  <Block>&lt;S2&gt;/Logical Operator4</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1191" EndLine="1194" Method="SoC_Model__Data_Processing_2022_step" StartLine="1194">
                  <Block>&lt;S2&gt;/Average Battery Voltage (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1191" EndLine="1194" Method="SoC_Model__Data_Processing_2022_step" StartLine="1194">
                  <Block>&lt;S12&gt;/Enable</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1195" EndLine="1198" Method="SoC_Model__Data_Processing_2022_step" StartLine="1196">
                  <Block>&lt;S12&gt;/Timer </Block>
               </CodeSection>
               <CodeSection CommentStartLine="1199" EndLine="1204" Method="SoC_Model__Data_Processing_2022_step" StartLine="1202">
                  <Block>&lt;S17&gt;/Compare</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1199" EndLine="1204" Method="SoC_Model__Data_Processing_2022_step" StartLine="1202">
                  <Block>&lt;S17&gt;/Constant</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1205" EndLine="1213" Method="SoC_Model__Data_Processing_2022_step" StartLine="1206">
                  <Block>&lt;S12&gt;/Integrate measured current</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1214" EndLine="1215" Method="SoC_Model__Data_Processing_2022_step" StartLine="1215">
                  <Block>&lt;S12&gt;/Switch to moving average after 3 minutes</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1216" EndLine="1220" Method="SoC_Model__Data_Processing_2022_step" StartLine="1217">
                  <Block>&lt;S12&gt;/Divide integrated current through elapsed time</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1221" EndLine="1224" Method="SoC_Model__Data_Processing_2022_step" StartLine="1222">
                  <Block>&lt;S12&gt;/Switch to moving average after 3 minutes</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1225" EndLine="1229" Method="SoC_Model__Data_Processing_2022_step" StartLine="1226">
                  <Block>&lt;S12&gt;/Switch to moving average after 3 minutes</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1230" EndLine="1231" Method="SoC_Model__Data_Processing_2022_step" StartLine="1231">
                  <Block>&lt;S12&gt;/Switch to moving average after 3 minutes</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1232" EndLine="1235" Method="SoC_Model__Data_Processing_2022_step" StartLine="1233">
                  <Block>&lt;S12&gt;/Timer </Block>
               </CodeSection>
               <CodeSection CommentStartLine="1236" EndLine="1241" Method="SoC_Model__Data_Processing_2022_step" StartLine="1237">
                  <Block>&lt;S12&gt;/Integrate measured current</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1242" EndLine="1243" Method="SoC_Model__Data_Processing_2022_step" StartLine="1243">
                  <Block>&lt;S2&gt;/Average Battery Voltage (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1244" EndLine="1247" Method="SoC_Model__Data_Processing_2022_step" StartLine="1247">
                  <Block>&lt;S2&gt;/Average Current Consumption (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1244" EndLine="1247" Method="SoC_Model__Data_Processing_2022_step" StartLine="1247">
                  <Block>&lt;S13&gt;/Enable</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1248" EndLine="1251" Method="SoC_Model__Data_Processing_2022_step" StartLine="1249">
                  <Block>&lt;S13&gt;/Timer </Block>
               </CodeSection>
               <CodeSection CommentStartLine="1252" EndLine="1257" Method="SoC_Model__Data_Processing_2022_step" StartLine="1255">
                  <Block>&lt;S18&gt;/Compare</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1252" EndLine="1257" Method="SoC_Model__Data_Processing_2022_step" StartLine="1255">
                  <Block>&lt;S18&gt;/Constant</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1258" EndLine="1266" Method="SoC_Model__Data_Processing_2022_step" StartLine="1259">
                  <Block>&lt;S13&gt;/Integrate measured current</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1267" EndLine="1268" Method="SoC_Model__Data_Processing_2022_step" StartLine="1268">
                  <Block>&lt;S13&gt;/Switch to moving average after 3 minute</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1269" EndLine="1273" Method="SoC_Model__Data_Processing_2022_step" StartLine="1270">
                  <Block>&lt;S13&gt;/Divide integrated current through elapsed time</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1274" EndLine="1277" Method="SoC_Model__Data_Processing_2022_step" StartLine="1275">
                  <Block>&lt;Root&gt;/Debug_AverageCurrentConsumption</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1278" EndLine="1282" Method="SoC_Model__Data_Processing_2022_step" StartLine="1279">
                  <Block>&lt;Root&gt;/Debug_AverageCurrentConsumption</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1283" EndLine="1284" Method="SoC_Model__Data_Processing_2022_step" StartLine="1284">
                  <Block>&lt;S13&gt;/Switch to moving average after 3 minute</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1285" EndLine="1288" Method="SoC_Model__Data_Processing_2022_step" StartLine="1286">
                  <Block>&lt;S13&gt;/Timer </Block>
               </CodeSection>
               <CodeSection CommentStartLine="1289" EndLine="1294" Method="SoC_Model__Data_Processing_2022_step" StartLine="1290">
                  <Block>&lt;S13&gt;/Integrate measured current</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1295" EndLine="1296" Method="SoC_Model__Data_Processing_2022_step" StartLine="1296">
                  <Block>&lt;S2&gt;/Average Current Consumption (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1297" EndLine="1303" Method="SoC_Model__Data_Processing_2022_step" StartLine="1300">
                  <Block>&lt;S11&gt;/Resepct coulombic discharging effectivity</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1297" EndLine="1303" Method="SoC_Model__Data_Processing_2022_step" StartLine="1300">
                  <Block>&lt;Root&gt;/Debug_AverageCurrentConsumption</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1304" EndLine="1308" Method="SoC_Model__Data_Processing_2022_step" StartLine="1305">
                  <Block>&lt;S11&gt;/Calculate current power consumation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1309" EndLine="1313" Method="SoC_Model__Data_Processing_2022_step" StartLine="1310">
                  <Block>&lt;S11&gt;/Calculate remaining running time</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1314" EndLine="1388" Method="SoC_Model__Data_Processing_2022_step" StartLine="1315">
                  <Block>&lt;S1&gt;/Moving Average over 5 minutes to smooth EstimatedRunningTime  signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1389" EndLine="1391" Method="SoC_Model__Data_Processing_2022_step" StartLine="1390">
                  <Block>&lt;S1&gt;/Moving Average over 5 minutes to smooth EstimatedRunningTime  signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1392" EndLine="1400" Method="SoC_Model__Data_Processing_2022_step" StartLine="1393">
                  <Block>&lt;S1&gt;/Convert to integer for easier conversion to TIME in TC</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1401" EndLine="1407" Method="SoC_Model__Data_Processing_2022_step" StartLine="1404">
                  <Block>&lt;Root&gt;/EstimatedRunningTime</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1401" EndLine="1407" Method="SoC_Model__Data_Processing_2022_step" StartLine="1404">
                  <Block>&lt;S1&gt;/Convert to integer for easier conversion to TIME in TC</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1408" EndLine="1416" Method="SoC_Model__Data_Processing_2022_step" StartLine="1411">
                  <Block>&lt;S10&gt;/Get average OCV for remaining SoC area</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1408" EndLine="1416" Method="SoC_Model__Data_Processing_2022_step" StartLine="1411">
                  <Block>&lt;S1&gt;/Moving Average over 10 Samples to smooth SoC signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1417" EndLine="1420" Method="SoC_Model__Data_Processing_2022_step" StartLine="1418">
                  <Block>&lt;S10&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1421" EndLine="1423" Method="SoC_Model__Data_Processing_2022_step" StartLine="1422">
                  <Block>&lt;S10&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1424" EndLine="1426" Method="SoC_Model__Data_Processing_2022_step" StartLine="1425">
                  <Block>&lt;S10&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1427" EndLine="1430" Method="SoC_Model__Data_Processing_2022_step" StartLine="1428">
                  <Block>&lt;S10&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1431" EndLine="1432" Method="SoC_Model__Data_Processing_2022_step" StartLine="1432">
                  <Block>&lt;S10&gt;/Saturation</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1433" EndLine="1438" Method="SoC_Model__Data_Processing_2022_step" StartLine="1436">
                  <Block>&lt;S10&gt;/Sum</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1433" EndLine="1438" Method="SoC_Model__Data_Processing_2022_step" StartLine="1436">
                  <Block>&lt;S10&gt;/Calculate DoD</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1439" EndLine="1442" Method="SoC_Model__Data_Processing_2022_step" StartLine="1440">
                  <Block>&lt;S10&gt;/Calculate missing capacity</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1443" EndLine="1447" Method="SoC_Model__Data_Processing_2022_step" StartLine="1444">
                  <Block>&lt;S10&gt;/Calculate remaining energy</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1448" EndLine="1456" Method="SoC_Model__Data_Processing_2022_step" StartLine="1451">
                  <Block>&lt;S10&gt;/Charging Effectivity  eta_C of SoC = 0%</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1448" EndLine="1456" Method="SoC_Model__Data_Processing_2022_step" StartLine="1451">
                  <Block>&lt;S1&gt;/Moving Average over 10 Samples to smooth SoC signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1457" EndLine="1461" Method="SoC_Model__Data_Processing_2022_step" StartLine="1458">
                  <Block>&lt;S10&gt;/Add</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1462" EndLine="1465" Method="SoC_Model__Data_Processing_2022_step" StartLine="1463">
                  <Block>&lt;S10&gt;/Gain</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1466" EndLine="1467" Method="SoC_Model__Data_Processing_2022_step" StartLine="1467">
                  <Block>&lt;S10&gt;/Switch between real charging power and expected charging  power</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1468" EndLine="1472" Method="SoC_Model__Data_Processing_2022_step" StartLine="1469">
                  <Block>&lt;S10&gt;/Calculate current charging power</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1473" EndLine="1476" Method="SoC_Model__Data_Processing_2022_step" StartLine="1474">
                  <Block>&lt;S10&gt;/Unary Minus1</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1477" EndLine="1480" Method="SoC_Model__Data_Processing_2022_step" StartLine="1478">
                  <Block>&lt;S10&gt;/Switch between real charging power and expected charging  power</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1481" EndLine="1485" Method="SoC_Model__Data_Processing_2022_step" StartLine="1482">
                  <Block>&lt;S10&gt;/Switch between real charging power and expected charging  power</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1486" EndLine="1487" Method="SoC_Model__Data_Processing_2022_step" StartLine="1487">
                  <Block>&lt;S10&gt;/Switch between real charging power and expected charging  power</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1488" EndLine="1492" Method="SoC_Model__Data_Processing_2022_step" StartLine="1489">
                  <Block>&lt;S10&gt;/Respect charging effectivity</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1493" EndLine="1501" Method="SoC_Model__Data_Processing_2022_step" StartLine="1494">
                  <Block>&lt;S10&gt;/Calculate remaining running time</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1502" EndLine="1510" Method="SoC_Model__Data_Processing_2022_step" StartLine="1503">
                  <Block>&lt;S1&gt;/Convert to integer for easier conversion to TIME in TC (2)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1511" EndLine="1517" Method="SoC_Model__Data_Processing_2022_step" StartLine="1514">
                  <Block>&lt;Root&gt;/EstimatedChargingTime</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1511" EndLine="1517" Method="SoC_Model__Data_Processing_2022_step" StartLine="1514">
                  <Block>&lt;S1&gt;/Convert to integer for easier conversion to TIME in TC (2)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1518" EndLine="1520" Method="SoC_Model__Data_Processing_2022_step" StartLine="1521">
                  <Block>&lt;Root&gt;/VoltageOut</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1518" EndLine="1520" Method="SoC_Model__Data_Processing_2022_step" StartLine="1521">
                  <Block>&lt;Root&gt;/Round Voltage on 3 digits </Block>
               </CodeSection>
               <CodeSection CommentStartLine="1528" EndLine="1530" Method="SoC_Model__Data_Processing_2022_step" StartLine="1531">
                  <Block>&lt;Root&gt;/CurrentOut</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1528" EndLine="1530" Method="SoC_Model__Data_Processing_2022_step" StartLine="1531">
                  <Block>&lt;Root&gt;/Round Current on 3 digits </Block>
               </CodeSection>
               <CodeSection CommentStartLine="1538" EndLine="1544" Method="SoC_Model__Data_Processing_2022_step" StartLine="1541">
                  <Block>&lt;Root&gt;/NoChargingCurrent</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1538" EndLine="1544" Method="SoC_Model__Data_Processing_2022_step" StartLine="1541">
                  <Block>&lt;S2&gt;/Detect activated charging but no charging current measured</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1545" EndLine="1548" Method="SoC_Model__Data_Processing_2022_step" StartLine="1546">
                  <Block>&lt;S26&gt;/Eta_C is dependent of SoC</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1549" EndLine="1550" Method="SoC_Model__Data_Processing_2022_step" StartLine="1550">
                  <Block>&lt;S26&gt;/Switch</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1551" EndLine="1558" Method="SoC_Model__Data_Processing_2022_step" StartLine="1554">
                  <Block>&lt;S26&gt;/Charging Effectivity eta_C</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1551" EndLine="1558" Method="SoC_Model__Data_Processing_2022_step" StartLine="1554">
                  <Block>&lt;S26&gt;/Eta_C is dependent of SoC</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1559" EndLine="1562" Method="SoC_Model__Data_Processing_2022_step" StartLine="1560">
                  <Block>&lt;S26&gt;/Switch</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1563" EndLine="1568" Method="SoC_Model__Data_Processing_2022_step" StartLine="1566">
                  <Block>&lt;S26&gt;/Switch</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1563" EndLine="1568" Method="SoC_Model__Data_Processing_2022_step" StartLine="1566">
                  <Block>&lt;S26&gt;/Discharging Effectivity (approximated and not in dependency of I and SoC)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1569" EndLine="1570" Method="SoC_Model__Data_Processing_2022_step" StartLine="1570">
                  <Block>&lt;S26&gt;/Switch</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1571" EndLine="1578" Method="SoC_Model__Data_Processing_2022_step" StartLine="1574">
                  <Block>&lt;S26&gt;/Calculate effectivity of transported coloumbs and scale to capacity</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1571" EndLine="1578" Method="SoC_Model__Data_Processing_2022_step" StartLine="1574">
                  <Block>&lt;Root&gt;/Coulombs</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1579" EndLine="1582" Method="SoC_Model__Data_Processing_2022_step" StartLine="1580">
                  <Block>&lt;S26&gt;/Negate because state-of-charge and not state-of- discharge is calculated</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1583" EndLine="1595" Method="SoC_Model__Data_Processing_2022_step" StartLine="1587">
                  <Block>&lt;S29&gt;/Calibration of SoC with 2D Look-up table</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1583" EndLine="1595" Method="SoC_Model__Data_Processing_2022_step" StartLine="1587">
                  <Block>&lt;S2&gt;/Moving Average over 10 Samples to smooth discrete  voltage signal1</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1583" EndLine="1595" Method="SoC_Model__Data_Processing_2022_step" StartLine="1587">
                  <Block>&lt;S2&gt;/Moving Average over 10 Samples to smooth discrete current signal1</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1596" EndLine="1599" Method="SoC_Model__Data_Processing_2022_step" StartLine="1597">
                  <Block>&lt;S22&gt;/Delay</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1600" EndLine="1603" Method="SoC_Model__Data_Processing_2022_step" StartLine="1601">
                  <Block>&lt;S22&gt;/Logical Operator</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1604" EndLine="1610" Method="SoC_Model__Data_Processing_2022_step" StartLine="1607">
                  <Block>&lt;S22&gt;/Logical Operator1</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1604" EndLine="1610" Method="SoC_Model__Data_Processing_2022_step" StartLine="1607">
                  <Block>&lt;Root&gt;/Debug_RecalibrationTrigger</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1615" EndLine="1618" Method="SoC_Model__Data_Processing_2022_step" StartLine="1616">
                  <Block>&lt;S4&gt;/Data Type Conversion</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1619" EndLine="1625" Method="SoC_Model__Data_Processing_2022_step" StartLine="1622">
                  <Block>&lt;Root&gt;/Debug_RecalibrationTriggerCounter</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1619" EndLine="1625" Method="SoC_Model__Data_Processing_2022_step" StartLine="1622">
                  <Block>&lt;S4&gt;/Discrete-Time Integrator</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1626" EndLine="1631" Method="SoC_Model__Data_Processing_2022_step" StartLine="1629">
                  <Block>&lt;Root&gt;/Debug_RecalibrationValue</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1626" EndLine="1631" Method="SoC_Model__Data_Processing_2022_step" StartLine="1629">
                  <Block>&lt;S4&gt;/Gain</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1632" EndLine="1637" Method="SoC_Model__Data_Processing_2022_step" StartLine="1635">
                  <Block>&lt;Root&gt;/Debug_LegacyRecalibrationValue</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1632" EndLine="1637" Method="SoC_Model__Data_Processing_2022_step" StartLine="1635">
                  <Block>&lt;S4&gt;/Gain1</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1638" EndLine="1643" Method="SoC_Model__Data_Processing_2022_step" StartLine="1641">
                  <Block>&lt;Root&gt;/Debug_Voltage</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1638" EndLine="1643" Method="SoC_Model__Data_Processing_2022_step" StartLine="1641">
                  <Block>&lt;Root&gt;/Voltage</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1644" EndLine="1649" Method="SoC_Model__Data_Processing_2022_step" StartLine="1647">
                  <Block>&lt;Root&gt;/Debug_Current</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1644" EndLine="1649" Method="SoC_Model__Data_Processing_2022_step" StartLine="1647">
                  <Block>&lt;Root&gt;/Current</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1650" EndLine="1655" Method="SoC_Model__Data_Processing_2022_step" StartLine="1653">
                  <Block>&lt;Root&gt;/Debug_Coulombs</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1650" EndLine="1655" Method="SoC_Model__Data_Processing_2022_step" StartLine="1653">
                  <Block>&lt;Root&gt;/Coulombs</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1656" EndLine="1667" Method="SoC_Model__Data_Processing_2022_step" StartLine="1657">
                  <Block>&lt;S4&gt;/Current Integration (Coloumb Counting)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1668" EndLine="1671" Method="SoC_Model__Data_Processing_2022_step" StartLine="1669">
                  <Block>&lt;S4&gt;/Current Integration (Coloumb Counting)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1672" EndLine="1677" Method="SoC_Model__Data_Processing_2022_step" StartLine="1675">
                  <Block>&lt;Root&gt;/Debug_CountedCoulombsSoC</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1672" EndLine="1677" Method="SoC_Model__Data_Processing_2022_step" StartLine="1675">
                  <Block>&lt;S4&gt;/Gain2</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1678" EndLine="1681" Method="SoC_Model__Data_Processing_2022_step" StartLine="1679">
                  <Block>&lt;S29&gt;/Memory</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1682" EndLine="1691" Method="SoC_Model__Data_Processing_2022_step" StartLine="1685">
                  <Block>&lt;S26&gt;/Current Integration (Coloumb Counting)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1682" EndLine="1691" Method="SoC_Model__Data_Processing_2022_step" StartLine="1685">
                  <Block>&lt;Root&gt;/Debug_RecalibrationTrigger</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1692" EndLine="1695" Method="SoC_Model__Data_Processing_2022_step" StartLine="1693">
                  <Block>&lt;S26&gt;/Eta_C is dependent of SoC</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1696" EndLine="1701" Method="SoC_Model__Data_Processing_2022_step" StartLine="1699">
                  <Block>&lt;S22&gt;/Delay</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1696" EndLine="1701" Method="SoC_Model__Data_Processing_2022_step" StartLine="1699">
                  <Block>&lt;Root&gt;/Debug_RecalibrationTrigger</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1702" EndLine="1707" Method="SoC_Model__Data_Processing_2022_step" StartLine="1705">
                  <Block>&lt;S4&gt;/Discrete-Time Integrator</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1702" EndLine="1707" Method="SoC_Model__Data_Processing_2022_step" StartLine="1705">
                  <Block>&lt;Root&gt;/Debug_RecalibrationTriggerCounter</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1708" EndLine="1714" Method="SoC_Model__Data_Processing_2022_step" StartLine="1709">
                  <Block>&lt;S4&gt;/Current Integration (Coloumb Counting)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1768" EndLine="1780" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1769">
                  <Block>&lt;S33&gt;/FromWs</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1781" EndLine="1783" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1782">
                  <Block>&lt;S30&gt;/Timer with reset to have relaxation of capacity effects</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1784" EndLine="1785" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1785">
                  <Block>&lt;S30&gt;/Timer with reset to have relaxation of capacity effects</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1786" EndLine="1791" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1787">
                  <Block>&lt;Root&gt;/Current</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1792" EndLine="1794" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1793">
                  <Block>&lt;S31&gt;/Timer with reset</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1795" EndLine="1796" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1796">
                  <Block>&lt;S31&gt;/Timer with reset</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1797" EndLine="1799" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1798">
                  <Block>&lt;S32&gt;/Timer with reset to have relaxation of capacity effects</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1800" EndLine="1801" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1801">
                  <Block>&lt;S32&gt;/Timer with reset to have relaxation of capacity effects</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1802" EndLine="1809" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1803">
                  <Block>&lt;Root&gt;/Voltage</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1810" EndLine="1813" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1811">
                  <Block>&lt;S2&gt;/Average Battery Voltage (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1814" EndLine="1815" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1815">
                  <Block>&lt;S2&gt;/Average Battery Voltage (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1816" EndLine="1819" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1817">
                  <Block>&lt;S2&gt;/Average Current Consumption (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1820" EndLine="1821" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1821">
                  <Block>&lt;S2&gt;/Average Current Consumption (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1822" EndLine="1842" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1823">
                  <Block>&lt;S1&gt;/Moving Average over 5 minutes to smooth EstimatedRunningTime  signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1843" EndLine="1852" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1846">
                  <Block>&lt;Root&gt;/CACCheckDetected</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1843" EndLine="1852" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1846">
                  <Block>&lt;Root&gt;/Constant</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1853" EndLine="1855" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1854">
                  <Block>&lt;S29&gt;/Memory</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1856" EndLine="1859" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1857">
                  <Block>&lt;S26&gt;/Current Integration (Coloumb Counting)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1860" EndLine="1862" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1861">
                  <Block>&lt;S26&gt;/Eta_C is dependent of SoC</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1863" EndLine="1865" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1864">
                  <Block>&lt;S22&gt;/Delay</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1866" EndLine="1868" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1867">
                  <Block>&lt;S4&gt;/Discrete-Time Integrator</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1869" EndLine="1872" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1870">
                  <Block>&lt;S4&gt;/Current Integration (Coloumb Counting)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1873" EndLine="1873" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1874">
                  <Block>&lt;S30&gt;/Timer with reset to have relaxation of capacity effects</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1874" EndLine="1876" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1875">
                  <Block>&lt;S34&gt;/Memory</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1877" EndLine="1880" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1878">
                  <Block>&lt;S34&gt;/Timer</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1881" EndLine="1885" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1884">
                  <Block>&lt;S35&gt;/Compare</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1881" EndLine="1885" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1884">
                  <Block>&lt;S34&gt;/timerOut</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1886" EndLine="1887" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1887">
                  <Block>&lt;S30&gt;/Timer with reset to have relaxation of capacity effects</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1888" EndLine="1888" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1889">
                  <Block>&lt;S31&gt;/Timer with reset</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1889" EndLine="1891" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1890">
                  <Block>&lt;S36&gt;/Reset counter</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1892" EndLine="1895" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1893">
                  <Block>&lt;S36&gt;/Timer counter</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1896" EndLine="1900" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1899">
                  <Block>&lt;S37&gt;/Compare</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1896" EndLine="1900" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1899">
                  <Block>&lt;S36&gt;/timerOut</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1901" EndLine="1902" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1902">
                  <Block>&lt;S31&gt;/Timer with reset</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1903" EndLine="1903" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1904">
                  <Block>&lt;S32&gt;/Timer with reset to have relaxation of capacity effects</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1904" EndLine="1906" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1905">
                  <Block>&lt;S38&gt;/Memory</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1907" EndLine="1910" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1908">
                  <Block>&lt;S38&gt;/Timer</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1911" EndLine="1915" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1914">
                  <Block>&lt;S39&gt;/Compare</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1911" EndLine="1915" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1914">
                  <Block>&lt;S38&gt;/timerOut</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1916" EndLine="1917" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1917">
                  <Block>&lt;S32&gt;/Timer with reset to have relaxation of capacity effects</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1918" EndLine="1918" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1919">
                  <Block>&lt;S2&gt;/Average Battery Voltage (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1919" EndLine="1921" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1920">
                  <Block>&lt;S12&gt;/Timer </Block>
               </CodeSection>
               <CodeSection CommentStartLine="1922" EndLine="1926" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1923">
                  <Block>&lt;S12&gt;/Integrate measured current</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1927" EndLine="1931" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1930">
                  <Block>&lt;S12&gt;/Switch to moving average after 3 minutes</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1927" EndLine="1931" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1930">
                  <Block>&lt;S12&gt;/AverageBatteryVoltage</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1932" EndLine="1933" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1933">
                  <Block>&lt;S2&gt;/Average Battery Voltage (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1934" EndLine="1934" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1935">
                  <Block>&lt;S2&gt;/Average Current Consumption (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1935" EndLine="1937" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1936">
                  <Block>&lt;S13&gt;/Timer </Block>
               </CodeSection>
               <CodeSection CommentStartLine="1938" EndLine="1942" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1939">
                  <Block>&lt;S13&gt;/Integrate measured current</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1943" EndLine="1947" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1946">
                  <Block>&lt;Root&gt;/Debug_AverageCurrentConsumption</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1943" EndLine="1947" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1946">
                  <Block>&lt;S13&gt;/AverageCurrentConsumption</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1948" EndLine="1959" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1949">
                  <Block>&lt;S2&gt;/Average Current Consumption (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1960" EndLine="1972" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1961">
                  <Block>&lt;S1&gt;/Moving Average over 5 minutes to smooth EstimatedRunningTime  signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1973" EndLine="1978" Method="SoC_Model__Data_Processing_2022_initialize" StartLine="1974">
                  <Block>&lt;S1&gt;/Moving Average over 5 minutes to smooth EstimatedRunningTime  signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="1998" EndLine="2001" Method="SoC_Model__Data_Processing_2022_terminate" StartLine="1999">
                  <Block>&lt;S2&gt;/Average Battery Voltage (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="2002" EndLine="2003" Method="SoC_Model__Data_Processing_2022_terminate" StartLine="2003">
                  <Block>&lt;S2&gt;/Average Battery Voltage (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="2004" EndLine="2007" Method="SoC_Model__Data_Processing_2022_terminate" StartLine="2005">
                  <Block>&lt;S2&gt;/Average Current Consumption (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="2008" EndLine="2009" Method="SoC_Model__Data_Processing_2022_terminate" StartLine="2009">
                  <Block>&lt;S2&gt;/Average Current Consumption (deactivated while charging)</Block>
               </CodeSection>
               <CodeSection CommentStartLine="2010" EndLine="2023" Method="SoC_Model__Data_Processing_2022_terminate" StartLine="2011">
                  <Block>&lt;S1&gt;/Moving Average over 5 minutes to smooth EstimatedRunningTime  signal</Block>
               </CodeSection>
               <CodeSection CommentStartLine="2024" EndLine="2028" Method="SoC_Model__Data_Processing_2022_terminate" StartLine="2025">
                  <Block>&lt;S1&gt;/Moving Average over 5 minutes to smooth EstimatedRunningTime  signal</Block>
               </CodeSection>
            </SourceFile>
         </DebugInfo>
      </BlockDiagram>
      <DefaultValues>
         <Value>
            <Name>TaskOid</Name>
         </Value>
         <Value>
            <Name>TaskPriority</Name>
            <Value>0</Value>
         </Value>
         <Value>
            <Name>TaskCycleTimeNs</Name>
            <Value>0</Value>
         </Value>
         <Value>
            <Name>TaskPort</Name>
            <Value>0</Value>
         </Value>
         <Value>
            <Name>TaskSortOrder</Name>
            <Value>0</Value>
         </Value>
         <Value>
            <Name>TraceLevelMax</Name>
            <EnumText>tlInfo</EnumText>
         </Value>
         <Value>
            <Name>ModuleCaller</Name>
            <EnumText>CyclicTask</EnumText>
         </Value>
         <Value>
            <Name>CallerVerification</Name>
            <EnumText>Default</EnumText>
         </Value>
         <Value>
            <Name>StepSizeAdaptation</Name>
            <EnumText>RequireMatchingTaskCycleTime</EnumText>
         </Value>
         <Value>
            <Name>ExecutionSequence</Name>
            <EnumText>UpdateBeforeOutputMapping</EnumText>
         </Value>
         <Value>
            <Name>Execute</Name>
            <EnumText>TRUE</EnumText>
         </Value>
         <Value>
            <Name>AccessLockState</Name>
            <EnumText>TCOM_STATE_OP</EnumText>
         </Value>
         <Value>
            <Name>InitExceptionHandling</Name>
            <EnumText>CallerExceptions</EnumText>
         </Value>
         <Value>
            <Name>UpdateExceptionHandling</Name>
            <EnumText>CallerExceptions</EnumText>
         </Value>
      </DefaultValues>
      <ModuleParameters>
         <Parameter DefaultValueAccess="READONLY" OnlineValueAccess="READONLY" StartupValueAccess="WRITE">
            <Name>CallBy</Name>
            <Category>Module parameters</Category>
         </Parameter>
         <Parameter DefaultValueAccess="READONLY" OnlineValueAccess="READONLY" StartupValueAccess="WRITE">
            <Name>ExecutionSequence</Name>
            <Category>Module parameters</Category>
         </Parameter>
         <Parameter DefaultValueAccess="READONLY" OnlineValueAccess="READONLY" StartupValueAccess="WRITE">
            <Name>StepSizeAdaptation</Name>
            <Category>Module parameters</Category>
         </Parameter>
         <Parameter DefaultValueAccess="READONLY" OnlineValueAccess="READONLY" StartupValueAccess="">
            <Name>Initialized</Name>
            <Category>Monitoring</Category>
         </Parameter>
         <Parameter DefaultValueAccess="READONLY" OnlineValueAccess="READONLY" StartupValueAccess="">
            <Name>CycleUpdateExecuted</Name>
            <Category>Monitoring</Category>
         </Parameter>
         <Parameter DefaultValueAccess="READONLY" OnlineValueAccess="" StartupValueAccess="">
            <Name>ModuleInfo</Name>
            <Category>Module identification</Category>
         </Parameter>
         <Parameter DefaultValueAccess="" OnlineValueAccess="READONLY" StartupValueAccess="">
            <Name>ModuleBuildInfo</Name>
            <Category>Module identification</Category>
         </Parameter>
         <Parameter DefaultValueAccess="READONLY" OnlineValueAccess="WRITE" StartupValueAccess="WRITE">
            <Name>Execute</Name>
            <Category>Module parameters</Category>
         </Parameter>
         <Parameter DefaultValueAccess="READONLY" OnlineValueAccess="READONLY" StartupValueAccess="">
            <Name>SimulinkTime</Name>
            <Category>Monitoring</Category>
         </Parameter>
         <Parameter DefaultValueAccess="READONLY" OnlineValueAccess="READONLY" StartupValueAccess="">
            <Name>AccessLockState</Name>
            <Category>Module parameters</Category>
         </Parameter>
      </ModuleParameters>
      <BlockDesigns>
         <BlockDesign>
            <Type>Inport</Type>
            <Border>
               <svg height="30" id="svg3009" version="1.1" width="60">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1" transform="translate(0,-1022.3622)">
                     <rect height="28.121166" id="rect2996" ry="14.060583" style="fill:none;stroke:#000000;stroke-width:1.87883461;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none" width="58.121166" x="0.9394173" y="1023.3016"/>
                  </g>
               </svg>
            </Border>
            <Image>
               <svg height="30" id="svg3009" version="1.1" width="60">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <text id="text3010" style="font-size:8px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="30" xml:space="preserve" y="15"><tspan id="tspan3012" x="30" y="15">Block::Port</tspan></text></svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type>Constant</Type>
            <Image>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1">
                     <text id="text3001" style="font-size:8px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="50" xml:space="preserve" y="50"><tspan id="tspan3003" x="50" y="50">ADS::Value Block::Value</tspan></text></g>
               </svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type SubType="Compare To Constant">SubSystem</Type>
            <Image>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1">
                     <text id="text3001" style="font-size:8px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="50" xml:space="preserve" y="50"><tspan id="tspan3003" x="50" y="50">Block::Operator</tspan></text></g>
               </svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type>Gain</Type>
            <Border>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1" transform="translate(0,-952.36218)">
                     <path d="M 0,100 0,0 100,50 0,100" id="path3005" style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" transform="translate(0,952.36218)"/>
                  </g>
               </svg>
            </Border>
            <Image>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1">
                     <text id="text2991" style="font-size:8px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="5" xml:space="preserve" y="50"><tspan id="tspan2993" x="5" y="50">ADS::Gain Block::Gain</tspan></text></g>
               </svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type>Sum</Type>
            <Image>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1">
                     <text id="text2991" style="font-size:8px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;text-anchor:middle;text-align:center;stroke:none;font-family:Sans" x="50" xml:space="preserve" y="50"><tspan id="tspan2993" x="50" y="50">+</tspan></text></g>
               </svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type>Product</Type>
            <Image>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1" transform="translate(0,-952.36218)">
                     <path d="M 35.89,34.11 66.61,64.82" id="path4361" style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" transform="translate(0,952.36218)"/>
                     <path d="M 66.61,34.11 35.36,64.82" id="path4363" style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" transform="translate(0,952.36218)"/>
                  </g>
               </svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type>Saturate</Type>
            <Image>
               <svg height="100" id="svg2" version="1.1" width="100">
                  <title id="title3802">Saturate</title>
                  <defs id="defs4"/>
                  <metadata id="metadata7"/>
                  <path d="m 21.343889,77.165351 15.019759,0 L 69.631521,24 84,24" id="path3774" style="fill:none;stroke:#000000;stroke-width:0.55226934px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"/>
                  <path d="m 51.778672,20.078738 0,62.598424" id="path3776" style="fill:none;stroke:#000000;stroke-width:0.55226934px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"/>
                  <path d="m 21.739143,50.393698 61.264826,0" id="path3778" style="fill:none;stroke:#000000;stroke-width:0.55226934px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"/>
               </svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type>Switch</Type>
            <Image>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1" transform="translate(0,-952.36218)">
                     <rect height="6.1243801" id="rect3006" style="fill:none;stroke:#000000;stroke-width:0.58110338;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none" width="6.1871104" x="41.154118" y="966.15198"/>
                     <path d="m 41.423146,968.61373 c -13.666931,0 -27.333897,-2e-5 -41.0008279,0" id="path3776" style="fill:none;stroke:#000000;stroke-width:0.58110338;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
                     <path d="m 44.920178,968.55368 35.508632,34.52472 18.651024,0" id="path3778" style="fill:none;stroke:#000000;stroke-width:0.58110338;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
                     <path d="m 16.764368,993.41146 0,20.65474" id="path3780" style="fill:none;stroke:#000000;stroke-width:0.58110338;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
                     <path d="m 16.854023,1003.2585 -16.49895482,0" id="path3782" style="fill:none;stroke:#000000;stroke-width:0.58110338;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
                     <path d="m 0.35506818,1038.8039 41.15773282,0" id="path3784" style="fill:none;stroke:#000000;stroke-width:0.58110338;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"/>
                     <rect height="6.1243801" id="rect3786" style="fill:none;stroke:#000000;stroke-width:0.58110338;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none" width="5.9181056" x="41.423149" y="1035.1414"/>
                  </g>
               </svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type>Outport</Type>
            <Border>
               <svg height="30" id="svg3009" version="1.1" width="60">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1" transform="translate(0,-1022.3622)">
                     <rect height="28.121166" id="rect2996" ry="14.060583" style="fill:none;stroke:#000000;stroke-width:1.87883461;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none" width="58.121166" x="0.9394173" y="1023.3016"/>
                  </g>
               </svg>
            </Border>
            <Image>
               <svg height="30" id="svg3009" version="1.1" width="60">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <text id="text3010" style="font-size:8px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="30" xml:space="preserve" y="15"><tspan id="tspan3012" x="30" y="15">Block::Port</tspan></text></svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type>Goto</Type>
            <Border>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1" transform="translate(0,-952.36218)">
                     <path d="m 0,1002.3622 25,-50.00002 75,0 0,100.00002 -75,0 -25,-50" id="path3045" style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"/>
                  </g>
               </svg>
            </Border>
            <Image>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1">
                     <text id="text3001" style="font-size:8px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="50" xml:space="preserve" y="50"><tspan id="tspan3003" x="50" y="50">ADS::Value Block::GotoTag</tspan></text></g>
               </svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type SubType="Compare To Constant">SubSystem</Type>
            <Image>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1">
                     <text id="text3001" style="font-size:8px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="50" xml:space="preserve" y="50"><tspan id="tspan3003" x="50" y="50">Block::Operator</tspan></text></g>
               </svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type>Logic</Type>
            <Image>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1">
                     <text id="text3001" style="font-size:8px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="50" xml:space="preserve" y="50"><tspan id="tspan3003" x="50" y="50">Block::Operator</tspan></text></g>
               </svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type>From</Type>
            <Border>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1" transform="translate(0,-952.36218)">
                     <path d="m 100,1002.3622 -25,-50.00002 -75,0 0,100.00002 75,0 25,-50" id="path3045" style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"/>
                  </g>
               </svg>
            </Border>
            <Image>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1">
                     <text id="text3001" style="font-size:8px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="50" xml:space="preserve" y="50"><tspan id="tspan3003" x="50" y="50">ADS::Value Block::FromTag</tspan></text></g>
               </svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type>Scope</Type>
            <Image>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1" transform="translate(0,-952.36218)">
                     <rect height="42.426407" id="rect3832" style="fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none" width="74.246216" x="12.687822" y="962.45862"/>
                  </g>
               </svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type>MCodeDisplayBlock</Type>
            <Image>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1">
                     <text id="text3001" style="font-size:6px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#0000FF;fill-opacity:1;stroke:none;font-family:Sans" x="50" xml:space="preserve" y="50"><tspan id="tspan3003" x="50" y="50">ADS::Name</tspan></text></g>
               </svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type>Terminator</Type>
            <Image>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1" transform="translate(0,-952.36218)">
                     <g id="g3036" style="stroke:#000000;stroke-width:2;stroke-miterlimit:4;stroke-dasharray:none">
                        <path d="m 13.571429,50.357143 66.428571,0" id="path3032" style="fill:none;stroke:#000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" transform="translate(0,952.36218)"/>
                        <path d="m 32.143,26.785714 47.857,0 0,47.5 -47.857,0" id="path3034" style="fill:none;stroke:#000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none" transform="translate(0,952.36218)"/>
                     </g>
                  </g>
               </svg>
            </Image>
         </BlockDesign>
         <BlockDesign>
            <Type>Abs</Type>
            <Image>
               <svg height="100" id="svg3009" version="1.1" width="100">
                  <defs id="defs3011"/>
                  <metadata id="metadata3014"/>
                  <g id="layer1">
                     <text id="text2991" style="font-size:8px;font-style:normal;font-weight:normal;text-align:center;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans" x="50.0" xml:space="preserve" y="50.0"><tspan id="tspan2993" x="50.0" y="50.0">|A|</tspan></text></g>
               </svg>
            </Image>
         </BlockDesign>
      </BlockDesigns>
   </ModuleInfo>
</TctGeneratedModules>